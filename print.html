<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js iota">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>IOTA Client Library</title>
                <meta name="robots" content="noindex" />
        
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="shortcut icon" href="">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500" rel="stylesheet" type="text/css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
                <link rel="stylesheet" href="./docs/theme/css/custom/header.css">
        
        
        <script src='/public/build/bundle.js'></script>

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "iota";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('iota')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="welcome.html"><strong aria-hidden="true">1.</strong> Welcome</a></li><li class="chapter-item expanded "><a href="overview/index.html"><strong aria-hidden="true">2.</strong> Overview</a></li><li class="chapter-item expanded "><a href="libraries/index.html"><strong aria-hidden="true">3.</strong> Libraries</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="libraries/rust/index.html"><strong aria-hidden="true">3.1.</strong> Rust</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="libraries/rust/getting_started.html"><strong aria-hidden="true">3.1.1.</strong> Getting Started</a></li><li class="chapter-item expanded "><a href="libraries/rust/examples.html"><strong aria-hidden="true">3.1.2.</strong> Examples</a></li><li class="chapter-item expanded "><a href="libraries/rust/api_reference.html"><strong aria-hidden="true">3.1.3.</strong> API Reference</a></li><li class="chapter-item expanded "><a href="libraries/rust/troubleshooting.html"><strong aria-hidden="true">3.1.4.</strong> Troubleshooting</a></li></ol></li><li class="chapter-item expanded "><a href="libraries/nodejs/index.html"><strong aria-hidden="true">3.2.</strong> Node.js</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="libraries/nodejs/getting_started.html"><strong aria-hidden="true">3.2.1.</strong> Getting Started</a></li><li class="chapter-item expanded "><a href="libraries/nodejs/examples.html"><strong aria-hidden="true">3.2.2.</strong> Examples</a></li><li class="chapter-item expanded "><a href="libraries/nodejs/api_reference.html"><strong aria-hidden="true">3.2.3.</strong> API Reference</a></li><li class="chapter-item expanded "><a href="libraries/nodejs/troubleshooting.html"><strong aria-hidden="true">3.2.4.</strong> Troubleshooting</a></li></ol></li><li class="chapter-item expanded "><a href="libraries/python/index.html"><strong aria-hidden="true">3.3.</strong> Python</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="libraries/python/getting_started.html"><strong aria-hidden="true">3.3.1.</strong> Getting Started</a></li><li class="chapter-item expanded "><a href="libraries/python/examples.html"><strong aria-hidden="true">3.3.2.</strong> Examples</a></li><li class="chapter-item expanded "><a href="libraries/python/api_reference.html"><strong aria-hidden="true">3.3.3.</strong> API Reference</a></li><li class="chapter-item expanded "><a href="libraries/python/troubleshooting.html"><strong aria-hidden="true">3.3.4.</strong> Troubleshooting</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="specs/index.html"><strong aria-hidden="true">4.</strong> Specification</a></li><li class="chapter-item expanded "><a href="contribute.html"><strong aria-hidden="true">5.</strong> Contribute</a></li></ol>            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div class="logo-wrapper">
    <svg id="logo" width="60" height="60" viewBox="0 0 60 60" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M40.4006 12.8961C41.8945 12.8961 43.1056 11.6882 43.1056 10.1981C43.1056 8.70796 41.8945 7.5 40.4006 7.5C38.9066 7.5 37.6956 8.70796 37.6956 10.1981C37.6956 11.6882 38.9066 12.8961 40.4006 12.8961Z" fill="#485776"></path><path d="M43.4438 51.0067C44.9377 51.0067 46.1488 49.7987 46.1488 48.3086C46.1488 46.8186 44.9377 45.6106 43.4438 45.6106C41.9498 45.6106 40.7388 46.8186 40.7388 48.3086C40.7388 49.7987 41.9498 51.0067 43.4438 51.0067Z" fill="#485776"></path><path d="M41.1739 19.6414C42.4277 19.6414 43.4441 18.6276 43.4441 17.377C43.4441 16.1264 42.4277 15.1125 41.1739 15.1125C39.92 15.1125 38.9036 16.1264 38.9036 17.377C38.9036 18.6276 39.92 19.6414 41.1739 19.6414Z" fill="#485776"></path><path d="M47.2122 20.5084C48.466 20.5084 49.4825 19.4945 49.4825 18.2439C49.4825 16.9933 48.466 15.9795 47.2122 15.9795C45.9583 15.9795 44.9419 16.9933 44.9419 18.2439C44.9419 19.4945 45.9583 20.5084 47.2122 20.5084Z" fill="#485776"></path><path d="M40.4012 25.3746C41.4683 25.3746 42.3333 24.5118 42.3333 23.4475C42.3333 22.3831 41.4683 21.5203 40.4012 21.5203C39.3341 21.5203 38.469 22.3831 38.469 23.4475C38.469 24.5118 39.3341 25.3746 40.4012 25.3746Z" fill="#485776"></path><path d="M46.4385 26.1942C47.5056 26.1942 48.3707 25.3314 48.3707 24.267C48.3707 23.2027 47.5056 22.3398 46.4385 22.3398C45.3714 22.3398 44.5063 23.2027 44.5063 24.267C44.5063 25.3314 45.3714 26.1942 46.4385 26.1942Z" fill="#485776"></path><path d="M51.2693 28.0729C52.3364 28.0729 53.2015 27.21 53.2015 26.1457C53.2015 25.0813 52.3364 24.2185 51.2693 24.2185C50.2022 24.2185 49.3372 25.0813 49.3372 26.1457C49.3372 27.21 50.2022 28.0729 51.2693 28.0729Z" fill="#485776"></path><path d="M44.6516 30.8191C45.5853 30.8191 46.3422 30.0641 46.3422 29.1328C46.3422 28.2015 45.5853 27.4465 44.6516 27.4465C43.7179 27.4465 42.9609 28.2015 42.9609 29.1328C42.9609 30.0641 43.7179 30.8191 44.6516 30.8191Z" fill="#485776"></path><path d="M38.6137 29.9995C39.5475 29.9995 40.3044 29.2446 40.3044 28.3132C40.3044 27.3819 39.5475 26.627 38.6137 26.627C37.68 26.627 36.9231 27.3819 36.9231 28.3132C36.9231 29.2446 37.68 29.9995 38.6137 29.9995Z" fill="#485776"></path><path d="M49.5302 32.6978C50.464 32.6978 51.2209 31.9428 51.2209 31.0115C51.2209 30.0802 50.464 29.3252 49.5302 29.3252C48.5965 29.3252 47.8396 30.0802 47.8396 31.0115C47.8396 31.9428 48.5965 32.6978 49.5302 32.6978Z" fill="#485776"></path><path d="M42.2367 34.3358C43.037 34.3358 43.6858 33.6887 43.6858 32.8905C43.6858 32.0922 43.037 31.4451 42.2367 31.4451C41.4364 31.4451 40.7876 32.0922 40.7876 32.8905C40.7876 33.6887 41.4364 34.3358 42.2367 34.3358Z" fill="#485776"></path><path d="M47.1154 36.1669C47.9157 36.1669 48.5645 35.5198 48.5645 34.7215C48.5645 33.9232 47.9157 33.2761 47.1154 33.2761C46.3151 33.2761 45.6663 33.9232 45.6663 34.7215C45.6663 35.5198 46.3151 36.1669 47.1154 36.1669Z" fill="#485776"></path><path d="M36.2465 33.4684C37.0468 33.4684 37.6956 32.8213 37.6956 32.023C37.6956 31.2248 37.0468 30.5776 36.2465 30.5776C35.4462 30.5776 34.7974 31.2248 34.7974 32.023C34.7974 32.8213 35.4462 33.4684 36.2465 33.4684Z" fill="#485776"></path><path d="M39.5797 36.6971C40.2466 36.6971 40.7873 36.1578 40.7873 35.4926C40.7873 34.8274 40.2466 34.2881 39.5797 34.2881C38.9127 34.2881 38.3721 34.8274 38.3721 35.4926C38.3721 36.1578 38.9127 36.6971 39.5797 36.6971Z" fill="#485776"></path><path d="M41.6567 40.0213C42.2436 40.0213 42.7194 39.5467 42.7194 38.9613C42.7194 38.3759 42.2436 37.9014 41.6567 37.9014C41.0698 37.9014 40.594 38.3759 40.594 38.9613C40.594 39.5467 41.0698 40.0213 41.6567 40.0213Z" fill="#485776"></path><path d="M39.0965 40.6961C39.5767 40.6961 39.966 40.3079 39.966 39.8289C39.966 39.3499 39.5767 38.9617 39.0965 38.9617C38.6163 38.9617 38.2271 39.3499 38.2271 39.8289C38.2271 40.3079 38.6163 40.6961 39.0965 40.6961Z" fill="#485776"></path><path d="M36.8261 38.1904C37.413 38.1904 37.8888 37.7159 37.8888 37.1305C37.8888 36.5451 37.413 36.0706 36.8261 36.0706C36.2392 36.0706 35.7634 36.5451 35.7634 37.1305C35.7634 37.7159 36.2392 38.1904 36.8261 38.1904Z" fill="#485776"></path><path d="M33.5421 35.878C34.209 35.878 34.7497 35.3387 34.7497 34.6735C34.7497 34.0083 34.209 33.469 33.5421 33.469C32.8751 33.469 32.3345 34.0083 32.3345 34.6735C32.3345 35.3387 32.8751 35.878 33.5421 35.878Z" fill="#485776"></path><path d="M33.4932 26.8196C34.1602 26.8196 34.7008 26.2804 34.7008 25.6151C34.7008 24.9499 34.1602 24.4106 33.4932 24.4106C32.8263 24.4106 32.2856 24.9499 32.2856 25.6151C32.2856 26.2804 32.8263 26.8196 33.4932 26.8196Z" fill="#485776"></path><path d="M34.0246 22.5799C34.6115 22.5799 35.0873 22.1053 35.0873 21.5199C35.0873 20.9345 34.6115 20.46 34.0246 20.46C33.4377 20.46 32.9619 20.9345 32.9619 21.5199C32.9619 22.1053 33.4377 22.5799 34.0246 22.5799Z" fill="#485776"></path><path d="M35.1842 19.1109C35.6644 19.1109 36.0537 18.7227 36.0537 18.2437C36.0537 17.7647 35.6644 17.3765 35.1842 17.3765C34.704 17.3765 34.3147 17.7647 34.3147 18.2437C34.3147 18.7227 34.704 19.1109 35.1842 19.1109Z" fill="#485776"></path><path d="M33.1552 17.4732C33.7421 17.4732 34.2179 16.9986 34.2179 16.4132C34.2179 15.8278 33.7421 15.3533 33.1552 15.3533C32.5683 15.3533 32.0925 15.8278 32.0925 16.4132C32.0925 16.9986 32.5683 17.4732 33.1552 17.4732Z" fill="#485776"></path><path d="M44.4102 38.5274C45.0772 38.5274 45.6178 37.9881 45.6178 37.3229C45.6178 36.6577 45.0772 36.1184 44.4102 36.1184C43.7433 36.1184 43.2026 36.6577 43.2026 37.3229C43.2026 37.9881 43.7433 38.5274 44.4102 38.5274Z" fill="#485776"></path><path d="M30.4019 16.076C31.0689 16.076 31.6095 15.5367 31.6095 14.8715C31.6095 14.2063 31.0689 13.667 30.4019 13.667C29.735 13.667 29.1943 14.2063 29.1943 14.8715C29.1943 15.5367 29.735 16.076 30.4019 16.076Z" fill="#485776"></path><path d="M31.2232 21.1832C31.8902 21.1832 32.4308 20.6439 32.4308 19.9787C32.4308 19.3134 31.8902 18.7742 31.2232 18.7742C30.5563 18.7742 30.0156 19.3134 30.0156 19.9787C30.0156 20.6439 30.5563 21.1832 31.2232 21.1832Z" fill="#485776"></path><path d="M29.871 26.049C30.6713 26.049 31.3201 25.4019 31.3201 24.6036C31.3201 23.8053 30.6713 23.1582 29.871 23.1582C29.0707 23.1582 28.4219 23.8053 28.4219 24.6036C28.4219 25.4019 29.0707 26.049 29.871 26.049Z" fill="#485776"></path><path d="M25.4748 26.0488C26.4085 26.0488 27.1655 25.2939 27.1655 24.3626C27.1655 23.4312 26.4085 22.6763 25.4748 22.6763C24.5411 22.6763 23.7842 23.4312 23.7842 24.3626C23.7842 25.2939 24.5411 26.0488 25.4748 26.0488Z" fill="#485776"></path><path d="M20.355 27.2057C21.4221 27.2057 22.2872 26.3429 22.2872 25.2785C22.2872 24.2141 21.4221 23.3513 20.355 23.3513C19.2879 23.3513 18.4229 24.2141 18.4229 25.2785C18.4229 26.3429 19.2879 27.2057 20.355 27.2057Z" fill="#485776"></path><path d="M14.7517 29.9522C16.0056 29.9522 17.022 28.9384 17.022 27.6878C17.022 26.4372 16.0056 25.4233 14.7517 25.4233C13.4979 25.4233 12.4814 26.4372 12.4814 27.6878C12.4814 28.9384 13.4979 29.9522 14.7517 29.9522Z" fill="#485776"></path><path d="M8.95503 34.577C10.449 34.577 11.6601 33.3691 11.6601 31.879C11.6601 30.3889 10.449 29.1809 8.95503 29.1809C7.46109 29.1809 6.25 30.3889 6.25 31.879C6.25 33.3691 7.46109 34.577 8.95503 34.577Z" fill="#485776"></path><path d="M12.4817 24.3148C13.7356 24.3148 14.752 23.3009 14.752 22.0503C14.752 20.7997 13.7356 19.7859 12.4817 19.7859C11.2279 19.7859 10.2114 20.7997 10.2114 22.0503C10.2114 23.3009 11.2279 24.3148 12.4817 24.3148Z" fill="#485776"></path><path d="M18.0843 21.5682C19.1514 21.5682 20.0164 20.7054 20.0164 19.6411C20.0164 18.5767 19.1514 17.7139 18.0843 17.7139C17.0172 17.7139 16.1521 18.5767 16.1521 19.6411C16.1521 20.7054 17.0172 21.5682 18.0843 21.5682Z" fill="#485776"></path><path d="M17.263 16.4611C18.3301 16.4611 19.1951 15.5982 19.1951 14.5339C19.1951 13.4695 18.3301 12.6067 17.263 12.6067C16.1959 12.6067 15.3308 13.4695 15.3308 14.5339C15.3308 15.5982 16.1959 16.4611 17.263 16.4611Z" fill="#485776"></path><path d="M22.3835 15.3049C23.3172 15.3049 24.0742 14.55 24.0742 13.6187C24.0742 12.6873 23.3172 11.9324 22.3835 11.9324C21.4498 11.9324 20.6929 12.6873 20.6929 13.6187C20.6929 14.55 21.4498 15.3049 22.3835 15.3049Z" fill="#485776"></path><path d="M26.779 15.3051C27.5793 15.3051 28.2281 14.658 28.2281 13.8597C28.2281 13.0614 27.5793 12.4143 26.779 12.4143C25.9786 12.4143 25.3298 13.0614 25.3298 13.8597C25.3298 14.658 25.9786 15.3051 26.779 15.3051Z" fill="#485776"></path><path d="M27.6003 20.4118C28.4006 20.4118 29.0494 19.7646 29.0494 18.9664C29.0494 18.1681 28.4006 17.521 27.6003 17.521C26.7999 17.521 26.1511 18.1681 26.1511 18.9664C26.1511 19.7646 26.7999 20.4118 27.6003 20.4118Z" fill="#485776"></path><path d="M23.2048 20.4605C24.1385 20.4605 24.8955 19.7055 24.8955 18.7742C24.8955 17.8429 24.1385 17.0879 23.2048 17.0879C22.2711 17.0879 21.5142 17.8429 21.5142 18.7742C21.5142 19.7055 22.2711 20.4605 23.2048 20.4605Z" fill="#485776"></path><path d="M18.4225 33.276C18.9026 33.276 19.2919 32.8877 19.2919 32.4087C19.2919 31.9298 18.9026 31.5415 18.4225 31.5415C17.9423 31.5415 17.553 31.9298 17.553 32.4087C17.553 32.8877 17.9423 33.276 18.4225 33.276Z" fill="#485776"></path><path d="M21.9006 32.8428C22.4875 32.8428 22.9633 32.3682 22.9633 31.7828C22.9633 31.1975 22.4875 30.7229 21.9006 30.7229C21.3137 30.7229 20.8379 31.1975 20.8379 31.7828C20.8379 32.3682 21.3137 32.8428 21.9006 32.8428Z" fill="#485776"></path><path d="M25.7161 31.3975C26.3831 31.3975 26.9237 30.8582 26.9237 30.193C26.9237 29.5278 26.3831 28.9885 25.7161 28.9885C25.0492 28.9885 24.5085 29.5278 24.5085 30.193C24.5085 30.8582 25.0492 31.3975 25.7161 31.3975Z" fill="#485776"></path><path d="M26.6342 35.2516C27.4345 35.2516 28.0833 34.6045 28.0833 33.8062C28.0833 33.008 27.4345 32.3608 26.6342 32.3608C25.8339 32.3608 25.1851 33.008 25.1851 33.8062C25.1851 34.6045 25.8339 35.2516 26.6342 35.2516Z" fill="#485776"></path><path d="M21.9974 36.1666C22.6643 36.1666 23.205 35.6273 23.205 34.9621C23.205 34.2968 22.6643 33.7576 21.9974 33.7576C21.3305 33.7576 20.7898 34.2968 20.7898 34.9621C20.7898 35.6273 21.3305 36.1666 21.9974 36.1666Z" fill="#485776"></path><path d="M17.8911 36.1184C18.478 36.1184 18.9538 35.6439 18.9538 35.0585C18.9538 34.4731 18.478 33.9985 17.8911 33.9985C17.3042 33.9985 16.8284 34.4731 16.8284 35.0585C16.8284 35.6439 17.3042 36.1184 17.8911 36.1184Z" fill="#485776"></path><path d="M17.939 39.4432C18.606 39.4432 19.1467 38.9039 19.1467 38.2387C19.1467 37.5734 18.606 37.0342 17.939 37.0342C17.2721 37.0342 16.7314 37.5734 16.7314 38.2387C16.7314 38.9039 17.2721 39.4432 17.939 39.4432Z" fill="#485776"></path><path d="M22.8664 40.0692C23.6667 40.0692 24.3155 39.4221 24.3155 38.6239C24.3155 37.8256 23.6667 37.1785 22.8664 37.1785C22.066 37.1785 21.4172 37.8256 21.4172 38.6239C21.4172 39.4221 22.066 40.0692 22.8664 40.0692Z" fill="#485776"></path><path d="M28.6152 39.4431C29.5489 39.4431 30.3058 38.6882 30.3058 37.7568C30.3058 36.8255 29.5489 36.0706 28.6152 36.0706C27.6815 36.0706 26.9246 36.8255 26.9246 37.7568C26.9246 38.6882 27.6815 39.4431 28.6152 39.4431Z" fill="#485776"></path><path d="M31.9956 43.6344C33.0627 43.6344 33.9278 42.7716 33.9278 41.7072C33.9278 40.6429 33.0627 39.78 31.9956 39.78C30.9285 39.78 30.0635 40.6429 30.0635 41.7072C30.0635 42.7716 30.9285 43.6344 31.9956 43.6344Z" fill="#485776"></path><path d="M24.8955 44.2129C25.8292 44.2129 26.5861 43.4579 26.5861 42.5266C26.5861 41.5953 25.8292 40.8403 24.8955 40.8403C23.9618 40.8403 23.2048 41.5953 23.2048 42.5266C23.2048 43.4579 23.9618 44.2129 24.8955 44.2129Z" fill="#485776"></path><path d="M20.886 47.4888C21.8197 47.4888 22.5766 46.7338 22.5766 45.8025C22.5766 44.8712 21.8197 44.1162 20.886 44.1162C19.9522 44.1162 19.1953 44.8712 19.1953 45.8025C19.1953 46.7338 19.9522 47.4888 20.886 47.4888Z" fill="#485776"></path><path d="M24.2188 51.7289C25.2859 51.7289 26.1509 50.8661 26.1509 49.8017C26.1509 48.7373 25.2859 47.8745 24.2188 47.8745C23.1517 47.8745 22.2866 48.7373 22.2866 49.8017C22.2866 50.8661 23.1517 51.7289 24.2188 51.7289Z" fill="#485776"></path><path d="M33.107 52.5001C34.3608 52.5001 35.3773 51.4863 35.3773 50.2356C35.3773 48.985 34.3608 47.9712 33.107 47.9712C31.8531 47.9712 30.8367 48.985 30.8367 50.2356C30.8367 51.4863 31.8531 52.5001 33.107 52.5001Z" fill="#485776"></path><path d="M28.2283 48.4525C29.2954 48.4525 30.1605 47.5897 30.1605 46.5253C30.1605 45.461 29.2954 44.5981 28.2283 44.5981C27.1612 44.5981 26.2961 45.461 26.2961 46.5253C26.2961 47.5897 27.1612 48.4525 28.2283 48.4525Z" fill="#485776"></path><path d="M36.8267 47.6822C38.0805 47.6822 39.097 46.6684 39.097 45.4178C39.097 44.1671 38.0805 43.1533 36.8267 43.1533C35.5728 43.1533 34.5564 44.1671 34.5564 45.4178C34.5564 46.6684 35.5728 47.6822 36.8267 47.6822Z" fill="#485776"></path><path d="M18.8571 43.3458C19.6574 43.3458 20.3062 42.6987 20.3062 41.9005C20.3062 41.1022 19.6574 40.4551 18.8571 40.4551C18.0568 40.4551 17.408 41.1022 17.408 41.9005C17.408 42.6987 18.0568 43.3458 18.8571 43.3458Z" fill="#485776"></path></svg>
</div>
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="iota">IOTA (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                                                <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                                            </div>

                    <h1 class="menu-title">IOTA Client Library</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                                                <a href="https://github.com/iotaledger/iota.rs" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                                            </div>
                </div>

                                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="welcome"><a class="header" href="#welcome">Welcome</a></h1>
<p>This is the documentation for the official IOTA Client Library. It can be used to easily interact with IOTA network (Tangle) via <a href="https://chrysalis.docs.iota.org/node-software/node-software.html">IOTA node software</a>. Official IOTA libraries serve as <code>one-source-code-of-truth</code> to IOTA users and providing binding to other programming languages. You can read more about core principles behind IOTA client libraries in the following blog <a href="https://blog.iota.org/the-new-iota-client-libraries-harder-better-faster-stronger/">post</a>.</p>
<p>Example of tasks that <code>iota.rs</code> is able to help with:</p>
<ul>
<li>Create messages and transactions</li>
<li>Sign transactions</li>
<li>Generate addresses</li>
<li>Interact with an IOTA node</li>
</ul>
<blockquote>
<p>Please note: there is also available <code>wallet.rs</code> library that contains all the logic to safely build wallets or integrations that require value-based IOTA transfers. We strongly recommend to leverage <a href="https://wallet-lib.docs.iota.org/">wallet.rs library</a> in case one is more focused on IOTA value-based transfers since it integrates the best security practices including our <a href="https://blog.iota.org/iota-stronghold-6ce55d311d7c/">stronghold enclave</a>.</p>
</blockquote>
<h2 id="changes-from-iota-10-to-15"><a class="header" href="#changes-from-iota-10-to-15">Changes from IOTA 1.0 to 1.5</a></h2>
<p>For an overview of all significant changes in the protocol, please see <a href="https://chrysalis.docs.iota.org/guides/index.html">Chrysalis documentation</a>.</p>
<h2 id="testnet"><a class="header" href="#testnet">Testnet</a></h2>
<p>To join the Chrysalis public testnet checkout <a href="https://blog.iota.org/chrysalis-phase-2-testnet-out-now/">this link</a>. More information about Chrysalis components is available at <a href="https://chrysalis.docs.iota.org/">documentation portal</a>.</p>
<h2 id="joining-the-discussion"><a class="header" href="#joining-the-discussion">Joining the discussion</a></h2>
<p>If you want to get involved in discussions about this library, or you're looking for support, go to the #clients-discussion channel on <a href="https://discord.iota.org">Discord</a>.</p>
<h2 id="what-you-will-find-here"><a class="header" href="#what-you-will-find-here">What you will find here</a></h2>
<p>This documentation has five paths. </p>
<ol>
<li>The Overview, an detailed overview of the client library. </li>
<li>Libraries bindings, all avaiable programming languages and their resources.</li>
<li>The Specification, detailed explaination requirements and functionality.</li>
<li>Contribute, how you can work on the client software.</li>
<li>Get in touch, join the community and become part of the X-Team!</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="overview"><a class="header" href="#overview">Overview</a></h1>
<p>The IOTA client library is a stateless library that provides a high level abstractions on top of IOTA node software to help interact with IOTA network in user friendly way and allows you to do the following, for instance:</p>
<ul>
<li>Create messages and transactions</li>
<li>Sign transactions</li>
<li>Generate addresses</li>
<li>Interact with an IOTA node</li>
</ul>
<h2 id="iota-client-library-in-a-nutshell"><a class="header" href="#iota-client-library-in-a-nutshell">IOTA client library in a nutshell</a></h2>
<p>The library provides two types of API calls under a common interface:</p>
<ul>
<li><code>Full node API calls</code>: those calls are basically translated to native node rest api calls. For more information, please see <a href="https://editor.swagger.io/?url=https://raw.githubusercontent.com/rufsam/protocol-rfcs/master/text/0026-rest-api/rest-api.yaml">node rest API reference</a></li>
<li><code>General high level API calls</code>: those are convenience functions with some typical default parameters in order to use them in a straightforward manner. They typically implement several recommended steps for the given task. Implementation details are part of the full specification</li>
</ul>
<p>See the full specification <a href="overview/../specs/">here</a>.</p>
<h2 id="high-level-layered-overview"><a class="header" href="#high-level-layered-overview">High level layered overview:</a></h2>
<p><img src="overview/layered_overview.svg" alt="iota layers overview" /></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iota-client-libraries"><a class="header" href="#iota-client-libraries">IOTA Client libraries</a></h1>
<p>There are currently available the following official bindings to <code>iota.rs</code>:</p>
<ul>
<li><a href="libraries/./rust/">Rust</a> </li>
<li><a href="libraries/./nodejs/">Node.js</a> </li>
<li><a href="libraries/./python/">Python</a> </li>
</ul>
<h2 id="getting-started"><a class="header" href="#getting-started">Getting Started</a></h2>
<p>It is a recommended approach to start your interactions with IOTA on a <code>testnet</code> network. API load balancer: https://api.lb-0.testnet.chrysalis2.com:443</p>
<p>Network explorer is available at <a href="https://explorer.iota.org/testnet">IOTA Tangle Explorer</a>.</p>
<p>In order to properly test value-based transactions on testnet network, you are going to need some tokens! You can get some testnet tokens using the <a href="https://faucet.testnet.chrysalis2.com/">faucet</a>. However, we strongly recommend to leverage official <a href="https://wallet-lib.docs.iota.org/">wallet.rs</a> library in case of value-based IOTA transfers.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iota-client-rust-library"><a class="header" href="#iota-client-rust-library">IOTA Client Rust Library</a></h1>
<p><a href="https://github.com/iotaledger/iota.rs"><img src="https://img.shields.io/badge/Status-Alpha-yellow.svg" alt="status" /></a></p>
<h2 id="joining-the-discussion-1"><a class="header" href="#joining-the-discussion-1">Joining the discussion</a></h2>
<p>If you want to get involved in discussions about this library, or you're looking for support, go to the #clients-discussion channel on <a href="https://discord.iota.org">Discord</a>.</p>
<h2 id="overview-1"><a class="header" href="#overview-1">Overview</a></h2>
<ul>
<li><a href="libraries/rust/">Getting Started with iota.rs</a></li>
<li><a href="libraries/rust/">Examples</a></li>
<li><a href="libraries/rust/">API Reference</a></li>
<li><a href="libraries/rust/">Troubleshooting</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="getting-started-with-rust"><a class="header" href="#getting-started-with-rust">Getting Started with Rust</a></h1>
<h2 id="requirements"><a class="header" href="#requirements">Requirements</a></h2>
<p>To use the library, we recommend you update Rust to latest stable version <a href="https://github.com/rust-lang/rustup.rs#keeping-rust-up-to-date"><code>$ rustup update stable</code></a>. Nightly should be fine but some changes might not be compatible.</p>
<p><code>no_std</code> is not currently supported, but we are working on it in <a href="https://github.com/iotaledger/bee">bee</a>, and will provide it as feature once the new implementation is ready.</p>
<h2 id="using-the-library"><a class="header" href="#using-the-library">Using the library</a></h2>
<p>Using the library is easy, just add it as dependency in your <code>Cargo.toml</code>:</p>
<pre><code class="language-bash">[dependencies]
iota-client = { git = &quot;https://github.com/iotaledger/iota.rs&quot;, branch = &quot;dev&quot; }
</code></pre>
<p>And then you can use the library in your code with <code>use iota_client;</code>.</p>
<h3 id="initialisation"><a class="header" href="#initialisation">Initialisation</a></h3>
<p>This example fetches node information</p>
<pre><pre class="playground"><code class="language-rust">use iota_client::Client;

#[tokio::main]
async fn main() {
    let iota = Client::builder() // Crate a client instance builder
        .with_node(&quot;https://api.lb-0.testnet.chrysalis2.com&quot;)
        .unwrap()
        .finish()
        .await
        .unwrap();

    let info = iota.get_info().await.unwrap();
    println!(&quot;Nodeinfo: {:?}&quot;, info);
}
</code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="examples"><a class="header" href="#examples">Examples</a></h1>
<p>It's possible to send transactions with iota.rs, but we strongly recommend to use official <code>wallet.rs</code> library together with <code>stronghold.rs</code> enclave for value-based transfers. This combination incorporates the best security practices while dealing with seeds, related addresses and <code>UTXO</code>. See more information on <a href="https://chrysalis.docs.iota.org/libraries/wallet.html">wallet docs</a>.</p>
<pre><code class="language-bash">git clone https://github.com/iotaledger/iota.rs
</code></pre>
<pre><code class="language-bash">cd iota.rs
</code></pre>
<p>Rename the <code>.env.example</code> file to <code>.env</code>.</p>
<p>Run the examples like:</p>
<pre><code class="language-bash">cargo run --example 01_get_info --release
</code></pre>
<pre><pre class="playground"><code class="language-rust">// Copyright 2021 IOTA Stiftung
// SPDX-License-Identifier: Apache-2.0

//! cargo run --example 01_get_info --release

use iota_client::Client;

/// In this example we will get information about the node

#[tokio::main]
async fn main() {
    // Create a client instance
    let iota = Client::builder()
        .with_node(&quot;https://api.lb-0.testnet.chrysalis2.com&quot;) // Insert your node URL here
        // Node with optional authentication
        // .with_node_auth(
        //     &quot;https://somechrysalisiotanode.com&quot;,
        //     Some(&quot;Some JWT&quot;),
        //     Some((&quot;name&quot;, &quot;password&quot;)),
        // )
        .unwrap()
        .finish()
        .await
        .unwrap();

    let info = iota.get_info().await.unwrap();
    println!(&quot;Node Info: {:?}&quot;, info);
}
</code></pre></pre>
<pre><pre class="playground"><code class="language-rust">// Copyright 2021 IOTA Stiftung
// SPDX-License-Identifier: Apache-2.0

//! cargo run --example 02_generate_seed --release

use iota_client::crypto::signatures::ed25519::SecretKey;

/// In this example we will generate a seed

#[tokio::main]
async fn main() {
    let secret_key = SecretKey::generate().unwrap();
    println!(&quot;{}&quot;, hex::encode(&amp;secret_key.to_le_bytes()));
}
</code></pre></pre>
<pre><pre class="playground"><code class="language-rust">// Copyright 2021 IOTA Stiftung
// SPDX-License-Identifier: Apache-2.0

//! cargo run --example 03_generate_addresses --release

use iota_client::{api::GetAddressesBuilder, Client, Seed};
extern crate dotenv;
use dotenv::dotenv;
use std::env;

/// In this example we will create addresses from a seed defined in .env

#[tokio::main]
async fn main() {
    // Create a client instance
    let iota = Client::builder()
        .with_node(&quot;https://api.lb-0.testnet.chrysalis2.com&quot;) // Insert your node URL here
        .unwrap()
        .finish()
        .await
        .unwrap();

    // This example uses dotenv, which is not safe for use in production
    dotenv().ok();

    let seed = Seed::from_bytes(&amp;hex::decode(env::var(&quot;NONSECURE_USE_OF_DEVELOPMENT_SEED_1&quot;).unwrap()).unwrap());

    // Generate addresses with default account index and range
    let addresses = iota.get_addresses(&amp;seed).finish().await.unwrap();
    println!(&quot;List of generated public addresses:\n{:?}\n&quot;, addresses);

    // Generate addresses with custom account index and range
    let addresses = iota
        .get_addresses(&amp;seed)
        .with_account_index(0)
        .with_range(0..4)
        .finish()
        .await
        .unwrap();

    println!(&quot;List of generated public addresses:\n{:?}\n&quot;, addresses);

    // Generate public (false) &amp; internal (true) addresses
    let addresses = iota.get_addresses(&amp;seed).with_range(0..4).get_all().await.unwrap();
    println!(&quot;List of generated public and internal addresses:\n{:?}\n&quot;, addresses);

    // Generate public addresses offline with the bech32_hrp defined
    let addresses = GetAddressesBuilder::new(&amp;seed)
        .with_bech32_hrp(&quot;atoi&quot;.into())
        .with_account_index(0)
        .with_range(0..4)
        .finish()
        .await
        .unwrap();

    println!(&quot;List of offline generated public addresses:\n{:?}\n&quot;, addresses);
}
</code></pre></pre>
<pre><pre class="playground"><code class="language-rust">// Copyright 2021 IOTA Stiftung
// SPDX-License-Identifier: Apache-2.0

//! cargo run --example 04_get_balance --release

use iota_client::{Client, Seed};
extern crate dotenv;
use dotenv::dotenv;
use std::env;

/// In this example we will get the account balance of a known seed and the balance and outputs of a known address

#[tokio::main]
async fn main() {
    // Create a client instance
    let iota = Client::builder()
        .with_node(&quot;https://api.lb-0.testnet.chrysalis2.com&quot;) // Insert your node URL here
        .unwrap()
        .with_node_sync_disabled()
        .finish()
        .await
        .unwrap();

    // This example uses dotenv, which is not safe for use in production
    dotenv().ok();

    let seed = Seed::from_bytes(&amp;hex::decode(env::var(&quot;NONSECURE_USE_OF_DEVELOPMENT_SEED_1&quot;).unwrap()).unwrap());

    let seed_balance = iota.get_balance(&amp;seed).finish().await.unwrap();
    println!(&quot;Account balance: {:?}i\n&quot;, seed_balance);

    let address = &quot;atoi1qzt0nhsf38nh6rs4p6zs5knqp6psgha9wsv74uajqgjmwc75ugupx3y7x0r&quot;;

    let response = iota.get_address().balance(&amp;address).await.unwrap();
    println!(&quot;The balance of {:?} is {:?}i\n&quot;, address, response.balance);

    let outputs = iota.get_address().outputs(&amp;address, Default::default()).await.unwrap();

    println!(&quot;The outputs of address {:?} are: {:?}&quot;, address, outputs);
}
</code></pre></pre>
<pre><pre class="playground"><code class="language-rust">// Copyright 2021 IOTA Stiftung
// SPDX-License-Identifier: Apache-2.0

//! cargo run --example 05_get_address_outputs --release

use iota_client::{Client, Result};

/// In this example we will get the outputs of a known address

#[tokio::main]
async fn main() -&gt; Result&lt;()&gt; {
    let iota = Client::builder()
        .with_node(&quot;https://api.lb-0.testnet.chrysalis2.com&quot;)?
        .finish()
        .await?;

    let address = &quot;atoi1qzt0nhsf38nh6rs4p6zs5knqp6psgha9wsv74uajqgjmwc75ugupx3y7x0r&quot;;

    let outputs = iota.get_address().outputs(&amp;address, Default::default()).await.unwrap();

    println!(&quot;The outputs of address {:?} are: {:?}&quot;, address, outputs);
    Ok(())
}
</code></pre></pre>
<pre><pre class="playground"><code class="language-rust">// Copyright 2021 IOTA Stiftung
// SPDX-License-Identifier: Apache-2.0

//! cargo run --example 06_simple_message --release

use iota_client::{Client, Result};

/// In this example we will send a message without a payload

#[tokio::main]
async fn main() -&gt; Result&lt;()&gt; {
    let iota = Client::builder()
        .with_node(&quot;https://api.lb-0.testnet.chrysalis2.com&quot;)?
        .finish()
        .await?;

    let message = iota.message().finish().await?;

    println!(
        &quot;Empty message sent: https://explorer.iota.org/testnet/message/{}&quot;,
        message.id().0
    );
    Ok(())
}
</code></pre></pre>
<pre><pre class="playground"><code class="language-rust">// Copyright 2021 IOTA Stiftung
// SPDX-License-Identifier: Apache-2.0

//! cargo run --example 07_get_message_metadata --release

use iota_client::{Client, Result};

/// In this example we will send a message and get the metadata for it

#[tokio::main]
async fn main() -&gt; Result&lt;()&gt; {
    let iota = Client::builder()
        .with_node(&quot;https://api.lb-0.testnet.chrysalis2.com&quot;)?
        .finish()
        .await?;

    let message = iota.message().finish().await?;

    let metadata = iota.get_message().metadata(&amp;message.id().0).await?;
    println!(&quot;Message metadata: {:?}&quot;, metadata);
    Ok(())
}
</code></pre></pre>
<pre><pre class="playground"><code class="language-rust">// Copyright 2021 IOTA Stiftung
// SPDX-License-Identifier: Apache-2.0

//! cargo run --example 08_data_message --release

use iota_client::{Client, Result};

/// In this example we will send a message without a payload

#[tokio::main]
async fn main() -&gt; Result&lt;()&gt; {
    let iota = Client::builder()
        .with_node(&quot;https://api.lb-0.testnet.chrysalis2.com&quot;)?
        // .with_permanode(&quot;http://18.196.167.57:8000/api/permanode/&quot;, None, None)?
        .finish()
        .await?;

    let message = iota
        .message()
        .with_index(&quot;Hello&quot;)
        .with_data(&quot;Tangle&quot;.as_bytes().to_vec())
        .finish()
        .await?;

    println!(
        &quot;Message sent https://explorer.iota.org/testnet/message/{}\n&quot;,
        message.id().0
    );

    let fetched_message_ids = iota.get_message().index(&quot;Hello&quot;).await.unwrap();
    println!(&quot;Messages with Hello index: {:?}&quot;, fetched_message_ids);
    Ok(())
}
</code></pre></pre>
<pre><pre class="playground"><code class="language-rust">// Copyright 2021 IOTA Stiftung
// SPDX-License-Identifier: Apache-2.0

//! cargo run --example 09_transaction --release

use iota_client::{Client, Result, Seed};
extern crate dotenv;
use dotenv::dotenv;
use std::env;

/// In this example we will send a transaction

#[tokio::main]
async fn main() -&gt; Result&lt;()&gt; {
    let iota = Client::builder()
        .with_node(&quot;https://api.lb-0.testnet.chrysalis2.com&quot;)?
        .finish()
        .await?;

    // This example uses dotenv, which is not safe for use in production
    // Configure your own seed in &quot;.env&quot;. Since the output amount cannot be zero, the seed must contain non-zero balance
    dotenv().ok();
    let seed_1 = Seed::from_bytes(&amp;hex::decode(env::var(&quot;NONSECURE_USE_OF_DEVELOPMENT_SEED_1&quot;).unwrap())?);

    let message = iota
        .message()
        .with_seed(&amp;seed_1)
        // Insert the output address and amount to spent. The amount cannot be zero.
        .with_output(
            // We generate an address from our seed so that we send the funds to ourselves
            &amp;iota.get_addresses(&amp;seed_1).with_range(0..1).finish().await?[0],
            1_000_000,
        )?
        .finish()
        .await?;

    println!(
        &quot;Transaction sent: https://explorer.iota.org/testnet/message/{}&quot;,
        message.id().0
    );
    Ok(())
}
</code></pre></pre>
<pre><pre class="playground"><code class="language-rust">// Copyright 2021 IOTA Stiftung
// SPDX-License-Identifier: Apache-2.0

//! cargo run --example 10_mqtt --release

use iota_client::{bee_message::Message, Client, MqttEvent, Result, Topic};
use std::sync::{mpsc::channel, Arc, Mutex};

// Connecting to a MQTT broker using raw ip doesn't work with TCP. This is a limitation of rustls.
#[tokio::main]
async fn main() -&gt; Result&lt;()&gt; {
    // Create a client instance
    let mut iota = Client::builder()
        .with_node(&quot;https://api.hornet-0.testnet.chrysalis2.com&quot;)?
        .finish()
        .await?;

    let (tx, rx) = channel();
    let tx = Arc::new(Mutex::new(tx));

    let mut event_rx = iota.mqtt_event_receiver();
    tokio::spawn(async move {
        while event_rx.changed().await.is_ok() {
            let event = event_rx.borrow();
            if *event == MqttEvent::Disconnected {
                println!(&quot;mqtt disconnected&quot;);
                std::process::exit(1);
            }
        }
    });

    iota.subscriber()
        .with_topics(vec![
            Topic::new(&quot;milestones/latest&quot;).unwrap(),
            Topic::new(&quot;messages&quot;).unwrap(),
        ])
        .subscribe(move |event| {
            match event.topic.as_str() {
                &quot;messages&quot; =&gt; {
                    let message: Message = serde_json::from_str(&amp;event.payload).unwrap();
                    println!(&quot;{:?}&quot;, event);
                    println!(&quot;{:?}&quot;, message);
                }
                _ =&gt; println!(&quot;{:?}&quot;, event),
            }
            tx.lock().unwrap().send(()).unwrap();
        })
        .await
        .unwrap();

    for _ in 0..10 {
        rx.recv().unwrap();
    }

    iota.subscriber().disconnect().await.unwrap();
    // alternatively
    // iota.subscriber().unsubscribe().unwrap();
    Ok(())
}
</code></pre></pre>
<p>You can find more advanced examples in the <a href="https://github.com/iotaledger/iota.rs/tree/dev/examples">examples</a> folder.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="api-reference"><a class="header" href="#api-reference">API Reference</a></h1>
<p>API reference</p>
<p>You can read the <a href="https://client-lib.docs.iota.org/docs/doc/iota_client/index.html">API reference</a> here, or generate it yourself.</p>
<p>If you'd like to explore the implementation in more depth, the following command generates docs for the whole crate, including private modules:</p>
<pre><code class="language-bash">cargo doc --document-private-items --no-deps --open
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="troubleshooting"><a class="header" href="#troubleshooting">Troubleshooting</a></h1>
<h2 id="stackexchange"><a class="header" href="#stackexchange">StackExchange</a></h2>
<blockquote>
<p><a href="https://iota.stackexchange.com/">https://iota.stackexchange.com</a></p>
</blockquote>
<p>The IOTA StackExchange a a nice tool for developers to find answers for a problem. Just search your problem and find your answer! If there is no one, submit your question and share it in the discussion channel below.</p>
<h2 id="joining-the-discussion-2"><a class="header" href="#joining-the-discussion-2">Joining the discussion</a></h2>
<p>If you want to get involved in discussions about this library, or you're looking for support, go to the #clients-discussion channel on <a href="https://discord.iota.org">Discord</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iota-client-nodejs-library"><a class="header" href="#iota-client-nodejs-library">IOTA Client Node.js Library</a></h1>
<p><a href="https://github.com/iotaledger/iota.rs"><img src="https://img.shields.io/badge/Status-Alpha-yellow.svg" alt="status" /></a></p>
<h2 id="joining-the-discussion-3"><a class="header" href="#joining-the-discussion-3">Joining the discussion</a></h2>
<p>If you want to get involved in discussions about this library, or you're looking for support, go to the #clients-discussion channel on <a href="https://discord.iota.org">Discord</a>.</p>
<h2 id="changes-from-iota-10-to-15-1"><a class="header" href="#changes-from-iota-10-to-15-1">Changes from IOTA 1.0 to 1.5</a></h2>
<p>For an overview of all significant changes in the protocol, please see <a href="https://chrysalis.docs.iota.org/guides/index.html">Chrysalis documentation</a>.</p>
<h2 id="overview-2"><a class="header" href="#overview-2">Overview</a></h2>
<ul>
<li><a href="libraries/nodejs/">Getting Started</a></li>
<li><a href="libraries/nodejs/">Examples</a></li>
<li><a href="libraries/nodejs/">API Reference</a></li>
<li><a href="libraries/nodejs/">Troubleshooting</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="getting-started-with-nodejs"><a class="header" href="#getting-started-with-nodejs">Getting Started with Node.js</a></h1>
<h2 id="installation"><a class="header" href="#installation">Installation</a></h2>
<ul>
<li>Using NPM:</li>
</ul>
<pre><code>$ npm i @iota/client
</code></pre>
<ul>
<li>Using yarn:</li>
</ul>
<pre><code>$ yarn add @iota/client
</code></pre>
<h2 id="example"><a class="header" href="#example">Example</a></h2>
<pre><code class="language-javascript">const { ClientBuilder } = require('@iota/client')
const client = new ClientBuilder()
    .node('https://api.lb-0.testnet.chrysalis2.com')
    .build()
client.getInfo().then(console.log).catch(console.error)
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="examples-1"><a class="header" href="#examples-1">Examples</a></h1>
<blockquote>
<p>Please note: It is not recommended to store passwords/seeds on host's environment variables or in the source code in a production setup! Please make sure you follow our <a href="https://chrysalis.docs.iota.org/guides/backup_security.html">backup and security</a> recommendations for production use!</p>
</blockquote>
<h2 id="connecting-to-nodes"><a class="header" href="#connecting-to-nodes">Connecting to node(s)</a></h2>
<p>All features of <code>iota.rs</code> library are accessible via an instance of <code>Client</code> class that provides high-level abstraction to all interactions over IOTA network (Tangle). This class has to be instantiated before starting any interactions with the library, or more precisely with <a href="https://chrysalis.docs.iota.org/node-software/node-software.html">IOTA nodes</a> that power IOTA network.</p>
<p>In <code>nodejs</code> binding, the <code>Client</code> instance is instantiated and optionally configured via chaining calls of <code>ClientBuilder</code> helper class.</p>
<p>The library is designed to automatically choose a starting IOTA node based on the network type one would like to participate in: <code>testnet</code> or <code>mainnet</code>. So very simplistic example how to connect to <a href="https://chrysalis.docs.iota.org/testnet.html">IOTA testnet</a> is the following one:</p>
<pre><code class="language-javascript">
function run() {
    const { ClientBuilder } = require('@iota/client');

    // client will connect to testnet by default
    const client = new ClientBuilder()
        .localPow(true)
        .build();

    client.getInfo().then(console.log).catch(console.error);
}

run()
</code></pre>
<p>Output example of <code>getInfo()</code> function of the <code>ClientBuilder</code> instance:</p>
<pre><code class="language-json">{
   &quot;nodeinfo&quot;:{
      &quot;name&quot;:&quot;HORNET&quot;,
      &quot;version&quot;:&quot;0.6.0-alpha&quot;,
      &quot;isHealthy&quot;:true,
      &quot;networkId&quot;:&quot;migration&quot;,
      &quot;bech32HRP&quot;:&quot;atoi&quot;,
      &quot;minPoWScore&quot;:100,
      &quot;messagesPerSecond&quot;:4.2,
      &quot;referencedMessagesPerSecond&quot;:4.1,
      &quot;referencedRate&quot;:97.61904761904762,
      &quot;latestMilestoneTimestamp&quot;:1618139001,
      &quot;latestMilestoneIndex&quot;:7092,
      &quot;confirmedMilestoneIndex&quot;:7092,
      &quot;pruningIndex&quot;:0,
      &quot;features&quot;:[
         &quot;PoW&quot;
      ]
   },
   &quot;url&quot;:&quot;https://api.lb-0.testnet.chrysalis2.com&quot;
}
</code></pre>
<p>The most important properties:</p>
<ul>
<li><code>isHealthy</code>: indicates whether the given node is in sync with the network and so it is safe to use it. Even if a node is up and running it may not be fully prepared to process your API calls properly. The node should be &quot;synced&quot;, meaning should be aware of all TXs in the Tangle. It is better to avoid not fully synced nodes</li>
<li><code>bech32HRP</code>: indicates whether the given node is a part of testnet (<code>atoi</code>) or mainnet (<code>iota</code>). See more info regarding <a href="libraries/nodejs/../../welcome.html#iota-15-address-anatomy">IOTA address format</a></li>
</ul>
<p><em>Please note, when using node load balancers then mentioned health check may be quite useless since follow-up API calls may be served by different node behind the load balancer that may have not been actually checked. One should be aware of this fact and trust the given load balancer participates only with nodes that are in healthy state. <code>iota.rs</code> library additionally supports a management of internal node pool and so load-balancer-like behavior can be mimicked using this feature locally.</em></p>
<p>Needless to say, the <code>ClientBuilder</code> helper class provides several chaining calls via which the process can be closely managed.</p>
<p>The most common ones:</p>
<ul>
<li><code>.network(str)</code>: can be <code>testnet</code> or <code>mainnet</code>. It instructs the library whether to automatically select testnet nodes or mainnet nodes</li>
<li><code>.node(url)</code>: specify address of actual running IOTA node that should be used to communicate with (in format <code>https://node:port</code>), for ex: https://api.lb-0.testnet.chrysalis2.com:443</li>
<li><code>.nodePoolUrls(urls)</code>: library also supports a management of pool of nodes. You can provide a list of nodes and library manages access to them automatically (selecting them based on their sync status)</li>
<li><code>.localPow(bool)</code>: <code>.localPow (True)</code> (by default) means a <code>Proof-of-work</code> is done locally and not remotely</li>
<li><code>.disableNodeSync()</code>: when called, it means library also uses nodes that <em>are not</em> in sync with network. This parameter is usually useful if one would like to interact with local test node that is not fully synced. This parameter should not be used in production</li>
</ul>
<p>If <code>.nodePoolUrls(urls)</code> is provided then the library periodically checks in some interval (call <code>.nodeSyncInterval(interval)</code>) whether node is in sync or not.</p>
<p>Example of use of additional initialization chaining calls, such as leveraging a custom node:</p>
<pre><code class="language-javascript">
function run() {
    const { ClientBuilder } = require('@iota/client');

    // client will connect to testnet by default
    const client = new ClientBuilder()
        .node('https://api.lb-0.testnet.chrysalis2.com:443')    // custom node
        .localPow(true)                                         // pow is done locally
        .disableNodeSync()                                      // even non-synced node is fine - do not use in production
        .build();

    client.getInfo().then(console.log).catch(console.error);
}

run()
</code></pre>
<h2 id="generating-seed-and-addresses"><a class="header" href="#generating-seed-and-addresses">Generating seed and addresses</a></h2>
<p>Since the IOTA network is permission-less type of network, anybody is able to use it and interact with it. No central authority is required at any stage. So anybody is able to generate own <code>seed</code> and then deterministically generate respective private keys/addresses.</p>
<blockquote>
<p>Please note, it is highly recommended to NOT use online seed generators at all. The seed is the only key to the given addresses. Anyone who owns the seed owns also all funds related to respective IOTA addresses (all of them).</p>
</blockquote>
<blockquote>
<p>We strongly recommend to use official <code>wallet.rs</code> library together with <code>stronghold.rs</code> enclave for value-based transfers. This combination incorporates the best security practices while dealing with seeds, related addresses and <code>UTXO</code>. See more information on <a href="https://chrysalis.docs.iota.org/libraries/wallet.html">Chrysalis docs</a>.</p>
</blockquote>
<p>IOTA uses <code>Ed25519</code> signature scheme and address is usually represented by Bech32 (checksummed base32) format string of 64 characters.</p>
<p>A root of <code>Ed25519</code> signature scheme is basically a <code>32-byte (256-bit)</code> uniformly randomly generated seed based on which all private keys and corresponding addresses are generated. In the examples below, the seed is represented by a string of 64 characters using <code>[0-9a-f]</code> alphabet (32 bytes encoded in hexadecimal).</p>
<p>Seed can be for example generated using SHA256 algorithm on some random input generated by cryptographically secure pseudo-random generator, such as <code>crypto.randomBytes()</code>:</p>
<pre><code class="language-javascript">function run() {
    const crypto = require('crypto');
    const seed = crypto.createHash('sha256').update(crypto.randomBytes(256)).digest('hex');
    console.log(seed);

    const { ClientBuilder } = require('@iota/client');
    const client = new ClientBuilder().build();

    const mnemonic = client.generateMnemonic();
    console.log(mnemonic);

    const hexEncodedSeed = client.mnemonicToHexSeed(mnemonic);
    console.log(hexEncodedSeed);
}

run()
</code></pre>
<p>Output example:</p>
<pre><code class="language-plaintext">39bccf7b88a8017e6a96e6f31e34f138829c574dc6061523e84c5f2e53f5ca36
pass phrase weapon yellow diary scissors gift drive strategy antique scheme make surround aerobic mystery coral hope lock walnut become exclude only glove syrup
eff5c97c96ddab55d6fe78f914508750152eaab1b9692236bc79268895ecfd168e91eedd2489ed6c51fc44156b9a2e6c967e4edcfb649ff33d41581be4627347
</code></pre>
<blockquote>
<p>In modern wallet implementations, such as our <a href="https://chrysalis.docs.iota.org/libraries/wallet.html">wallet.rs library</a> and <a href="https://blog.iota.org/firefly-beta-release/">firefly wallet</a>, the seed is usually generated from a <code>seed mnemonic</code> (<code>seed phrase</code>), using <a href="https://en.bitcoin.it/wiki/BIP_0039">BIP39 standard</a>, to be better memorized/stored by humans. It is based on randomly generated list of english words and later used to generate the seed. Either way, the seed is a root for all generated private keys and addresses</p>
</blockquote>
<h3 id="addresskey-space"><a class="header" href="#addresskey-space">Address/key space</a></h3>
<p>Before an actual address generation process, let's quickly focus on <a href="https://github.com/bitcoin/bips/blob/master/bip-0032.mediawiki">BIP32</a> standard that describes an approach to <em>Hierarchical Deterministic Wallets</em>. The standard was improved by <a href="https://github.com/bitcoin/bips/blob/master/bip-0044.mediawiki">BIP44</a> lately.</p>
<p>These standards define a tree structure as a base for address and key space generation which is represented by a <code>derivation path</code>:</p>
<pre><code class="language-plaintext">m / purpose / coin_type / account / change / address_index
</code></pre>
<ul>
<li><code>m</code>: a master node (seed)</li>
<li><code>purpose</code>: constant which is {44}</li>
<li><code>coin_type</code>: a constant set for each crypto currency. IOTA = 4218, for instance.</li>
<li><code>account</code>: account index. Zero-based increasing <code>int</code>. This level splits the address/key space into independent branches (ex. user identities) which each has own set of addresses/keys</li>
<li><code>change</code>: change index which is <code>{0, 1}</code>, also known as <code>wallet chain</code>.<br />
There are two independent chain of addresses/keys. <code>0</code> is reserved for public addresses (for coin receival) and <code>1</code> is reserved for internal (also known as change) addresses to which transaction change is returned. <em>IOTA is totally fine with address reuse, and so it is, technically speaking, totally valid to return transaction change to the same originating address. So it is up to developers whether to leverage it or not. <code>iota.rs</code> library and its sibling <code>wallet.rs</code> help with either scenario</em></li>
<li><code>address_index</code>: address index. Zero-based increasing <code>int</code> that indicates an address index</li>
</ul>
<p>As outlined, there is a quite large address/key space that is secured by a single unique seed.</p>
<p>And there are few additional interesting notes:</p>
<ul>
<li>Each level defines a completely different subtree (subspace) of addresses/keys and those are never mixed up</li>
<li>The hierarchy is ready to &quot;absorb&quot; addresses/keys for many different coins at the same time (<code>coin_type</code>), and all those coins are secured by the same seed.<br />(So basically any BIP32/44-compliant wallet is potentially able to manage any BIP32/44-compliant coin(s))</li>
<li>There may be also other <code>purposes</code> in the future however let's consider a single purpose as of now. The constant <code>44</code> stands for BIP44</li>
<li>The standard was agreed upon different crypto communities, although not all <code>derivation path</code> components are always in active use. For example, <code>account</code> is not always actively leveraged across crypto space (if this is a case then there is usually <code>account=0</code> used)</li>
<li>Using different <code>accounts</code> may be useful to split addresses/key into some independent spaces and it is up to developers to implement.<br />
<em>Please note, it may have a negative impact on a performance while <a href="https://github.com/bitcoin/bips/blob/master/bip-0044.mediawiki#account-discovery">account discovery</a> phase. So if you are after using many multiple accounts then you may be interested in our stateful library <a href="https://chrysalis.docs.iota.org/libraries/wallet.html">wallet.rs</a> that incorporates all business logic needed to efficiently manage independent accounts. Also our <a href="https://chrysalis.docs.iota.org/guides/exchange_guide.html">exchange guide</a> provides some useful tips how different accounts may be leveraged</em></li>
</ul>
<p><img src="libraries/nodejs/address_generation.svg" alt="address_generation" /></p>
<p>So in case of IOTA, the derivation path of address/key space is <code>[seed]/44/4218/{int}/{0,1}/{int}</code>. The levels <code>purpose</code> and <code>coin_type</code> are given, the rest levels are up to developers to integrate.</p>
<h3 id="generating-addresses"><a class="header" href="#generating-addresses">Generating address(es)</a></h3>
<p>IOTA addresses are generated via <code>AddressGetter</code> helper class by calling <code>Client.getAddresses()</code> function and respective chaining calls that returns a list of tuples with generated addresses. Considering the previous chapter about individual address/key spaces, it becomes quite clear what all used input function arguments are for.</p>
<p><em>Please note: for the examples outlined below, an example seed <code>b3d7092195c36d47133ff786d4b0a1ef2ee6a0052f6e87b6dc337935c70c531e</code> was used via environment variable called <code>IOTA_SEED_SECRET</code>. This seed serves for training purposes only.</em></p>
<p>The whole process is deterministic which means the output is the same as long as the seed is the same:</p>
<pre><code class="language-javascript">async function run() {
  const { ClientBuilder } = require('@iota/client');

  // Get the seed from environment variable
  const IOTA_SEED_SECRET = process.env.IOTA_SEED_SECRET;

  // client will connect to testnet by default
  const client = new ClientBuilder().build();

  const addresses = await client.getAddresses(IOTA_SEED_SECRET)
    .accountIndex(0)
    .range(0, 5)
    .get();

  console.log(addresses);
}

run()
</code></pre>
<p>Output example:</p>
<pre><code class="language-string">[
  'atoi1qz6dr6dtl0856tf0pczz7gesrf7j8a4vr00q58ld2zx7ttlv3p96snpym9z',
  'atoi1qpp7sz28a0ghvd6knwnljr7j2s04qquduuc5vlz94fwf94zznj2yv5ew2c4',
  'atoi1qzje6zhg5vu456eg3z84ekcfn3laxqyczche5eeqhcdh3w9yr5sqvr4z4td',
  'atoi1qqwhxjmcvmatpedeedapgx0vwyupfwx9k5n4w0lnc5l6vmz78aavwhs55v0',
  'atoi1qzg63t9880jtfysvpq7rrynz0rqt3kd2fw8r4934ezraz9dpwvzxkw2dtmh'
]
</code></pre>
<p>IOTA address is represented by a checksumed base 32 string (Bech32) and you can see a detailed explanation on <a href="https://chrysalis.docs.iota.org/guides/dev_guide.html#iota-15-address-anatomy">Chrysalis docs</a>.
Just a recap:</p>
<ul>
<li>If an address starts with <code>atoi</code> then it means it is related to <code>testnet</code>. <code>iota</code> stands for mainnet</li>
<li>Number <code>1</code> at 5<sup>th</sup> position is just a separator</li>
<li>The last 6 characters are reserved for a checksum</li>
</ul>
<p>Address can be also represented in a hex format and luckily <code>iota.rs</code> provides some convenience functions to convert addresses respectively: <code>Client.bech32ToHex(bech32)</code> and <code>Client.hexToBech32(hex, bech32_hrp (optional))</code>.</p>
<p>To quickly validate any IOTA address, there is a convenience function <code>Client.isAddressValid()</code> that returns <code>bool</code> value. Needless to say, performing a sanity check of an address before its use is an advisable practice.</p>
<h2 id="checking-a-balance"><a class="header" href="#checking-a-balance">Checking a balance</a></h2>
<p><em>In Chrysalis testnet, there is a faucet service that provides test tokens to any testnet address: https://faucet.testnet.chrysalis2.com/</em></p>
<p>There are three common api calls that can be leveraged:</p>
<ul>
<li><code>Client.getAddressBalance(str)</code>: it expects a single address in Bech32 format and returns <code>dict</code> with a balance for the address</li>
<li><code>Client.getAddressBalances([])</code>: a convenience function that expects <code>list</code> of addresses in Bech32 format and returns list of <code>dict</code> with balances for all given addresses</li>
<li><code>Client.getBalance(seed)</code>: a convenience helper <code>BalanceGetter</code> class that combines <code>Client.getAddresses()</code> and <code>Client.getAddressBalance()</code> api calls. It returns a combined balance for the provided <code>seed</code> and optional chaining calls <code>.accountIndex(index)</code>, <code>.initialAddressIndex(index)</code> and <code>.gapLimit(amount)</code></li>
</ul>
<pre><code class="language-javascript">async function run() {
    const { ClientBuilder } = require('@iota/client');

    // Get the seed from environment variable
    const IOTA_SEED_SECRET = process.env.IOTA_SEED_SECRET;

    // client will connect to testnet by default
    const client = new ClientBuilder().build();

    // Get the balance of a single known address
    console.log(
        await client.getAddressBalance(&quot;atoi1qp9427varyc05py79ajku89xarfgkj74tpel5egr9y7xu3wpfc4lkpx0l86&quot;)
    );

    // Get the balance of addresses from an account
    const balance = await client.getBalance(IOTA_SEED_SECRET)
        .accountIndex(0)
        .initialAddressIndex(0)
        .get();

    console.log(&quot;Account balance: &quot; + balance);
}

run()
</code></pre>
<p>Example of output:</p>
<pre><code class="language-json">{
   &quot;address&quot;:&quot;atoi1qp9427varyc05py79ajku89xarfgkj74tpel5egr9y7xu3wpfc4lkpx0l86&quot;,
   &quot;balance&quot;:10000000,
   &quot;dustAllowed&quot;:false
}
Account balance: 0
</code></pre>
<ul>
<li><code>dustAllowed</code> indicates whether the given address is allowed to accepts a dust due to <a href="https://chrysalis.docs.iota.org/guides/dev_guide.html#dust-protection">dust protection mechanism</a></li>
</ul>
<p><code>Client.getBalance(seed)</code> performs a several tasks under the hood.
It starts generating addresses for the provided <code>seed</code> and <code>.accountIndex</code> from <code>.initialAddressIndex(index)</code>, and checks for a balance of each of the generated addresses. Since it does not know how many addresses are used in fact, there is a condition set by <code>.gapLimit(amount)</code> argument when to stop searching. If <code>.gapLimit</code> amount of addresses in a row have no balance the function returns result and searching does not continue.</p>
<h2 id="messages-payload-and-transactions"><a class="header" href="#messages-payload-and-transactions">Messages, payload and transactions</a></h2>
<p>Before we continue, let's introduce some additional terms that describe an unit that is actually broadcasted in IOTA network. IOTA is based on a concept of <code>messages</code> and <code>payloads</code>.</p>
<p><code>Message</code> is a data structure that is actually being broadcasted in IOTA network and represent a node (vertex) in the Tangle graph. It can refer to up to 8 previous messages and once a message was attached to the Tangle and approved by a milestone, the Tangle structure ensures the content of the message is unaltered. Every message is referenced by <code>message_id</code> which is based on a hash algorithm of binary content of the message. <code>Message</code> is an atomic unit that is confirmed by network as a whole.</p>
<blockquote>
<p>IOTA is no longer based on ternary. IOTA 1.5 (Chrysalis) uses binary to encode and broadcast all underlying data entities</p>
</blockquote>
<p><code>Message</code> is broadcasted using a binary format, is arbitrary size (up to 35 kB) and it can hold a variable sets of information so called <code>payloads</code>. Number of payloads a single message can encapsulate is not given (even a message without any <code>payload</code> at all is completely valid).</p>
<p><code>Payload</code> represents a layer of concern. Some payloads may change a state of the ledger (ex. <code>transactions</code>) and some may provide extra features to some specific applications and business use cases (ex. <code>indexed data</code>).</p>
<p>There are already implemented core payloads, such as <code>SignedTransaction</code>, <code>MilestonePayload</code> and <code>IndexationPayload</code> but the message and payload definition is generic enough to incorporate any future payload(s) the community agrees upon.</p>
<p>Needless to say, IOTA network ensures the outer structure of message itself is valid and definitely aligned with a network consensus protocol, however the inner structure is very flexible, future-proof, and offer an unmatched network extensibility.</p>
<p><img src="libraries/nodejs/messages_in_tangle.svg" alt="messages_in_tangle" /></p>
<p>The current IOTA network incorporates the following core payloads:</p>
<ul>
<li><code>SignedTransaction</code>: payload that describes <code>UTXO</code> transactions that are cornerstone of value-based transfers in IOTA network. Via this payload, <code>message</code> can be also cryptographically signed</li>
<li><code>MilestonePayload</code>: payload that is emitted by Coordinator</li>
<li><code>IndexationPayload</code>: payload that enables addition of an index to the encapsulating message, as well as some arbitrary data. The given index can be later used to search the message(s)</li>
</ul>
<h3 id="unspent-transaction-output-utxo"><a class="header" href="#unspent-transaction-output-utxo">Unspent Transaction Output (UTXO)</a></h3>
<p>IOTA uses <code>unspent transaction output</code> model, so called <code>UTXO</code>. It is based on an idea to track unspent amount of tokens via data structure called <code>output</code>.</p>
<p>Simplified analogy:</p>
<ul>
<li>There is 100 tokens recorded in the ledger as <code>Output A</code> and this output belongs to Alice. So <strong>initial state of ledger</strong>: <code>Output A</code> = 100 tokens</li>
<li>Alice sends 20 tokens to Paul, 30 tokens to Linda and keeps 50 tokens at her disposal</li>
<li>Her 100 tokens are recorded as <code>Output A</code> and so she has to divide (spent) tokens and create three new outputs:<br /><code>Output B</code> with 20 tokens that goes to Paul, <code>Output C</code> with 30 tokens that goes to Linda and finally <code>Output D</code> with the rest 50 tokens that she keep for herself</li>
<li><strong>Original <code>Output A</code></strong> was completely spent and can't be used any more. It has been spent and so <strong>becomes irrelevant</strong> to ledger state</li>
<li><strong>New state of ledger</strong>: <code>Output B</code> = 20 tokens, <code>Output C</code> = 30 tokens and <code>Output D</code> = 50 tokens</li>
<li>Total supply remains the same. Just number of outputs differs and some outputs were replaced by other outputs in the process</li>
</ul>
<p><img src="libraries/nodejs/utxo.svg" alt="utxo" /></p>
<p>The key takeaway of the outlined process is the fact that each unique <code>output</code> can be spent <strong>only once</strong>. Once the given <code>output</code> is spent, can't be used any more and is irrelevant in regards to the ledger state.</p>
<p>So even if Alice still wants to keep remaining tokens at her fingertips, those tokens have to be moved to completely new <code>output</code> that can be for instance still tight to the same Alice's iota address as before.</p>
<p>Every <code>output</code> stores also information about an IOTA address to which it is coupled with. So addresses and tokens are indirectly coupled via <code>outputs</code>.
So basically sum of outputs and their amounts under the given address is a balance of the given address, ie. the number of tokens the given address can spend. And sum of all unspent outputs and theirs amounts is equal to the total supply.</p>
<p>Before the chapter is wrapped up, one thing was left unexplained: <em>&quot;how outputs are being sent and broadcasted to network?&quot;</em> <code>Outputs</code> are being sent encapsulated in a <code>message</code> as a part of <code>SignedTransaction</code> payload.</p>
<h2 id="outputs"><a class="header" href="#outputs">Outputs</a></h2>
<p>There are three functions to get <code>UTXO</code> outputs (related to the given address):</p>
<ul>
<li><code>Client.getAddressOutputs(str)</code>: it expects address in Bech32 format and returns <code>str[]</code> of <code>output_ids</code></li>
<li><code>Client.getOutput(str)</code>: it expects <code>output_id</code> and returns the UTXO output metadata associated with it</li>
<li><code>Client.findOutputs(output_ids (optional), addresses (optional))</code>: it is a bit more general and it searches for <code>UTXO</code> outputs associated with the given <code>output_ids</code> and/or <code>addresses</code></li>
</ul>
<pre><code class="language-javascript">async function run() {
    const { ClientBuilder } = require('@iota/client');

    // client will connect to testnet by default
    const client = new ClientBuilder().build();

    const outputs = await client.getAddressOutputs('atoi1qp9427varyc05py79ajku89xarfgkj74tpel5egr9y7xu3wpfc4lkpx0l86');
    console.log(outputs);
}

run()
</code></pre>
<p>Output example:</p>
<pre><code class="language-json">[
  '0f2d5d2651f8061a9f5417d0658009f32b2e3f77f9706b0be3b4b3f466171f360000',
  '7614ba900a90b130707766a660a454942ac7cc4adea3fb9ad0cdca90114417c20000',
  '768c20c15a290e02a43b83263a98501b9d7eb0b57da40a9247289c672de63ea60000'
]
</code></pre>
<p>Then the function <code>Client.getOutput(str)</code> can be used to get metadata about the given <code>output_id</code>:</p>
<pre><code class="language-javascript">async function run() {
    const { ClientBuilder } = require('@iota/client');

    // client will connect to testnet by default
    const client = new ClientBuilder().build();

    const output = await client.getOutput('a22cba0667c922cbb1f8bdcaf970b2a881ccd6e88e2fcce50374de2aac7c37720000');
    console.log(output);
}

run()
</code></pre>
<p>Output example:</p>
<pre><code class="language-json">{
  &quot;messageId&quot;: &quot;f303bc90a5ed3ef15af5fc6aa81a739978c59458a71e68ce8e380f1f534da1e6&quot;,
  &quot;transactionId&quot;: &quot;0f2d5d2651f8061a9f5417d0658009f32b2e3f77f9706b0be3b4b3f466171f36&quot;,
  &quot;outputIndex&quot;: 0,
  &quot;isSpent&quot;: false,
  &quot;address&quot;: &quot;atoi1qzt0nhsf38nh6rs4p6zs5knqp6psgha9wsv74uajqgjmwc75ugupx3y7x0r&quot;,
  &quot;amount&quot;: 1000000
}
</code></pre>
<p>A function <code>Client.findOutputs()</code> is a convenient shortcut combining both mentioned methods in a single call:</p>
<pre><code class="language-javascript">async function run() {
    const { ClientBuilder } = require('@iota/client');

    // client will connect to testnet by default
    const client = new ClientBuilder().build();

    const outputs = await client.findOutputs(outputIds = [], addresses = [&quot;atoi1qp9427varyc05py79ajku89xarfgkj74tpel5egr9y7xu3wpfc4lkpx0l86&quot;]);
    console.log(outputs);
}

run()
</code></pre>
<ul>
<li>it supports two arguments, a list of <code>output_ids</code> or a list of <code>addresses</code></li>
</ul>
<p>Output example:</p>
<pre><code class="language-json">[
  {
    &quot;messageId&quot;: &quot;f303bc90a5ed3ef15af5fc6aa81a739978c59458a71e68ce8e380f1f534da1e6&quot;,
    &quot;transactionId&quot;: &quot;0f2d5d2651f8061a9f5417d0658009f32b2e3f77f9706b0be3b4b3f466171f36&quot;,
    &quot;outputIndex&quot;: 0,
    &quot;isSpent&quot;: false,
    &quot;address&quot;: &quot;atoi1qzt0nhsf38nh6rs4p6zs5knqp6psgha9wsv74uajqgjmwc75ugupx3y7x0r&quot;,
    &quot;amount&quot;: 1000000
  },
  {
    &quot;messageId&quot;: &quot;825266a79c0ffb6001ed263eb150357863b7d0052627c5766e8ef5acd6fed533&quot;,
    &quot;transactionId&quot;: &quot;768c20c15a290e02a43b83263a98501b9d7eb0b57da40a9247289c672de63ea6&quot;,
    &quot;outputIndex&quot;: 0,
    &quot;isSpent&quot;: false,
    &quot;address&quot;: &quot;atoi1qzt0nhsf38nh6rs4p6zs5knqp6psgha9wsv74uajqgjmwc75ugupx3y7x0r&quot;,
    &quot;amount&quot;: 1000000
  }
]
</code></pre>
<ul>
<li><code>message_id</code>: refer to the encapsulating message in which the transaction was sent</li>
<li><code>transaction_id</code>, <code>output_index</code>: refer to the given output within the <code>SignedTransaction</code> payload. There may be several different <code>outputs</code> involved in a single transaction and so just <code>transaction_id</code> is not enough</li>
<li><code>output</code>: this section provides details about the iota address to which the given <code>unspent transaction output</code> is coupled with</li>
<li><code>amount</code>: state an amount of tokens related to the <code>output</code></li>
<li><code>is_spent</code>: of course, very important one indicating whether the given <code>output</code> is a part of the actual ledger state or not. As mentioned above, if an output was already spent, it is not part of ledger state any more and was replaced by some other <code>output(s)</code> in the process</li>
</ul>
<p>So this is quite interesting part, notice the <code>output_id</code> that was used in a function call to get output details is the same as a combination of <code>transaction_id</code> and <code>output index</code>.</p>
<p>This way a transaction is tightly coupled with <code>outputs</code> since <code>SignedTransaction</code> payload is a main vehicle how <code>outputs</code> are being created and spent, and altogether everything is encapsulated in a <code>message</code>.</p>
<h2 id="messages"><a class="header" href="#messages">Messages</a></h2>
<p>As mentioned above, the <code>message</code> is encapsulating data structure that is being actually broadcasted across network. It is an atomic unit that is accepted/rejected as a whole.</p>
<p>There is a function <code>Client.postMessage(message)</code> that accepts message instance and sends it over a network. Alternatively, there is also convenience <code>MessageSender</code> helper class with respective chaining calls that prepares a message instance and broadcasts it over network.</p>
<p>The simplest message that can be broadcasted is a message without any particular payload:</p>
<pre><code class="language-javascript">async function run() {
    const { ClientBuilder } = require('@iota/client');

    // client will connect to testnet by default
    const client = new ClientBuilder().build();

    const messageId = await client.message().submit();
    console.log(messageId);
}

run()
</code></pre>
<p>Output example:</p>
<pre><code class="language-string">{
  message: {
    networkId: '14379272398717627559',
    parentMessageIds: [
      '03ddc83fad172a322fb00fb4e449436e9d1117ff390879100647c650a30c2d52',
      '252798210fa9816f6fd40f1b19095da9f2dc88ae06fc4c0523a928a29d0d782e',
      'a8e4f4cd49227068424ead8da187a48fdaa7ce8ffc4b9ac0ee2d5d3f2fcd7e70',
      'dbbc8044bc624b3378e1dda83ab95f9be468b06a6a9806c76a70353182028cf9'
    ],
    payload: null,
    nonce: '9223372036854784215'
  },
  messageId: '10dbee9cf3c58507725861b34ac711058dc13f709be1a6d21f1dc0af17b06379'
}
</code></pre>
<ul>
<li><code>message_id</code> is an unique id that refers to the given message in network</li>
</ul>
<p>Once a message is broadcasted, there is <code>MessageFinder</code> helper class instantiated via <code>Client.getMessage()</code> function that provides helper functions related to the given message, such as <code>Client.getMessage().data(str)</code> and <code>Client.getMessage().metadata(str)</code>:</p>
<pre><code class="language-javascript">async function run() {
    const { ClientBuilder } = require('@iota/client');

    // client will connect to testnet by default
    const client = new ClientBuilder().build();

    const tips = await client.getTips();
    const message_data = await client.getMessage().data(tips[0]);
    const message_metadata = await client.getMessage().metadata(tips[0]);
    console.log(message_metadata);
    console.log(message_data);
}

run()
</code></pre>
<p>Output example:</p>
<pre><code class="language-json">Message meta data:
{
   &quot;messageId&quot;:&quot;e52b631bc7500366b90c6e11eb7fd6abaa7527f9bb5b4b512b0b9112bb9e7be8&quot;,
   &quot;parentMessageIds&quot;: [
      &quot;26d72339ed262c1ec29d6c91de6be26d067b3327191f5e47606df53cc40e334e&quot;,
      &quot;6289ea0aecf3830e5e8d9925959bb6e804e324bb6db23c5701f7a538d12831f6&quot;,
      &quot;fdbf2d02603235fdff99f0ceb57705ead95041d62de386387f2922e5d9f6c502&quot;,
      &quot;ffa26139ca7f9d4849e118ff369fb3a387c8fefd8d15232b8353d4acf334324c&quot;
   ],
   &quot;isSolid&quot;:true,
   &quot;shouldPromote&quot;:false,
   &quot;shouldReattach&quot;:false
}

Message data:
{
   &quot;message&quot;: {
      &quot;networkId&quot;:&quot;14379272398717627559&quot;,
      &quot;parentMessageIds&quot;: [
         &quot;27782707e4cbf84ca26b3db881bbf39b6429f9ee736a0cbe5a1c177d7a52b05d&quot;,
         &quot;61cdf92c64a3304bbbabaf9fbfb0ea7ef9624e1eedea68efbe08595ccdf853e1&quot;,
         &quot;a222d13e3ee51b56b0b0e38140a5f7f813b6d9e29b752d7e1e2424099455080d&quot;,
         &quot;ab6bca20091b58dcbb0906438a7e47bfb11621c4a37b8d118b565f7f138a40d6&quot;
      ],
      &quot;payload&quot;: {
         &quot;type&quot;:2,
         &quot;index&quot;:&quot;484f524e4554205370616d6d6572&quot;,
         &quot;data&quot;:&quot;42696e61727920697320746865206675747572652e0a436f756e743a2031333936393530390a54696d657374616d703a20323032312d30352d33315431353a33363a30392b30323a30300a54697073656c656374696f6e3a203337c2b573&quot;
         },
      &quot;nonce&quot;:&quot;246736&quot;
   },
   &quot;messageId&quot;:&quot;30d87fa9917602e5685638e37802bde11b260bd2379f6c850704d7babd365b44&quot;
}
</code></pre>
<ul>
<li><code>Client.getMessage().metadata()</code> provides information how the given message fits to network structures such as <code>ledger_inclusion_state</code>, etc.</li>
<li><code>Client.getMessage().data()</code> provides all data that relates to the given message and its payload(s)</li>
</ul>
<h3 id="indexationpayload"><a class="header" href="#indexationpayload">IndexationPayload</a></h3>
<p><code>IndexationPayload</code> is a payload type that can be used to attach an arbitrary <code>data</code> and key <code>index</code> to a message. At least <code>index</code> should be provided in order to send the given payload. Data part (as <code>bytes[]</code>) is optional one:</p>
<pre><code class="language-javascript">async function run() {
    const { ClientBuilder } = require('@iota/client');

    // client will connect to testnet by default
    const client = new ClientBuilder().build();

    const message = await client.message()
        .index('IOTA.RS BINDING - NODE.JS')
        .data('some utf based data')
        .submit();

    console.log(message);
}

run()
</code></pre>
<p>Output example:</p>
<pre><code class="language-json">{
   &quot;message&quot;: {
      &quot;networkId&quot;:&quot;14379272398717627559&quot;,
      &quot;parentMessageIds&quot;: [
         &quot;1a383abbe5f6a6b0899d718975c3119643aa784a68d04075f4e986fd7a0c0e4b&quot;,
         &quot;6098f889e31911833df7b7839e8b222d701ab496f7dfa1a719087edf4fa7ae52&quot;,
         &quot;a98b47db4e8254eccc738c968bd35b08a5491e56d6c1a18af298c42bbd8c3a46&quot;,
         &quot;da6796c0842c08de832c7948fffedc0d5adce372e50a108f26a128dba6096d31&quot;
      ],
      &quot;payload&quot;: {
         &quot;type&quot;:2,
         &quot;index&quot;:&quot;494f54412e52532042494e44494e47202d204e4f44452e4a53&quot;,
         &quot;data&quot;:&quot;736f6d65207574662062617365642064617461&quot;
      },
      &quot;nonce&quot;:&quot;13835058055282176519&quot;
   },
   &quot;messageId&quot;:&quot;10f59c101cec669b0a0ba163bc777184c7f63455f5e771d42f910a1ba2ad20ff&quot;
}
</code></pre>
<ul>
<li>Feel free to check the given message using its <code>message_id</code> via <a href="https://explorer.iota.org/testnet/message/8d4fa37be3c00691131c2c3e03e7b8b956c9118a2ce4be3a8597d51d82ed2de9">Tangle explorer</a></li>
<li>There are three payloads prepared (<code>transaction</code>, <code>milestone</code> and <code>indexation</code>) however only <code>indexation</code> payload is leveraged this time</li>
<li><code>data</code> contains an arbitrary data encoded in bytes</li>
<li>Please note there is no IOTA address involved while sending data messages. Such messages are referenced using <code>message_id</code> or key <code>index</code></li>
<li>IOTA addresses are part of <code>UTXO</code> data structure that is sent using <code>SignedTransaction</code> payload explained below</li>
</ul>
<h3 id="signedtransaction"><a class="header" href="#signedtransaction">SignedTransaction</a></h3>
<p><code>SignedTransaction</code> is a payload type that is used to transfer value-based messages as <code>UTXO</code> (Unspent Transaction Output).</p>
<p>As mentioned above, this core payload changes the ledger state as old <code>outputs</code> are being spent (replaced) and new <code>outputs</code> are being created:</p>
<pre><code class="language-javascript">async function run(){
    const { ClientBuilder } = require('@iota/client');

    // client will connect to testnet by default
    const client = new ClientBuilder().build();

    const message_data = await client.getMessage().data(&quot;92f427d68c7008a81fde290b9cb99071373d9893d65718bfc22928273877e041&quot;);
    console.log(message_data);
}

run()
</code></pre>
<p>Example of a message with <code>SignedTransaction</code> payload:</p>
<pre><code class="language-json">{
	&quot;message&quot;: {
		&quot;networkId&quot;: &quot;14379272398717627559&quot;,
		&quot;parentMessageIds&quot;: [
			&quot;a59a5d11da0944c88b58f9f9c095c11ee4b8b7fd9da47bd25412d39f815bb804&quot;,
			&quot;c3d42c42eccd25bc3374a0552e3a4b21180facece14f31c36e5ac580e5496ccc&quot;,
			&quot;dae4a36cef9a3fd03caff5ddbc5c90bc5523477f4e4937837202bfe4bd5b98aa&quot;,
			&quot;fe188a4f57ecd6a135b05b31913d86617550d9397476ab5bb7445138f782ec34&quot;
		],
		&quot;payload&quot;: {
			&quot;type&quot;: 0,
			&quot;essence&quot;: {
				&quot;type&quot;: 0,
				&quot;inputs&quot;: [
					{
						&quot;type&quot;: 0,
						&quot;transactionId&quot;: &quot;b2b9723c9119f4fb49084472e72821e842ba4779df02e1038f03dd8b25d96730&quot;,
						&quot;transactionOutputIndex&quot;: 1
					}
				],
				&quot;outputs&quot;: [
					{
						&quot;type&quot;: 0,
						&quot;address&quot;: {
							&quot;type&quot;: 0,
							&quot;address&quot;: &quot;43e80947ebd17637569ba7f90fd2541f50038de731467c45aa5c92d4429c9446&quot;
						},
						&quot;amount&quot;: 1000
					},
					{
						&quot;type&quot;: 0,
						&quot;address&quot;: {
							&quot;type&quot;: 0,
							&quot;address&quot;: &quot;b4d1e9abfbcf4d2d2f0e042f23301a7d23f6ac1bde0a1fed508de5afec884ba8&quot;
						},
						&quot;amount&quot;: 8995995
					}
				],
				&quot;payload&quot;: null
			},
			&quot;unlockBlocks&quot;: [
				{
					&quot;type&quot;: 0,
					&quot;signature&quot;: {
						&quot;type&quot;: 0,
						&quot;publicKey&quot;: &quot;27177dd41cc479ed379b8ad2535d66fa58480c119a8a15a7a296f055401ab958&quot;,
						&quot;signature&quot;: &quot;8403dc1fb949365e960f14cdc19b6b3abb6b0a6bce83f1082a33e3857a30ddd2be1098074b6c261f442db8e59eb640002d24d9a577262fd8152c6fee2d076c0b&quot;
					}
				}
			]
		},
		&quot;nonce&quot;: &quot;156106&quot;
	},
	&quot;messageId&quot;: &quot;92f427d68c7008a81fde290b9cb99071373d9893d65718bfc22928273877e041&quot;
}
</code></pre>
<p>Each <code>transaction</code> includes the following set of information:</p>
<ul>
<li><code>inputs</code>: list of valid <code>outputs</code> that should be used to fund the given message. Those <code>outputs</code> will be spent and once the message is confirmed, those outputs are not valid anymore. Outputs are uniquely referenced via <code>transaction_id</code> and inner <code>index</code>. At least one output has to be given with enough balance to source all <code>outputs</code> of the given message</li>
<li><code>outputs</code>: list of IOTA address(es) and related amount(s) the input <code>outputs</code> should be split among. Based on this information, new <code>UTXO</code> entities (outputs) are being created</li>
<li><code>unlock_blocks</code>: it includes a transaction signature(s) (currently based on <code>Ed25519</code> scheme) that proofs token ownership based on a valid seed. Needless to say, only valid seed owner is able to correctly sign the given transaction and proofs the ownership of tokens under the given output(s). Each input <code>output</code> has to have a corresponding <code>unblockBlocks</code> entry in case more <code>outputs</code> are used to fund the operation either using the given signature or as a reference to existing signature</li>
<li><code>payload</code>: each <code>SignedTransaction</code>(payload type 0) can include additional payload(s) such as <code>IndexationPayload</code> (payload type 1), etc. Meaning, any value-based messages can also contain arbitrary data and its key index. It is also an example how individual payloads can be encapsulated on different levels of concern</li>
</ul>
<p>Sending value-based messages is also very straightforward process via <code>MessageSender</code> helper class.</p>
<p>As a minimum, it needs a valid seed, output addresses and amount. The method finds valid output(s) that can be used to fund the given amount(s) and the unspent amount is sent to the same address:</p>
<pre><code class="language-javascript">async function run() {
    const {
        ClientBuilder
    } = require('@iota/client');

    // Get the seed from environment variable
    const IOTA_SEED_SECRET = process.env.IOTA_SEED_SECRET;

    // client will connect to testnet by default
    const client = new ClientBuilder().build();

    const message = await client.message()
        .seed(IOTA_SEED_SECRET)
        .output('atoi1qqydc70mpjdvl8l2wyseaseqwzhmedzzxrn4l9g2c8wdcsmhldz0ulwjxpz', 1000000)
        .submit();

    console.log(message);
}

run()
</code></pre>
<blockquote>
<p>We recommend to use official <code>wallet.rs</code> library together with <code>stronghold.rs</code> enclave for value-based transfers. This combination incorporates the best security practices while dealing with seeds, related addresses and <code>UTXO</code>. See more information on <a href="https://chrysalis.docs.iota.org/libraries/wallet.html">Chrysalis docs</a>.</p>
</blockquote>
<h4 id="dust-protection"><a class="header" href="#dust-protection">Dust protection</a></h4>
<p>Please note, there is also implemented a <a href="https://chrysalis.docs.iota.org/guides/dev_guide.html#dust-protection">dust protection</a> mechanism in the network protocol to avoid malicious actors to spam network in order to decrease node performance while keeping track of unspent amount (<code>UTXO</code>):</p>
<blockquote>
<p>&quot;... microtransaction below 1Mi of IOTA tokens [can be sent] to another address if there is already at least 1Mi on that address&quot;
That's why we did send 1Mi in the given example to comply with the protection.&quot;</p>
</blockquote>
<h2 id="listening-to-mqtt"><a class="header" href="#listening-to-mqtt">Listening to MQTT</a></h2>
<p>IOTA node(s) provides <a href="https://en.wikipedia.org/wiki/MQTT">Message Queuing Telemetry Transport</a> (MQTT) layer, if enabled, which is a lightweight publish-subscribe network protocol that provides information about events that is being triggered by IOTA network.</p>
<p><code>iota.rs</code> client library supports asynchronous event listeners that can be listened to, and continuously receive MQTT events based on a <code>topic</code>, which can be:</p>
<ul>
<li>milestones/latest</li>
<li>milestones/confirmed</li>
<li>messages</li>
<li>messages/referenced</li>
<li>messages/indexation/{index}</li>
<li>messages/{messageId}/metadata</li>
<li>transactions/{transactionId}/included-message</li>
<li>outputs/{outputId}</li>
<li>addresses/{address}/outputs</li>
<li>addresses/ed25519/{address}/outputs</li>
</ul>
<p>The listener is reachable via instance of <code>Client.TopicSubscriber</code> object that is returned from <code>Client.subscriber()</code> function.</p>
<p>It offers several chaining calls:</p>
<ul>
<li><code>.topic(str)</code> / <code>.topics(str[])</code>: a topic or list of topics that should trigger a provided callback</li>
<li><code>.subscribe(cb)</code>: it subscribes the listener to a callback function that is being triggered every time the given topic(s) is noticed</li>
<li><code>.unsubscribe(cb)</code>: it unsubscribes the listener from the given topics. Once unsubscribed, then the given callback function is executed in a form <code>(err, message) =&gt; {}</code></li>
</ul>
<pre><code class="language-javascript">async function run() {
    const {
        ClientBuilder
    } = require('@iota/client');

    // client connects to a node that has MQTT enabled
    const client = new ClientBuilder()
        .node('https://api.hornet-0.testnet.chrysalis2.com')
        .build();

    client.subscriber().topics(['milestones/confirmed', 'messages']).subscribe((err, data) =&gt; {
        console.log(data);
        // To get the message id `client.getMessageId(data.payload)` can be used
    })
}

run()
</code></pre>
<p>Please note: IOTA node has to have enabled MQTT layer. There is a set of test nodes available that have MQTT enabled. See <a href="https://chrysalis.docs.iota.org/testnet.html">testnet chapter</a> for more information</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="api-reference-1"><a class="header" href="#api-reference-1">API Reference</a></h1>
<h2 id="api-reference-2"><a class="header" href="#api-reference-2">API Reference</a></h2>
<h3 id="clientbuilder"><a class="header" href="#clientbuilder">ClientBuilder</a></h3>
<h4 id="nodeurl-clientbuilder"><a class="header" href="#nodeurl-clientbuilder">node(url): ClientBuilder</a></h4>
<p>Adds an IOTA node to the client pool.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>url</td><td><code>string</code></td><td>A node URL</td></tr>
</tbody></table>
<p><strong>Returns</strong> the client builder instance for chained calls.</p>
<h4 id="nodeauthurl-authoptions-clientbuilder"><a class="header" href="#nodeauthurl-authoptions-clientbuilder">nodeAuth(url, authOptions): ClientBuilder</a></h4>
<p>Adds an IOTA node with authentication to the client pool.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>url</td><td><code>string</code></td><td>A node URL</td></tr>
<tr><td>authOptions</td><td><code><a href="libraries/nodejs/api_reference.html#nodeauthoptions">NodeAuthOptions</a></code></td><td>Options for node authentication</td></tr>
</tbody></table>
<p><strong>Returns</strong> the client builder instance for chained calls.</p>
<h4 id="primarynodeurl--authoptions-clientbuilder"><a class="header" href="#primarynodeurl--authoptions-clientbuilder">primaryNode(url, [, authOptions]): ClientBuilder</a></h4>
<p>Add a node to always connect first to with optional authentication.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>url</td><td><code>string</code></td><td>A node URL</td></tr>
<tr><td>authOptions</td><td><code><a href="libraries/nodejs/api_reference.html#nodeauthoptions">NodeAuthOptions</a></code></td><td>Options for node authentication</td></tr>
</tbody></table>
<p><strong>Returns</strong> the client builder instance for chained calls.</p>
<h4 id="primarypownodeurl--authoptions-clientbuilder"><a class="header" href="#primarypownodeurl--authoptions-clientbuilder">primaryPowNode(url, [, authOptions]): ClientBuilder</a></h4>
<p>Add a node to always connect first to when using remote PoW with optional authentication. Will overwrite the primary node for this case.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>url</td><td><code>string</code></td><td>A node URL</td></tr>
<tr><td>authOptions</td><td><code><a href="libraries/nodejs/api_reference.html#nodeauthoptions">NodeAuthOptions</a></code></td><td>Options for node authentication</td></tr>
</tbody></table>
<p><strong>Returns</strong> the client builder instance for chained calls.</p>
<h4 id="permanodeurl--authoptions-clientbuilder"><a class="header" href="#permanodeurl--authoptions-clientbuilder">permanode(url, [, authOptions]): ClientBuilder</a></h4>
<p>Add a permanode.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>url</td><td><code>string</code></td><td>A node URL</td></tr>
<tr><td>authOptions</td><td><code><a href="libraries/nodejs/api_reference.html#nodeauthoptions">NodeAuthOptions</a></code></td><td>Options for node authentication</td></tr>
</tbody></table>
<p><strong>Returns</strong> the client builder instance for chained calls.</p>
<h4 id="nodesurls-clientbuilder"><a class="header" href="#nodesurls-clientbuilder">nodes(urls): ClientBuilder</a></h4>
<p>Adds a list of IOTA nodes to the client pool.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>url</td><td><code>string[]</code></td><td>An array of node URLs</td></tr>
</tbody></table>
<p><strong>Returns</strong> the client builder instance for chained calls.</p>
<h4 id="nodepoolurlsurls-clientbuilder"><a class="header" href="#nodepoolurlsurls-clientbuilder">nodePoolUrls(urls): ClientBuilder</a></h4>
<p>Adds a list of IOTA nodes from node pool URLs to the client pool.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>url</td><td><code>string[]</code></td><td>An array of node pool URLs</td></tr>
</tbody></table>
<p><strong>Returns</strong> the client builder instance for chained calls.</p>
<h4 id="networknetworkname-clientbuilder"><a class="header" href="#networknetworkname-clientbuilder">network(networkName): ClientBuilder</a></h4>
<p>Set a network to get default nodes for it. Can be &quot;testnet&quot; or &quot;mainnet&quot;.
Nodes that don't belong to this network are ignored.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>networkName</td><td><code>string</code></td><td>The network</td></tr>
</tbody></table>
<p><strong>Returns</strong> the client builder instance for chained calls.</p>
<h4 id="quorumenabled-clientbuilder"><a class="header" href="#quorumenabled-clientbuilder">quorum(enabled): ClientBuilder</a></h4>
<p>Defines how many of nodes will be queried at the same time to check for quorum.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>enabled</td><td><code>boolean</code></td><td>Define if quourm should be used or not</td></tr>
</tbody></table>
<p><strong>Returns</strong> the client builder instance for chained calls.</p>
<h4 id="quorumsizesize-clientbuilder"><a class="header" href="#quorumsizesize-clientbuilder">quorumSize(size): ClientBuilder</a></h4>
<p>Defines how many of nodes will be queried at the same time to check for quorum.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>size</td><td><code>number</code></td><td>The number of nodes that will be queried</td></tr>
</tbody></table>
<p><strong>Returns</strong> the client builder instance for chained calls.</p>
<h4 id="quorumthresholdthreshold-clientbuilder"><a class="header" href="#quorumthresholdthreshold-clientbuilder">quorumThreshold(threshold): ClientBuilder</a></h4>
<p>Defines the minimum amount of nodes from the quorum pool that need to agree if we want to consider the result true.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>threshold</td><td><code>number</code></td><td>Minimum amount of nodes</td></tr>
</tbody></table>
<p><strong>Returns</strong> the client builder instance for chained calls.</p>
<h4 id="brokeroptionsoptions-clientbuilder"><a class="header" href="#brokeroptionsoptions-clientbuilder">brokerOptions(options): ClientBuilder</a></h4>
<p>Sets the options for the MQTT connection with the node.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>options</td><td><code><a href="libraries/nodejs/api_reference.html#brokeroptions">BrokerOptions</a></code></td><td>The MQTT broker options</td></tr>
</tbody></table>
<p><strong>Returns</strong> the client builder instance for chained calls.</p>
<h4 id="nodesyncintervalinterval-clientbuilder"><a class="header" href="#nodesyncintervalinterval-clientbuilder">nodeSyncInterval(interval): ClientBuilder</a></h4>
<p>Sets the node syncing interval.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>interval</td><td><code>number</code></td><td>The interval for the node syncing process</td></tr>
</tbody></table>
<p><strong>Returns</strong> the client builder instance for chained calls.</p>
<h4 id="disablenodesync-clientbuilder"><a class="header" href="#disablenodesync-clientbuilder">disableNodeSync(): ClientBuilder</a></h4>
<p>Disables the node syncing process. Every node will be considered healthy and ready to use.</p>
<p><strong>Returns</strong> the client builder instance for chained calls.</p>
<h4 id="requesttimeouttimeoutms-clientbuilder"><a class="header" href="#requesttimeouttimeoutms-clientbuilder">requestTimeout(timeoutMs): ClientBuilder</a></h4>
<p>Sets the default HTTP request timeout.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>timeout</td><td><code>number</code></td><td>The timeout in milliseconds</td></tr>
</tbody></table>
<p><strong>Returns</strong> the client builder instance for chained calls.</p>
<h4 id="apitimeoutapi-timeoutms-clientbuilder"><a class="header" href="#apitimeoutapi-timeoutms-clientbuilder">apiTimeout(api, timeoutMs): ClientBuilder</a></h4>
<p>Sets the HTTP request timeout for the specified API.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>api</td><td><code>'GetHealth' | 'GetInfo' | 'GetTips' | 'PostMessage' | 'GetOutput' | 'GetMilestone'</code></td><td>The API to set the request timeout</td></tr>
<tr><td>timeout</td><td><code>number</code></td><td>The timeout in milliseconds</td></tr>
</tbody></table>
<p><strong>Returns</strong> the client builder instance for chained calls.</p>
<h4 id="localpowlocal-clientbuilder"><a class="header" href="#localpowlocal-clientbuilder">localPow(local): ClientBuilder</a></h4>
<p>Sets the PoW type.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>local</td><td><code>boolean</code></td><td>Flag determining if PoW should be done locally or remotely</td></tr>
</tbody></table>
<p><strong>Returns</strong> the client builder instance for chained calls.</p>
<h4 id="build-client"><a class="header" href="#build-client">build(): Client</a></h4>
<p>Builds the client instance.</p>
<p><strong>Returns</strong> a <a href="libraries/nodejs/api_reference.html#client">Client</a> instance.</p>
<h3 id="client"><a class="header" href="#client">Client</a></h3>
<h4 id="networkinfo-networkinfo"><a class="header" href="#networkinfo-networkinfo">networkInfo(): NetworkInfo</a></h4>
<p>Gets the cached network info.</p>
<p><strong>Returns</strong> a <a href="libraries/nodejs/api_reference.html#networkinfo">NetworkInfo</a> instance.</p>
<h4 id="subscriber-topicsubscriber"><a class="header" href="#subscriber-topicsubscriber">subscriber(): TopicSubscriber</a></h4>
<p>Gets a handle to the MQTT topic subscriber.</p>
<p><strong>Returns</strong> a <a href="libraries/nodejs/api_reference.html#topicsubscriber">TopicSubscriber</a> instance.</p>
<h4 id="message-messagesender"><a class="header" href="#message-messagesender">message(): MessageSender</a></h4>
<p>Initiates the builder to send messages.</p>
<p><strong>Returns</strong> a <a href="libraries/nodejs/api_reference.html#messagesender">MessageSender</a> instance.</p>
<h4 id="getunspentaddressseed-unspentaddressgetter"><a class="header" href="#getunspentaddressseed-unspentaddressgetter">getUnspentAddress(seed): UnspentAddressGetter</a></h4>
<p>Get a valid unspent address.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>seed</td><td><code>string</code></td><td>The hex-encoded seed to search</td></tr>
</tbody></table>
<p><strong>Returns</strong> a <a href="libraries/nodejs/api_reference.html#unspentaddressgetter">UnspentAddressGetter</a> instance.</p>
<h4 id="getaddressesseed-addressgetter"><a class="header" href="#getaddressesseed-addressgetter">getAddresses(seed): AddressGetter</a></h4>
<p>Find addresses from the seed regardless of their validity.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>seed</td><td><code>string</code></td><td>The hex-encoded seed to search</td></tr>
</tbody></table>
<p><strong>Returns</strong> a <a href="libraries/nodejs/api_reference.html#addressgetter">AddressGetter</a> instance.</p>
<h4 id="findmessagesindexationkeys-messageids-promisemessage"><a class="header" href="#findmessagesindexationkeys-messageids-promisemessage">findMessages(indexationKeys, messageIds): Promise&lt;Message[]&gt;</a></h4>
<p>Finds all messages associated with the given indexation keys and message ids.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>indexationKeys</td><td><code>string[]</code></td><td>The list of indexations keys too search</td></tr>
<tr><td>messageIds</td><td><code>string[]</code></td><td>The list of message ids to search</td></tr>
</tbody></table>
<p><strong>Returns</strong> a promise resolving to the list of the found messages.</p>
<h4 id="getbalanceseed-string-balancegetter"><a class="header" href="#getbalanceseed-string-balancegetter">getBalance(seed: string): BalanceGetter</a></h4>
<p>Get balance on a given seed and its wallet account index.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>seed</td><td><code>string</code></td><td>The hex-encoded seed to search</td></tr>
</tbody></table>
<p><strong>Returns</strong> a <a href="libraries/nodejs/api_reference.html#balancegetter">BalanceGetter</a> instance.</p>
<h4 id="getaddressbalancesaddresses-promiseaddressbalance"><a class="header" href="#getaddressbalancesaddresses-promiseaddressbalance">getAddressBalances(addresses): Promise&lt;AddressBalance[]&gt;</a></h4>
<p>Get the balance in iotas for the given addresses.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>addresses</td><td><code>string[]</code></td><td>The list of addresses to search</td></tr>
</tbody></table>
<p><strong>Returns</strong> A promise resolving to the list of <code>{ address, balance }</code> pairs.</p>
<h4 id="generatemnemonic"><a class="header" href="#generatemnemonic">generateMnemonic()</a></h4>
<p>Returns a random generated Bip39 mnemonic with the English word list.</p>
<p><strong>Returns</strong> A String</p>
<h4 id="mnemonictohexseedmnemonic"><a class="header" href="#mnemonictohexseedmnemonic">mnemonicToHexSeed(mnemonic)</a></h4>
<p>Returns the seed hex encoded.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>mnemonic</td><td><code>string</code></td><td>Bip39 mnemonic with words from the English word list.</td></tr>
</tbody></table>
<p><strong>Returns</strong> A String</p>
<h4 id="bech32tohexbech32"><a class="header" href="#bech32tohexbech32">bech32ToHex(bech32)</a></h4>
<p>Returns a parsed hex String from bech32.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>bech32</td><td><code>string</code></td><td>The address Bech32 string</td></tr>
</tbody></table>
<p><strong>Returns</strong> A String</p>
<h4 id="hextobech32hex-bech32_hrp-optional"><a class="header" href="#hextobech32hex-bech32_hrp-optional">hexToBech32(hex, bech32_hrp (optional))</a></h4>
<p>Returns a parsed bech32 String from hex.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>bech32</td><td><code>string</code></td><td>The address Bech32 string</td></tr>
<tr><td>bech32_hrp</td><td><code>string</code></td><td>The Bech32 hrp string</td></tr>
</tbody></table>
<p><strong>Returns</strong> A String</p>
<h4 id="isaddressvalidaddress-string-boolean"><a class="header" href="#isaddressvalidaddress-string-boolean">isAddressValid(address: string): boolean</a></h4>
<p>Checks if a given address is valid.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>address</td><td><code>string</code></td><td>The address Bech32 string</td></tr>
</tbody></table>
<p><strong>Returns</strong> A boolean.</p>
<h4 id="getmessageidmessage-string-boolean"><a class="header" href="#getmessageidmessage-string-boolean">getMessageId(message: string): boolean</a></h4>
<p>Returns the message id from a message.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>message</td><td><code>string</code></td><td>The message id</td></tr>
</tbody></table>
<p><strong>Returns</strong> the message id.</p>
<h4 id="retrymessageid-string-promisemessage"><a class="header" href="#retrymessageid-string-promisemessage">retry(messageId: string): Promise<Message></a></h4>
<p>Retries (promotes or reattaches) the message associated with the given id.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>messageId</td><td><code>string</code></td><td>The id of the message to retry</td></tr>
</tbody></table>
<p><strong>Returns</strong> A promise resolving to the new <a href="libraries/nodejs/api_reference.html#message">Message</a> instance.</p>
<h4 id="retryuntilincludedmessageid-string-interval-int-maxattempts-int-promisemessage"><a class="header" href="#retryuntilincludedmessageid-string-interval-int-maxattempts-int-promisemessage">retryUntilIncluded(messageId: string[, interval: int, maxAttempts: int]): Promise<Message></a></h4>
<p>Retries (promotes or reattaches) the message associated with the given id until it's included in the Tangle.
Default interval is 5 seconds and max_attempts is 10.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>messageId</td><td><code>string</code></td><td>The id of the message to retry</td></tr>
<tr><td>[options.interval]</td><td><code>int</code></td><td>The interval in seconds in which we retry the message.</td></tr>
<tr><td>[options.maxAttempts]</td><td><code>int</code></td><td>The maximum of attempts we retry the message.</td></tr>
</tbody></table>
<p><strong>Returns</strong> the message ids and <a href="libraries/nodejs/api_reference.html#message">Message</a> of reattached messages.</p>
<h4 id="consolidatefundsseed-string-accountindex-int-startindex-int-endindex-int-promisestring"><a class="header" href="#consolidatefundsseed-string-accountindex-int-startindex-int-endindex-int-promisestring">consolidateFunds(seed: string, accountIndex: int, startIndex: int, endIndex: int): Promise<string></a></h4>
<p>Function to consolidate all funds from a range of addresses to the address with the lowest index in that range</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>seed</td><td><code>string</code></td><td>The seed</td></tr>
<tr><td>accountIndex</td><td><code>int</code></td><td>The account index.</td></tr>
<tr><td>startIndex</td><td><code>int</code></td><td>The lowest address index, funds will be consolidated to this address.</td></tr>
<tr><td>endIndex</td><td><code>int</code></td><td>The address index until which funds will be consolidated</td></tr>
</tbody></table>
<p><strong>Returns</strong> the address to which the funds got consolidated, if any were available.</p>
<h4 id="getinfo-promisenodeinfowrapper"><a class="header" href="#getinfo-promisenodeinfowrapper">getInfo(): Promise<NodeInfoWrapper></a></h4>
<p>Gets information about the node.</p>
<p><strong>Returns</strong> a promise resolving to the <a href="libraries/nodejs/api_reference.html#nodeinfowrapper">NodeInfoWrapper</a> object.</p>
<h4 id="gettips-promisestring-string"><a class="header" href="#gettips-promisestring-string">getTips(): Promise&lt;[string, string]&gt;</a></h4>
<p>Gets two non-lazy tips.</p>
<p><strong>Returns</strong> a promise resolving to an array of length 2 containing the message ids of the tips.</p>
<h4 id="postmessagemessage-promisestring"><a class="header" href="#postmessagemessage-promisestring">postMessage(message): Promise<string></a></h4>
<p>Submits a message.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>message</td><td><code><a href="libraries/nodejs/api_reference.html#messagedto">MessageDto</a></code></td><td>The message to submit</td></tr>
</tbody></table>
<p><strong>Returns</strong> the message identifier.</p>
<h4 id="getmessage-messagefinder"><a class="header" href="#getmessage-messagefinder">getMessage(): MessageFinder</a></h4>
<p>Gets a message from its identifier.</p>
<p><strong>Returns</strong> an instance of the <a href="libraries/nodejs/api_reference.html#messagefinder">MessageFinder</a> for choices of response.</p>
<h4 id="getoutputoutputid-promiseoutputmetadata"><a class="header" href="#getoutputoutputid-promiseoutputmetadata">getOutput(outputId): Promise<OutputMetadata></a></h4>
<p>Gets the UTXO outputs associated with the given output id.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>outputId</td><td><code>string</code></td><td>The id of the output to search</td></tr>
</tbody></table>
<p><strong>Returns</strong> a promise resolving to the associated <a href="libraries/nodejs/api_reference.html#outputmetadata">OutputMetadata</a>.</p>
<h4 id="findoutputsoutputids-addresses-promiseoutputmetadata"><a class="header" href="#findoutputsoutputids-addresses-promiseoutputmetadata">findOutputs(outputIds, addresses): Promise&lt;OutputMetadata[]&gt;</a></h4>
<p>Gets the UTXO outputs associated with the given output ids and addresses.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>addresses</td><td><code>string[]</code></td><td>The list of addresses to search</td></tr>
<tr><td>outputIds</td><td><code>string[]</code></td><td>The list of output ids to search</td></tr>
</tbody></table>
<p><strong>Returns</strong> a promise resolving to a list of <a href="libraries/nodejs/api_reference.html#outputmetadata">OutputMetadata</a>.</p>
<h4 id="getaddressoutputsaddress-options-promisestring"><a class="header" href="#getaddressoutputsaddress-options-promisestring">getAddressOutputs(address[, options]): Promise&lt;string[]&gt;</a></h4>
<p>Gets the UTXO outputs associated with the given address.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>address</td><td><code>string</code></td><td>The address Bech32 string</td></tr>
<tr><td>[options.includeSpent]</td><td><code>boolean</code></td><td>Whether the query should include spent outputs or not</td></tr>
<tr><td>[options.outputType]</td><td><code>'SignatureLockedSingle' | 'SignatureLockedDustAllowance'</code></td><td>The output type filter</td></tr>
</tbody></table>
<p><strong>Returns</strong> a promise resolving to a list of output ids.</p>
<h4 id="getaddressbalanceaddress-promiseaddressbalance"><a class="header" href="#getaddressbalanceaddress-promiseaddressbalance">getAddressBalance(address): Promise<AddressBalance></a></h4>
<p>Gets the balance of the given address.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>address</td><td><code>string</code></td><td>The address Bech32 string</td></tr>
</tbody></table>
<h4 id="getmilestoneindex-promisemilestonemetadata"><a class="header" href="#getmilestoneindex-promisemilestonemetadata">getMilestone(index): Promise<MilestoneMetadata></a></h4>
<p>Gets the milestone by the given index.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>index</td><td><code>number</code></td><td>The index of the milestone</td></tr>
</tbody></table>
<p><strong>Returns</strong> a promise resolving to the <a href="libraries/nodejs/api_reference.html#milestonemetadata">MilestoneMetadata</a>.</p>
<h4 id="getmilestoneutxochangesindex-promisemilestoneutxochanges"><a class="header" href="#getmilestoneutxochangesindex-promisemilestoneutxochanges">getMilestoneUtxoChanges(index): Promise<MilestoneUTXOChanges></a></h4>
<p>Gets the utxo changes by the given milestone index.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>index</td><td><code>number</code></td><td>The index of the milestone</td></tr>
</tbody></table>
<p><strong>Returns</strong> a promise resolving to the <a href="libraries/nodejs/api_reference.html#MilestoneUTXOChanges">MilestoneUTXOChanges</a>.</p>
<h4 id="getreceipts-promisereceipts"><a class="header" href="#getreceipts-promisereceipts">getReceipts(): Promise&lt;Receipts[]&gt;</a></h4>
<p>Get all receipts.</p>
<p><strong>Returns</strong> a promise resolving to the <a href="libraries/nodejs/api_reference.html#Receipts">Receipts</a>.</p>
<h4 id="getreceiptsmigratedatindex-promisereceipts"><a class="header" href="#getreceiptsmigratedatindex-promisereceipts">getReceiptsMigratedAt(index): Promise&lt;Receipts[]&gt;</a></h4>
<p>Get all receipts for a given milestone index</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>index</td><td><code>number</code></td><td>The index of the milestone</td></tr>
</tbody></table>
<p><strong>Returns</strong> a promise resolving to the <a href="libraries/nodejs/api_reference.html#Receipts">Receipts</a>.</p>
<h4 id="gettreasury-promisetreasury"><a class="header" href="#gettreasury-promisetreasury">getTreasury(): Promise<Treasury></a></h4>
<p>Get the treasury amount.</p>
<p><strong>Returns</strong> a promise resolving to the <a href="libraries/nodejs/api_reference.html#Treasury">Treasury</a>.</p>
<h4 id="getincludedmessage-promisemessage"><a class="header" href="#getincludedmessage-promisemessage">getIncludedMessage(): Promise<Message></a></h4>
<p>Get the included message of a transaction.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>index</td><td><code>string</code></td><td>The id of the transaction</td></tr>
</tbody></table>
<p><strong>Returns</strong> A promise resolving to the new <a href="libraries/nodejs/api_reference.html#message">Message</a> instance.</p>
<h4 id="reattachmessageid-promisemessage"><a class="header" href="#reattachmessageid-promisemessage">reattach(messageId): Promise<Message></a></h4>
<p>Reattaches the message associated with the given id.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>messageId</td><td><code>string</code></td><td>The id of the message to reattach</td></tr>
</tbody></table>
<p><strong>Returns</strong> A promise resolving to the new <a href="libraries/nodejs/api_reference.html#message">Message</a> instance.</p>
<h4 id="promotemessageid-promisemessage"><a class="header" href="#promotemessageid-promisemessage">promote(messageId): Promise<Message></a></h4>
<p>Promotes the message associated with the given id.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>messageId</td><td><code>string</code></td><td>The id of the message to promote</td></tr>
</tbody></table>
<p><strong>Returns</strong> A promise resolving to the new <a href="libraries/nodejs/api_reference.html#message">Message</a> instance.</p>
<h3 id="networkinfo"><a class="header" href="#networkinfo">NetworkInfo</a></h3>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>network</td><td><code>string</code></td><td>The network</td></tr>
<tr><td>networkId</td><td><code>number</code></td><td>The network hashed</td></tr>
<tr><td>bech32HRP</td><td><code>string</code></td><td>Bech32 HRP for this network</td></tr>
<tr><td>minPoWScore</td><td><code>number</code></td><td>The network's minimum score for PoW</td></tr>
<tr><td>localPow</td><td><code>boolean</code></td><td>Whether we are using local PoW or not</td></tr>
</tbody></table>
<h3 id="topicsubscriber"><a class="header" href="#topicsubscriber">TopicSubscriber</a></h3>
<p>Possible topics:</p>
<pre><code class="language-bash">milestones/latest
milestones/confirmed

messages
messages/referenced
messages/indexation/{index}
messages/{messageId}/metadata
transactions/{transactionId}/included-message

outputs/{outputId}

addresses/{address}/outputs
addresses/ed25519/{address}/outputs
</code></pre>
<h4 id="topictopic-topicsubscriber"><a class="header" href="#topictopic-topicsubscriber">topic(topic): TopicSubscriber</a></h4>
<p>Adds a topic to this manager instance.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>topic</td><td><code>string</code></td><td>A MQTT topic</td></tr>
</tbody></table>
<p><strong>Returns</strong> the topic subscriber instance for chained calls.</p>
<h4 id="topicstopic-topicsubscriber"><a class="header" href="#topicstopic-topicsubscriber">topics(topic): TopicSubscriber</a></h4>
<p>Adds a list of topics to this manager instance.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>topics</td><td><code>string[]</code></td><td>An array of MQTT topics</td></tr>
</tbody></table>
<p><strong>Returns</strong> the topic subscriber instance for chained calls.</p>
<h4 id="subscribecb-topicsubscriber"><a class="header" href="#subscribecb-topicsubscriber">subscribe(cb): TopicSubscriber</a></h4>
<p>Subscribe to the provided topics.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>cb</td><td><code>function</code></td><td>The topic handler callback in the form of <code>(err, message) =&gt; {}</code></td></tr>
</tbody></table>
<p><strong>Returns</strong> the topic subscriber instance for chained calls.</p>
<h4 id="unsubscribecb-callback-topicsubscriber"><a class="header" href="#unsubscribecb-callback-topicsubscriber">unsubscribe(cb: Callback): TopicSubscriber</a></h4>
<p>Unsubscribes from the provided topics.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>cb</td><td><code>function</code></td><td>A callback executed when the unsubscribe is finished in the form of <code>(err, message) =&gt; {}</code></td></tr>
</tbody></table>
<p><strong>Returns</strong> the topic subscriber instance for chained calls.</p>
<h3 id="messagesender"><a class="header" href="#messagesender">MessageSender</a></h3>
<p>Builder to create and submit messages to the Tangle.</p>
<h4 id="indexindex-messagesender"><a class="header" href="#indexindex-messagesender">index(index): MessageSender</a></h4>
<p>Sets the message indexation. This field is required for indexation payloads.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>index</td><td><code>string</td><td>number[]</td></tr>
</tbody></table>
<p><strong>Returns</strong> the message submit instance for chained calls.</p>
<h4 id="datadata-messagesender"><a class="header" href="#datadata-messagesender">data(data): MessageSender</a></h4>
<p>Sets the indexation data.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>data</td><td><code>string</td><td>Uint8Array</code></td></tr>
</tbody></table>
<p><strong>Returns</strong> the message submit instance for chained calls.</p>
<h4 id="seedseed-messagesender"><a class="header" href="#seedseed-messagesender">seed(seed): MessageSender</a></h4>
<p>Sets the transaction account seed. This field is required for transaction payloads.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>seed</td><td><code>string</code></td><td>The hex-encoded seed of the account to spend</td></tr>
</tbody></table>
<p><strong>Returns</strong> the message submit instance for chained calls.</p>
<h4 id="parentsmessageid-messagesender"><a class="header" href="#parentsmessageid-messagesender">parents(messageId): MessageSender</a></h4>
<p>Sets 1-8 custom parent message ids.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>messageId</td><td><code>string[]</code></td><td>The parents message ids</td></tr>
</tbody></table>
<p><strong>Returns</strong> the message submit instance for chained calls.</p>
<h4 id="accountindexindex-messagesender"><a class="header" href="#accountindexindex-messagesender">accountIndex(index): MessageSender</a></h4>
<p>Sets the account index. This field is required for transactions.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>index</td><td><code>number</code></td><td>The account index</td></tr>
</tbody></table>
<p><strong>Returns</strong> the message submit instance for chained calls.</p>
<h4 id="inputtransactionid-index-messagesender"><a class="header" href="#inputtransactionid-index-messagesender">input(transactionId, index): MessageSender</a></h4>
<p>Adds an output to the transaction.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>transactionId</td><td><code>string</code></td><td>The transaction id</td></tr>
<tr><td>index</td><td><code>number</code></td><td>The input index</td></tr>
</tbody></table>
<p><strong>Returns</strong> the message submit instance for chained calls.</p>
<h4 id="inputrangestart-end-messagesender"><a class="header" href="#inputrangestart-end-messagesender">inputRange(start, end): MessageSender</a></h4>
<p>Defines the range in which to search for addresses fro custom inputs.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>start</td><td><code>number</code></td><td>The start index</td></tr>
<tr><td>end</td><td><code>number</code></td><td>The end index</td></tr>
</tbody></table>
<p><strong>Returns</strong> the message submit instance for chained calls.</p>
<h4 id="outputaddress-amount-messagesender"><a class="header" href="#outputaddress-amount-messagesender">output(address, amount): MessageSender</a></h4>
<p>Adds an output to the transaction.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>address</td><td><code>string</code></td><td>The output address</td></tr>
<tr><td>amount</td><td><code>number</code></td><td>The output amount</td></tr>
</tbody></table>
<p><strong>Returns</strong> the message submit instance for chained calls.</p>
<h4 id="dustallowanceoutputaddress-amount-messagesender"><a class="header" href="#dustallowanceoutputaddress-amount-messagesender">dustAllowanceOutput(address, amount): MessageSender</a></h4>
<p>Adds a dust allowance output to the transaction.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>address</td><td><code>string</code></td><td>The output address</td></tr>
<tr><td>amount</td><td><code>number</code></td><td>The output amount</td></tr>
</tbody></table>
<p><strong>Returns</strong> the message submit instance for chained calls.</p>
<h4 id="initialaddressindexindex-messagesender"><a class="header" href="#initialaddressindexindex-messagesender">initialAddressIndex(index): MessageSender</a></h4>
<p>Sets the initial address index to search for balance. Defaults to 0 if the function isn't called.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>index</td><td><code>number</code></td><td>The initial address index</td></tr>
</tbody></table>
<p><strong>Returns</strong> the message submit instance for chained calls.</p>
<h4 id="submit-promisemessagewrapper"><a class="header" href="#submit-promisemessagewrapper">submit(): Promise<MessageWrapper></a></h4>
<p>Submits the message.</p>
<p><strong>Returns</strong> a promise resolving to the message identifier.</p>
<h3 id="unspentaddressgetter"><a class="header" href="#unspentaddressgetter">UnspentAddressGetter</a></h3>
<p>Gets a valid unspent address associated with the seed.</p>
<h4 id="accountindexindex-unspentaddressgetter"><a class="header" href="#accountindexindex-unspentaddressgetter">accountIndex(index): UnspentAddressGetter</a></h4>
<p>Sets the account index. This field is required.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>index</td><td><code>number</code></td><td>The account index</td></tr>
</tbody></table>
<p><strong>Returns</strong> the address getter instance for chained calls.</p>
<h4 id="initialaddressindexindex-unspentaddressgetter"><a class="header" href="#initialaddressindexindex-unspentaddressgetter">initialAddressIndex(index): UnspentAddressGetter</a></h4>
<p>Sets the initial address index. Defaults to 0 if the function isn't called.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>index</td><td><code>number</code></td><td>The initial address index</td></tr>
</tbody></table>
<p><strong>Returns</strong> the address getter instance for chained calls.</p>
<h4 id="get-promiseaddress-number"><a class="header" href="#get-promiseaddress-number">get(): Promise&lt;[Address, number]&gt;</a></h4>
<p>Performs the operation.</p>
<p><strong>Returns</strong> a promise resolving to the <a href="libraries/nodejs/api_reference.html#address">Address</a> instance and its index.</p>
<h3 id="addressgetter"><a class="header" href="#addressgetter">AddressGetter</a></h3>
<p>Generates addresses with a given seed.</p>
<h4 id="accountindexindex-addressgetter"><a class="header" href="#accountindexindex-addressgetter">accountIndex(index): AddressGetter</a></h4>
<p>Sets the account index. This field is required.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>index</td><td><code>number</code></td><td>The account index</td></tr>
</tbody></table>
<p><strong>Returns</strong> the address finder instance for chained calls.</p>
<h4 id="rangestart-end-addressgetter"><a class="header" href="#rangestart-end-addressgetter">range(start, end): AddressGetter</a></h4>
<p>Defines the range of addresses to get. Defaults to <code>0..20</code> if the function isn't called.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>start</td><td><code>number</code></td><td>The first address index</td></tr>
<tr><td>end</td><td><code>number</code></td><td>The last address index</td></tr>
</tbody></table>
<p><strong>Returns</strong> the address finder instance for chained calls.</p>
<h4 id="includeinternal-addressgetter"><a class="header" href="#includeinternal-addressgetter">includeInternal(): AddressGetter</a></h4>
<p>Defines that public and internal address will be returned instead of only public addresses.</p>
<p><strong>Returns</strong> the address finder instance for chained calls.</p>
<h4 id="bech32hrpbech32hrp-addressgetter"><a class="header" href="#bech32hrpbech32hrp-addressgetter">bech32Hrp(bech32Hrp): AddressGetter</a></h4>
<p>Defines the bech32Hrp for the bech32 encoded addresses, required when generating addresses offline(with disableNodeSync()).</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>bech32Hrp</td><td><code>string</code></td><td>The bech32Hrp for the addresses</td></tr>
</tbody></table>
<p><strong>Returns</strong> the address finder instance for chained calls.</p>
<h4 id="get-address--address-bool"><a class="header" href="#get-address--address-bool">get(): Address[] | [Address, bool][]</a></h4>
<p>Performs the operation.</p>
<p><strong>Returns</strong> an array of public <a href="libraries/nodejs/api_reference.html#address">Address</a> instances or an array of arrays with an Address and a bool,
where the bool defines whether it's an internal address or not.</p>
<h3 id="balancegetter"><a class="header" href="#balancegetter">BalanceGetter</a></h3>
<p>Gets balance on a given seed.</p>
<h4 id="accountindexindex-balancegetter"><a class="header" href="#accountindexindex-balancegetter">accountIndex(index): BalanceGetter</a></h4>
<p>Sets the account index. This field is required.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>index</td><td><code>number</code></td><td>The account index</td></tr>
</tbody></table>
<p><strong>Returns</strong> the balance getter instance for chained calls.</p>
<h4 id="initialaddressindexindex-balancegetter"><a class="header" href="#initialaddressindexindex-balancegetter">initialAddressIndex(index): BalanceGetter</a></h4>
<p>Sets the initial address index. Defaults to 0 if the function isn't called.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>index</td><td><code>number</code></td><td>The initial address index</td></tr>
</tbody></table>
<p><strong>Returns</strong> the balance getter instance for chained calls.</p>
<h4 id="gaplimitamount-balancegetter"><a class="header" href="#gaplimitamount-balancegetter">gapLimit(amount): BalanceGetter</a></h4>
<p>Sets the gapLimit to specify how many addresses will be checked each round.
If gapLimit amount of addresses in a row have no balance the BalanceGetter will return. Defaults to 20 if the function isn't called.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>gapLimit</td><td><code>number</code></td><td>The initial address index</td></tr>
</tbody></table>
<p><strong>Returns</strong> the balance getter instance for chained calls.</p>
<h4 id="get-promisenumber"><a class="header" href="#get-promisenumber">get(): Promise<number></a></h4>
<p>Performs the operation.</p>
<p><strong>Returns</strong> a promise resolving to the account balance.</p>
<h3 id="messagefinder"><a class="header" href="#messagefinder">MessageFinder</a></h3>
<p>Gets a message by indexation key or identifier.</p>
<h4 id="initialaddressindexindex-promisestring"><a class="header" href="#initialaddressindexindex-promisestring">initialAddressIndex(index): Promise&lt;string[]&gt;</a></h4>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>index</td><td><code>string</code></td><td>The indexation key</td></tr>
</tbody></table>
<p>Gets a list of message identifiers associated with the given indexation key.</p>
<p><strong>Returns</strong> a promise resolving to the list of associated ids.</p>
<h4 id="dataid-promisemessage"><a class="header" href="#dataid-promisemessage">data(id): Promise<Message></a></h4>
<p>Gets the message object associated with the given identifier.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>id</td><td><code>string</code></td><td>The message identifier</td></tr>
</tbody></table>
<p><strong>Returns</strong> a <a href="libraries/nodejs/api_reference.html#message">Message</a> object.</p>
<h4 id="rawid-promisestring"><a class="header" href="#rawid-promisestring">raw(id): Promise<string></a></h4>
<p>Gets the message raw data.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>id</td><td><code>string</code></td><td>The message identifier</td></tr>
</tbody></table>
<p><strong>Returns</strong> the message raw data as string.</p>
<h4 id="childrenid-promisestring"><a class="header" href="#childrenid-promisestring">children(id): Promise&lt;string[]&gt;</a></h4>
<p>Gets the children of the given message.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>id</td><td><code>string</code></td><td>The message identifier</td></tr>
</tbody></table>
<p><strong>Returns</strong> the list of message ids of the message children.</p>
<h4 id="metadataid-promisemessagemetadata"><a class="header" href="#metadataid-promisemessagemetadata">metadata(id): Promise<MessageMetadata></a></h4>
<p>Gets the metadata of the given message.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>id</td><td><code>string</code></td><td>The message identifier</td></tr>
</tbody></table>
<p><strong>Returns</strong> a <a href="libraries/nodejs/api_reference.html#messagemetadata">MessageMetadata</a> object.</p>
<h3 id="brokeroptions"><a class="header" href="#brokeroptions">BrokerOptions</a></h3>
<p>All fields are optional.</p>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>automaticDisconnect</td><td><code>boolean</code></td><td>Whether the MQTT broker should be automatically disconnected when all topics are unsubscribed or not.</td></tr>
<tr><td>timeout</td><td><code>number</code></td><td>MQTT connection timeout in secods</td></tr>
<tr><td>useWs</td><td><code>boolean</code></td><td>Defines if websockets should be used (true) or TCP (false)</td></tr>
<tr><td>maxReconnectionAttempts</td><td><code>number</code></td><td>Defines the maximum reconnection attempts before it returns an error</td></tr>
<tr><td>port</td><td><code>number</code></td><td>Defines the port to be used for the MQTT connection</td></tr>
</tbody></table>
<h3 id="nodeauthoptions"><a class="header" href="#nodeauthoptions">NodeAuthOptions</a></h3>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>jwt</td><td><code>string</code></td><td>Optional JSON Web Token.</td></tr>
<tr><td>basicAuthName</td><td><code>string</code></td><td>Optional name for basic authentication</td></tr>
<tr><td>basicAuthPassword</td><td><code>string</code></td><td>Optional password for basic authentication</td></tr>
</tbody></table>
<h3 id="address"><a class="header" href="#address">Address</a></h3>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>data</td><td><code>string</code></td><td>Address as a Bech32 string</td></tr>
</tbody></table>
<h3 id="message"><a class="header" href="#message">Message</a></h3>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>networkId</td><td><code>number</code></td><td>Network identifier</td></tr>
<tr><td>parents</td><td><code>string[]</code></td><td>Message ids of the message references</td></tr>
<tr><td>payload</td><td><code><a href="libraries/nodejs/api_reference.html#payload">Payload</a></code></td><td>Message payload</td></tr>
<tr><td>nonce</td><td><code>number</code></td><td>Message nonce</td></tr>
</tbody></table>
<h3 id="messagewrapper"><a class="header" href="#messagewrapper">MessageWrapper</a></h3>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>message</td><td><code>Message</code></td><td>Message</td></tr>
<tr><td>messageId</td><td><code>string</code></td><td>The message id</td></tr>
</tbody></table>
<h4 id="payload"><a class="header" href="#payload">Payload</a></h4>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>data</td><td><code>{ type: 'Transaction', data: TransactionPayload } | { type: 'Indexation', data: IndexationPayload } | { type: 'Milestone', data: MilestonePayload}</code></td><td>Payload data</td></tr>
</tbody></table>
<h5 id="transactionpayload"><a class="header" href="#transactionpayload">TransactionPayload</a></h5>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>essence</td><td><code>TransactionPayloadEssence</code></td><td>Transaction essence</td></tr>
<tr><td>unlock_blocks</td><td><code>UnlockBlock[]</code></td><td>Unlock blocks</td></tr>
</tbody></table>
<ul>
<li>TransactionPayloadEssence</li>
</ul>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>inputs</td><td><code>Input[]</code></td><td>Inputs</td></tr>
<tr><td>outputs</td><td><code>Output[]</code></td><td>Outputs</td></tr>
<tr><td>payload</td><td><code>Payload | undefined</code></td><td>Payload for chaining</td></tr>
</tbody></table>
<ul>
<li>Input</li>
</ul>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>type</td><td><code>'UTXO'</code></td><td>Input type identifier</td></tr>
<tr><td>data</td><td><code>string</code></td><td>The associated output id</td></tr>
</tbody></table>
<ul>
<li>Output</li>
</ul>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>type</td><td><code>'SignatureLockedSingle'</code></td><td>Output type identifier</td></tr>
<tr><td>data</td><td><code>{ address: string, amount: number }</code></td><td>The output definition</td></tr>
</tbody></table>
<ul>
<li>UnlockBlock</li>
</ul>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>type</td><td><code>'Signature' | 'Reference'</code></td><td>Unlock block type identifier</td></tr>
<tr><td>data</td><td><code>Ed25519SignatureUnlockBlock | number</code></td><td>Unlock block data (signature type or reference index)</td></tr>
</tbody></table>
<ul>
<li>Ed25519SignatureUnlockBlock</li>
</ul>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>public_key</td><td><code>number[]</code></td><td>Ed25519 public key</td></tr>
<tr><td>signature</td><td><code>number[]</code></td><td>Ed25519 signature</td></tr>
</tbody></table>
<h5 id="indexationpayload-1"><a class="header" href="#indexationpayload-1">IndexationPayload</a></h5>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>index</td><td><code>string</code></td><td>Indexation key</td></tr>
<tr><td>data</td><td><code>number[]</code></td><td>Indexation data as byte array</td></tr>
</tbody></table>
<h5 id="milestonepayload"><a class="header" href="#milestonepayload">MilestonePayload</a></h5>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>essence</td><td><code>MilestoneEssence</code></td><td>Milestone essence</td></tr>
<tr><td>signatures</td><td><code>number[][]</code></td><td>Milestone signatures</td></tr>
</tbody></table>
<ul>
<li>MilestoneEssence</li>
</ul>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>index</td><td><code>number</code></td><td>Milestone index</td></tr>
<tr><td>timestamp</td><td><code>number</code></td><td>Timestamp</td></tr>
<tr><td>parents</td><td><code>string[]</code></td><td>Message ids of the messages the milestone references</td></tr>
<tr><td>merkleProof</td><td><code>number[]</code></td><td>Merkle proof</td></tr>
<tr><td>nextPoWScore</td><td><code>number</code></td><td>Next PoW score</td></tr>
<tr><td>nextPoWScoreMilestoneIndex</td><td><code>number</code></td><td>Milestone index at which the nextPoWScore will be used</td></tr>
<tr><td>publicKeys</td><td><code>number[][]</code></td><td>public keys</td></tr>
</tbody></table>
<h3 id="messagedto"><a class="header" href="#messagedto">MessageDto</a></h3>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>parents</td><td><code>string[] | undefined</code></td><td>Message ids of the messages it references. <code>getTips</code> is used by default</td></tr>
<tr><td>payload</td><td><code><a href="libraries/nodejs/api_reference.html#payloaddto">PayloadDto</a></code></td><td>Message payload</td></tr>
</tbody></table>
<h4 id="payloaddto"><a class="header" href="#payloaddto">PayloadDto</a></h4>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>data</td><td><code>TransactionPayloadDto | IndexationPayloadDto</code></td><td>Payload data</td></tr>
</tbody></table>
<h5 id="transactionpayloaddto"><a class="header" href="#transactionpayloaddto">TransactionPayloadDto</a></h5>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>essence</td><td><code>TransactionPayloadEssenceDto</code></td><td>Transaction essence</td></tr>
<tr><td>unlockBlocks</td><td><code>UnlockBlockDto[]</code></td><td>Unlock blocks</td></tr>
</tbody></table>
<ul>
<li>TransactionPayloadEssenceDto</li>
</ul>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>inputs</td><td><code>string[]</code></td><td>Inputs</td></tr>
<tr><td>outputs</td><td><code>Output[]</code></td><td>Outputs</td></tr>
<tr><td>payload</td><td><code>PayloadDto | undefined</code></td><td>Payload for chaining</td></tr>
</tbody></table>
<ul>
<li>OutputDto</li>
</ul>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>address</td><td><code>string</code></td><td>Output address</td></tr>
<tr><td>amount</td><td><code>amount</code></td><td>Output amount</td></tr>
</tbody></table>
<ul>
<li>UnlockBlockDto</li>
</ul>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>data</td><td><code>Ed25519SignatureUnlockBlockDto | number</code></td><td>Unlock block data (signature type or reference index)</td></tr>
</tbody></table>
<ul>
<li>Ed25519SignatureUnlockBlockDto</li>
</ul>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>publicKey</td><td><code>number[]</code></td><td>Ed25519 public key</td></tr>
<tr><td>signature</td><td><code>number[]</code></td><td>Ed25519 signature</td></tr>
</tbody></table>
<h5 id="indexationpayloaddto"><a class="header" href="#indexationpayloaddto">IndexationPayloadDto</a></h5>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>index</td><td><code>string</code></td><td>Indexation key</td></tr>
<tr><td>data</td><td><code>Uint8Array</code></td><td>Indexation data</td></tr>
</tbody></table>
<h5 id="addressbalance"><a class="header" href="#addressbalance">AddressBalance</a></h5>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>address</td><td><code>string</code></td><td>Bech32 encoded address</td></tr>
<tr><td>balance</td><td><code>number</code></td><td>Address balance</td></tr>
<tr><td>dustAllowed</td><td><code>boolean</code></td><td>Dust allowed</td></tr>
</tbody></table>
<h3 id="messagemetadata"><a class="header" href="#messagemetadata">MessageMetadata</a></h3>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>messageId</td><td><code>string</code></td><td>Message identifier</td></tr>
<tr><td>parents</td><td><code>string[]</code></td><td>Message id of the messages it references</td></tr>
<tr><td>isSolid</td><td><code>boolean</code></td><td>Message solid state</td></tr>
<tr><td>shouldPromote</td><td><code>boolean | undefined</code></td><td>Indicates whether the message should be promoted or not</td></tr>
<tr><td>shouldReattach</td><td><code>boolean | undefined</code></td><td>Indicates whether the message should be reattached or not</td></tr>
<tr><td>referencedByMilestoneIndex</td><td><code>number | undefined</code></td><td>Index of the milestone that references this message</td></tr>
<tr><td>ledgerInclusionState</td><td><code>string | undefined</code></td><td>Ledger inclusion state</td></tr>
</tbody></table>
<h3 id="nodeinfowrapper"><a class="header" href="#nodeinfowrapper">NodeInfoWrapper</a></h3>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>url</td><td><code>string</code></td><td>Node url</td></tr>
<tr><td>nodeinfo</td><td><code>NodeInfo</code></td><td>NodeInfo</td></tr>
</tbody></table>
<h3 id="nodeinfo"><a class="header" href="#nodeinfo">NodeInfo</a></h3>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>name</td><td><code>string</code></td><td>Node name</td></tr>
<tr><td>version</td><td><code>string</code></td><td>Node version</td></tr>
<tr><td>isHealthy</td><td><code>boolean</code></td><td>Node health status</td></tr>
<tr><td>networkId</td><td><code>string</code></td><td>Node network identifier</td></tr>
<tr><td>bech32HRP</td><td><code>string</code></td><td>Bech32 HRP for this network</td></tr>
<tr><td>minPoWScore</td><td><code>number</code></td><td>Min PoW score</td></tr>
<tr><td>messagesPerSecond</td><td><code>number</code></td><td>Network stats: Messages per second in the network</td></tr>
<tr><td>referencedMessagesPerSecond</td><td><code>number</code></td><td>Network stats: Referenced messages per second</td></tr>
<tr><td>referencedRate</td><td><code>number</code></td><td>Network stats: referenced rate</td></tr>
<tr><td>latestMilestoneTimestamp</td><td><code>number</code></td><td>Timestamp of the latest milestone</td></tr>
<tr><td>latestMilestoneIndex</td><td><code>number</code></td><td>Index of the latest milestone</td></tr>
<tr><td>confirmedMilestoneIndex</td><td><code>number</code></td><td>Index of the confirmed milestone</td></tr>
<tr><td>pruningIndex</td><td><code>number</code></td><td>Pruning index</td></tr>
<tr><td>features</td><td><code>string[]</code></td><td>List of node features</td></tr>
</tbody></table>
<h3 id="outputmetadata"><a class="header" href="#outputmetadata">OutputMetadata</a></h3>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>messageId</td><td><code>string</code></td><td>Id of the message associated with the output</td></tr>
<tr><td>transactionId</td><td><code>string</code></td><td>Id of the transaction associated with the output</td></tr>
<tr><td>outputIndex</td><td><code>number</code></td><td>Output index</td></tr>
<tr><td>isSpent</td><td><code>boolean</code></td><td>Output spent state</td></tr>
<tr><td>address</td><td><code>string</code></td><td>Output address</td></tr>
<tr><td>amount</td><td><code>number</code></td><td>Output amount</td></tr>
</tbody></table>
<h3 id="milestonemetadata"><a class="header" href="#milestonemetadata">MilestoneMetadata</a></h3>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>milestoneIndex</td><td><code>number</code></td><td>Milestone index</td></tr>
<tr><td>messageId</td><td><code>string</code></td><td>Id of the message associated with the milestone</td></tr>
<tr><td>timestamp</td><td><code>number</code></td><td>Milestone timestamp</td></tr>
</tbody></table>
<h3 id="milestoneutxochanges"><a class="header" href="#milestoneutxochanges">MilestoneUTXOChanges</a></h3>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>index</td><td><code>number</code></td><td>Milestone index</td></tr>
<tr><td>createdOutputs</td><td><code>string[]</code></td><td>OutputIds from new created outputs</td></tr>
<tr><td>consumedOutputs</td><td><code>string[]</code></td><td>OutputIds from consumed outputs</td></tr>
</tbody></table>
<h3 id="receipts"><a class="header" href="#receipts">Receipts</a></h3>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>receipt</td><td><code>receipt</code></td><td>Receipt</td></tr>
<tr><td>milestoneIndex</td><td><code>number</code></td><td>Milestone index</td></tr>
</tbody></table>
<h3 id="treasury"><a class="header" href="#treasury">Treasury</a></h3>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>milestoneId</td><td><code>string</code></td><td>Milestone id</td></tr>
<tr><td>amount</td><td><code>number</code></td><td>Amount</td></tr>
</tbody></table>
<div style="break-before: page; page-break-before: always;"></div><h1 id="troubleshooting-1"><a class="header" href="#troubleshooting-1">Troubleshooting</a></h1>
<h2 id="stackexchange-1"><a class="header" href="#stackexchange-1">StackExchange</a></h2>
<blockquote>
<p><a href="https://iota.stackexchange.com/">https://iota.stackexchange.com</a></p>
</blockquote>
<p>The IOTA StackExchange a a nice tool for developers to find answers for a problem. Just search your problem and find your answer! If there is no one, submit your question and share it in the discussion channel below.</p>
<h2 id="joining-the-discussion-4"><a class="header" href="#joining-the-discussion-4">Joining the discussion</a></h2>
<p>If you want to get involved in discussions about this library, or you're looking for support, go to the #clients-discussion channel on <a href="https://discord.iota.org">Discord</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iota-client-python-library"><a class="header" href="#iota-client-python-library">IOTA Client Python Library</a></h1>
<p><a href="https://github.com/iotaledger/iota.rs"><img src="https://img.shields.io/badge/Status-Alpha-yellow.svg" alt="status" /></a></p>
<h2 id="joining-the-discussion-5"><a class="header" href="#joining-the-discussion-5">Joining the discussion</a></h2>
<p>If you want to get involved in discussions about this library, or you're looking for support, go to the #clients-discussion channel on <a href="https://discord.iota.org">Discord</a>.</p>
<h2 id="changes-from-iota-10-to-15-2"><a class="header" href="#changes-from-iota-10-to-15-2">Changes from IOTA 1.0 to 1.5</a></h2>
<p>For an overview of all significant changes in the protocol, please see <a href="https://chrysalis.docs.iota.org/guides/index.html">Chrysalis documentation</a>.</p>
<h2 id="overview-3"><a class="header" href="#overview-3">Overview</a></h2>
<ul>
<li><a href="libraries/python/">Getting Started</a></li>
<li><a href="libraries/python/">Examples</a></li>
<li><a href="libraries/python/">API Reference</a></li>
<li><a href="libraries/python/">Troubleshooting</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="getting-started-with-iota-client-python-binding"><a class="header" href="#getting-started-with-iota-client-python-binding">Getting Started with IOTA Client Python binding</a></h1>
<h2 id="installation-1"><a class="header" href="#installation-1">Installation</a></h2>
<p>Easiest way how to get python binding up and running is to leverage pre-built python libraries for linux/macos/windows that can be installed to your python environment (3.6+) via <code>pip</code>. The binding is automagically generated using github <a href="https://github.com/iotaledger/iota.rs/actions/workflows/python_binding_publish.yml">actions</a>.</p>
<p>The latest artifacts for major python versions can be also grabbed using <a href="https://nightly.link/iotaledger/iota.rs/workflows/python_binding_publish/dev">nighly.link service</a>. Download zip file for the given os and pyversion, unpack wheel file (<code>.whl</code>) and install it via <code>pip</code>:</p>
<pre><code class="language-bash">pip install &lt;wheel_file&gt;
</code></pre>
<p>Once it has been properly installed you can double check it using <code>pip</code>:</p>
<pre><code class="language-bash">pip list
</code></pre>
<p>You should see the similar output:</p>
<pre><code class="language-plaintext">Package                    Version
-------------------------- -------
iota-client-python           0.2.0a3
</code></pre>
<p>Once installed in the given python environment you are all set and can start hacking using python binding!</p>
<h2 id="usage"><a class="header" href="#usage">Usage</a></h2>
<pre><code class="language-python">import iota_client
print(iota_client.__doc__)
print(dir(iota_client))
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="examples-2"><a class="header" href="#examples-2">Examples</a></h1>
<blockquote>
<p>Please note: It is not recommended to store passwords/seeds on host's environment variables or in the source code in a production setup! Please make sure you follow our <a href="https://chrysalis.docs.iota.org/guides/backup_security.html">backup and security</a> recommendations for production use!</p>
</blockquote>
<h2 id="connecting-to-nodes-1"><a class="header" href="#connecting-to-nodes-1">Connecting to node(s)</a></h2>
<p>All features of <code>iota.rs</code> library are accessible via an instance of <code>Client</code> class that provides high-level abstraction to all interactions over IOTA network (Tangle). This class has to be instantiated before starting any interactions with the library, or more precisely with <a href="https://chrysalis.docs.iota.org/node-software/node-software.html">IOTA nodes</a> that power IOTA network.</p>
<p>The library is designed to automatically choose a starting IOTA node based on the network type one would like to participate in: <code>testnet</code> or <code>mainnet</code>. So very simplistic example how to connect to <a href="https://chrysalis.docs.iota.org/testnet.html">IOTA testnet</a> is the following one:</p>
<pre><code class="language-python">import iota_client

# client will connect to testnet by default
client = iota_client.Client()
print(client.get_info())
</code></pre>
<p>Output example of <code>get_info()</code> function of the <code>Client</code> instance:</p>
<pre><code class="language-json">{
   &quot;nodeinfo&quot;:{
      &quot;name&quot;:&quot;HORNET&quot;,
      &quot;version&quot;:&quot;0.6.0-alpha&quot;,
      &quot;is_healthy&quot;:true,
      &quot;network_id&quot;:&quot;testnet7&quot;,
      &quot;bech32_hrp&quot;:&quot;atoi&quot;,
      &quot;min_pow_score&quot;:4000.0,
      &quot;messages_per_second&quot;:27.3,
      &quot;referenced_messages_per_second&quot;:34.5,
      &quot;referenced_rate&quot;:126.37362637362637,
      &quot;latest_milestone_timestamp&quot;:1618133322,
      &quot;latest_milestone_index&quot;:33602,
      &quot;confirmed_milestone_index&quot;:33602,
      &quot;pruning_index&quot;:16086,
      &quot;features&quot;:[
         &quot;PoW&quot;
      ]
   },
   &quot;url&quot;:&quot;https: //api.hornet-0.testnet.chrysalis2.com&quot;
}
</code></pre>
<p>The most important properties:</p>
<ul>
<li><code>is_healthy</code>: indicates whether the given node is in sync with the network and so it is safe to use it. Even if a node is up and running it may not be fully prepared to process your API calls properly. The node should be &quot;synced&quot;, meaning should be aware of all TXs in the Tangle. It is better to avoid not fully synced nodes. A node healthiness can be alternatively obtained also with a method <code>Client.get_health()</code></li>
<li><code>bech32_hrp</code>: it indicates whether the given node is a part of testnet (<code>atoi</code>) or mainnet (<code>iota</code>). See more info regarding <a href="libraries/python/../../welcome.html#iota-15-address-anatomy">IOTA address format</a></li>
</ul>
<p><em>Please note, when using node load balancers then mentioned health check may be quite useless since follow-up API calls may be served by different node behind the load balancer that may have not been actually checked. One should be aware of this fact and trust the given load balancer participates only with nodes that are in healthy state. <code>iota.rs</code> library additionally supports a management of internal node pool and so load-balancer-like behavior can be mimicked using this feature locally.</em></p>
<p>Needless to say, the <code>Client</code> class constructor provides several parameters via which the process can be closely managed.</p>
<p>The most common ones:</p>
<ul>
<li><code>network</code>: can be <code>Testnet</code> or <code>Mainnet</code>. It instructs the library whether to automatically select testnet nodes or mainnet nodes</li>
<li><code>node</code>: specify address of actual running IOTA node that should be used to communicate with (in format <code>https://node:port</code>), for ex: https://api.lb-0.testnet.chrysalis2.com:443</li>
<li><code>node_pool_urls</code>: library also supports a management of pool of nodes. You can provide a list of nodes and library manages access to them automatically (selecting them based on their sync status)</li>
<li><code>local_pow</code>: <code>local_pow==True</code> (by default) means a <code>Proof-of-work</code> is done locally and not remotely</li>
<li><code>node_sync_disabled</code>: <code>node_sync_disabled==False</code> (by default) means that library checks for sync status of node(s) periodically before its use. <code>node_sync_disabled==True</code> means library also uses nodes that <em>are not</em> in sync with network. This parameter is usually useful if one would like to interact with local test node that is not fully synced. This parameter should not be used in production</li>
</ul>
<p>If <code>node_pool_urls</code> is provided then the library periodically checks in some interval (argument <code>node_sync_interval</code>) whether node is in sync or not.</p>
<h2 id="generating-seed-and-addresses-1"><a class="header" href="#generating-seed-and-addresses-1">Generating seed and addresses</a></h2>
<p>Since the IOTA network is permission-less type of network, anybody is able to use it and interact with it. No central authority is required at any stage. So anybody is able to generate own <code>seed</code> and then deterministically generate respective private keys/addresses.</p>
<blockquote>
<p>Please note, it is highly recommended to NOT use online seed generators at all. The seed is the only key to the given addresses. Anyone who owns the seed owns also all funds related to respective IOTA addresses (all of them).</p>
</blockquote>
<blockquote>
<p>We strongly recommend to use official <code>wallet.rs</code> library together with <code>stronghold.rs</code> enclave for value-based transfers. This combination incorporates the best security practices while dealing with seeds, related addresses and <code>UTXO</code>. See more information on <a href="https://chrysalis.docs.iota.org/libraries/wallet.html">Chrysalis docs</a>.</p>
</blockquote>
<p>IOTA uses <code>Ed25519</code> signature scheme and address is usually represented by Bech32 (checksummed base32) format string of 64 characters.</p>
<p>A root of <code>Ed25519</code> signature scheme is basically a <code>32-byte (256-bit)</code> uniformly randomly generated seed based on which all private keys and corresponding addresses are generated. In the examples below, the seed is represented by a string of 64 characters using <code>[0-9a-f]</code> alphabet (32 bytes encoded in hexadecimal).</p>
<p>Seed can be for example generated using SHA256 algorithm on some random input generated by cryptographically secure pseudo-random generator, such as <code>os.urandom()</code>:</p>
<pre><code class="language-python">import os
import hashlib

rnd_seed = hashlib.sha256(os.urandom(256)).hexdigest()
print(rnd_seed)
</code></pre>
<p>Seed examples (a single seed per line):</p>
<pre><code class="language-plaintext">4892e2265c45734d07f220294b1697244a8ab5beb38ba9a7d57aeebf36b6e84a
37c4aab22a5883595dbc77907c1626c1be39d104df39c5d5708423c0286aea89
e94346bce41402155ef120e2525fad2d0bf30b10a89e4b93fd8471df1e6a0981
...
</code></pre>
<blockquote>
<p>In modern wallet implementations, such as our <a href="https://chrysalis.docs.iota.org/libraries/wallet.html">wallet.rs library</a> and <a href="https://blog.iota.org/firefly-beta-release/">firefly wallet</a>, the seed is usually generated from a <code>seed mnemonic</code> (<code>seed phrase</code>), using <a href="https://en.bitcoin.it/wiki/BIP_0039">BIP39 standard</a>, to be better memorized/stored by humans. It is based on randomly generated list of english words and later used to generate the seed. Either way, the seed is a root for all generated private keys and addresses</p>
</blockquote>
<h3 id="addresskey-space-1"><a class="header" href="#addresskey-space-1">Address/key space</a></h3>
<p>Before an actual address generation process, let's quickly focus on <a href="https://github.com/bitcoin/bips/blob/master/bip-0032.mediawiki">BIP32</a> standard that describes an approach to <em>Hierarchical Deterministic Wallets</em>. The standard was improved by <a href="https://github.com/bitcoin/bips/blob/master/bip-0044.mediawiki">BIP44</a> lately.</p>
<p>These standards define a tree structure as a base for address and key space generation which is represented by a <code>derivation path</code>:</p>
<pre><code class="language-plaintext">m / purpose / coin_type / account / change / address_index
</code></pre>
<ul>
<li><code>m</code>: a master node (seed)</li>
<li><code>purpose</code>: constant which is {44}</li>
<li><code>coin_type</code>: a constant set for each crypto currency. IOTA = 4218, for instance.</li>
<li><code>account</code>: account index. Zero-based increasing <code>int</code>. This level splits the address/key space into independent branches (ex. user identities) which each has own set of addresses/keys</li>
<li><code>change</code>: change index which is <code>{0, 1}</code>, also known as <code>wallet chain</code>.<br />
There are two independent chain of addresses/keys. <code>0</code> is reserved for public addresses (for coin receival) and <code>1</code> is reserved for internal (also known as change) addresses to which transaction change is returned. <em>IOTA is totally fine with address reuse, and so it is, technically speaking, totally valid to return transaction change to the same originating address. So it is up to developers whether to leverage it or not. <code>iota.rs</code> library and its sibling <code>wallet.rs</code> help with either scenario</em></li>
<li><code>address_index</code>: address index. Zero-based increasing <code>int</code> that indicates an address index</li>
</ul>
<p>As outlined, there is a quite large address/key space that is secured by a single unique seed.</p>
<p>And there are few additional interesting notes:</p>
<ul>
<li>Each level defines a completely different subtree (subspace) of addresses/keys and those are never mixed up</li>
<li>The hierarchy is ready to &quot;absorb&quot; addresses/keys for many different coins at the same time (<code>coin_type</code>), and all those coins are secured by the same seed.<br />(So basically any BIP32/44-compliant wallet is potentially able to manage any BIP32/44-compliant coin(s))</li>
<li>There may be also other <code>purposes</code> in the future however let's consider a single purpose as of now. The constant <code>44</code> stands for BIP44</li>
<li>The standard was agreed upon different crypto communities, although not all <code>derivation path</code> components are always in active use. For example, <code>account</code> is not always actively leveraged across crypto space (if this is a case then there is usually <code>account=0</code> used)</li>
<li>Using different <code>accounts</code> may be useful to split addresses/key into some independent spaces and it is up to developers to implement.<br />
<em>Please note, it may have a negative impact on a performance while <a href="https://github.com/bitcoin/bips/blob/master/bip-0044.mediawiki#account-discovery">account discovery</a> phase. So if you are after using many multiple accounts then you may be interested in our stateful library <a href="https://chrysalis.docs.iota.org/libraries/wallet.html">wallet.rs</a> that incorporates all business logic needed to efficiently manage independent accounts. Also our <a href="https://chrysalis.docs.iota.org/guides/exchange_guide.html">exchange guide</a> provides some useful tips how different accounts may be leveraged</em></li>
</ul>
<p><img src="libraries/python/address_generation.svg" alt="address_generation" /></p>
<p>So in case of IOTA, the derivation path of address/key space is <code>[seed]/44/4218/{int}/{0,1}/{int}</code>. The levels <code>purpose</code> and <code>coin_type</code> are given, the rest levels are up to developers to integrate.</p>
<h3 id="generating-addresses-1"><a class="header" href="#generating-addresses-1">Generating address(es)</a></h3>
<p>IOTA addresses are generated via <code>Client.get_addresses()</code> function that returns a list of tuples with generated addresses. Considering the previous chapter about individual address/key spaces, it becomes quite clear what all used input function arguments are for.</p>
<p><em>Please note: for the examples outlined below, an example seed <code>b3d7092195c36d47133ff786d4b0a1ef2ee6a0052f6e87b6dc337935c70c531e</code> was used via environment variable called <code>IOTA_SEED_SECRET</code>. This seed serves for training purposes only.</em></p>
<p>The whole process is deterministic which means the output is the same as long as the seed is the same:</p>
<pre><code class="language-python">import os
import iota_client

# Get the seed from environment variable
IOTA_SEED_SECRET = os.getenv('IOTA_SEED_SECRET')
if not IOTA_SEED_SECRET:
    raise Exception(&quot;Please define environment variable called `IOTA_SEED_SECRET`&quot;)

client = iota_client.Client()

address_changed_list = client.get_addresses(
    seed=IOTA_SEED_SECRET,
    account_index=0,
    input_range_begin=0,
    input_range_end=10,
    get_all=True
)
print(address_changed_list)
</code></pre>
<p>Output example:</p>
<pre><code class="language-json">[('atoi1qp9427varyc05py79ajku89xarfgkj74tpel5egr9y7xu3wpfc4lkpx0l86', False),
 ('atoi1qzfvkkp398v7hhvu89fu88hxctf7snwc9sf3a3nd7msfv77jk7qk2ah07s3', True),
 ('atoi1qq4t98j5y8wxkaujue99mjwqcp6jvvmsd5lv0755sz7dtjdz3p2lydv76sy', False),
 ('atoi1qrhzhjxc4z8vpwjt3hafs5xpdng5katqe890p0h95mc0l273j8yzxn7r4hc', True),
 ('atoi1qputu0yvfvxd7g39wf4rc67e0f0dyhl6enxu9jxnsrjqmemh067tw7qelyc', False),
 ('atoi1qptg5w2x47qwjf3gpqt3h7d2ey5x7xf8v7qtt29gkxt4mjfjfc28sutvd8a', True),
 ('atoi1qprvelq9paakh72fgm6j2kf8kexadw3t5xljer9dpsep5c7wx5mjwdxch6z', False),
 ('atoi1qrwk37tz47ddng9kpxfflkpz5tplcq7ll56v4acam04307xk70l7uf6wg8j', True),
 ('atoi1qper3zr5xe9x0wqs35ytwh622870g44frkyygdhs0ds8yejle3xujhq7dx3', False),
 ('atoi1qq6lkr9hucfylqjaqphu0stvk8pcmsx98r7ukuq40asszwmqytlnc058thk', True),
 ('atoi1qzpn7se3ryhscmqg404pycxzvfpt8v4xn8aul0tqdh00xsncgnxu7na7zjj', False),
 ('atoi1qz4qqakty9qytw8fk9shelt9lwlvv83s5ggt3wjag9fkgcc74z78w4l86y5', True),
 ('atoi1qp20uddchglqry0l5qnjg5aln8d5rk2v5l45hwrxv9z0daxs7u6xcsh4077', False),
 ('atoi1qrlqm2u5txxxnjx22fxq0jfjzk6l4nwnue6ht5pepk65m2f4xmxqynmxu2m', True),
 ('atoi1qqydc70mpjdvl8l2wyseaseqwzhmedzzxrn4l9g2c8wdcsmhldz0ulwjxpz', False),
 ('atoi1qrkjennxyl2xcqem6x69ya65sasma33z0ux872k846lqft0s3qf7k6lqpft', True),
 ('atoi1qr4yuekp30ff7mnnnjwy9tdhynxmlmkpuxf70qurtwudp2zpf3jeyw4uh37', False),
 ('atoi1qp6m5sz5ayjtccfxapdk5lp4qkheyfg0emzntmulyxzftps730vcul8dmqr', True),
 ('atoi1qzrwhkzhu67fqltfffwljejawdcghedukpgu9x6tzevwlnq89gmfjtayhgz', False),
 ('atoi1qpehxcp24z947dgupjqc9ktkn5ylmdxqqnx83m7xlajnf8005756u4n7z77', True)]
</code></pre>
<ul>
<li>Each tuple contains <code>address</code> and <code>bool</code> value indicating the given address is a <code>change</code> address or not.<br />
<code>True</code> means the given address is a change address (internal). So basically we've got two independent sets of addresses (10 items per each)</li>
<li>This behavior is controlled via <code>get_all</code> argument. <code>get_all=False</code> (default) means to generate only public addresses</li>
</ul>
<p>IOTA address is represented by a checksumed base 32 string (Bech32) and you can see a detailed explanation on <a href="https://chrysalis.docs.iota.org/guides/dev_guide.html#iota-15-address-anatomy">Chrysalis docs</a>.
Just a recap:</p>
<ul>
<li>If an address starts with <code>atoi</code> then it means it is related to <code>testnet</code>. <code>iota</code> stands for mainnet</li>
<li>Number <code>1</code> at 5<sup>th</sup> position is just a separator</li>
<li>The last 6 characters are reserved for a checksum</li>
</ul>
<p>Address can be also represented in a hex format and luckily <code>iota.rs</code> provides some convenience functions to convert addresses respectively: <code>Client.bech32_to_hex()</code> and <code>Client.hex_to_bech32()</code>.</p>
<p>To quickly validate any IOTA address, there is a convenience function <code>Client.is_address_valid()</code> that returns <code>bool</code> value. Needless to say, performing a sanity check of an address before its use is an advisable practice.</p>
<h2 id="checking-a-balance-1"><a class="header" href="#checking-a-balance-1">Checking a balance</a></h2>
<p><em>In IOTA testnet, there is a faucet service that provides test tokens to any testnet address: https://faucet.testnet.chrysalis2.com/</em></p>
<p>There are three common api calls that can be leveraged:</p>
<ul>
<li><code>Client.get_address_balance(address: str)</code>: it expects a single address in Bech32 format and returns <code>dict</code> with a balance for the address</li>
<li><code>Client.get_address_balances(list[str])</code>: a convenience function that expects <code>list</code> of addresses in Bech32 format and returns list of <code>dict</code> with balances for all given addresses</li>
<li><code>Client.get_balance(seed, account_index (optional), initial_address_index(optional), gap_limit(optional))</code>: a convenience function that combines <code>Client.get_addresses()</code> and <code>Client.get_address_balances()</code> api calls. It returns a combined balance for the provided seed and its wallet account index</li>
</ul>
<pre><code class="language-python">import os
import iota_client

# Get the seed from environment variable
IOTA_SEED_SECRET = os.getenv('IOTA_SEED_SECRET')
if not IOTA_SEED_SECRET:
    raise Exception(&quot;Please define environment variable called `IOTA_SEED_SECRET`&quot;)

client = iota_client.Client()

print(&quot;Return a balance for a single address:&quot;)
print(
    client.get_address_balance(&quot;atoi1qp9427varyc05py79ajku89xarfgkj74tpel5egr9y7xu3wpfc4lkpx0l86&quot;)
)

print(&quot;Return a balance for the given seed and account_index:&quot;)
print(
    client.get_balance(
        seed=IOTA_SEED_SECRET,
        account_index=0,
        initial_address_index=0
    )
)
</code></pre>
<p>Example of output:</p>
<pre><code class="language-json">Return balance for a single address:
{
   &quot;address_type&quot;: 0,
   &quot;address&quot;:&quot;atoi1qp9427varyc05py79ajku89xarfgkj74tpel5egr9y7xu3wpfc4lkpx0l86&quot;,
   &quot;balance&quot;:9000000,
   &quot;dust_allowed&quot;:false
}

Return balance for the given seed and account_index:
21000000
</code></pre>
<ul>
<li><code>address_type</code> indicates type of address. Value 0 denotes a Ed25519 address (currently the default for IOTA)</li>
<li><code>dust_allowed</code> indicates whether the given address is allowed to accepts a dust due to <a href="https://chrysalis.docs.iota.org/guides/dev_guide.html#dust-protection">dust protection mechanism</a></li>
</ul>
<p><code>Client.get_balance()</code> performs a several tasks under the hood.
It starts generating addresses for the provided <code>seed</code> and <code>account_index</code> from <code>initial_address_index</code>, and checks for a balance of each of the generated addresses. Since it does not know how many addresses are used in fact, there is a condition set by <code>gap_limit</code> argument when to stop searching. If <code>gap_limit</code> amount of addresses in a row have no balance the function returns result and searching does not continue.</p>
<h2 id="messages-payload-and-transactions-1"><a class="header" href="#messages-payload-and-transactions-1">Messages, payload and transactions</a></h2>
<p>Before we continue, let's introduce some additional terms that describe an unit that is actually broadcasted in IOTA network. IOTA is based on a concept of <code>messages</code> and <code>payloads</code>.</p>
<p><code>Message</code> is a data structure that is actually being broadcasted in IOTA network and represent a node (vertex) in the Tangle graph. It can refer to up to 8 previous messages and once a message was attached to the Tangle and approved by a milestone, the Tangle structure ensures the content of the message is unaltered. Every message is referenced by <code>message_id</code> which is based on a hash algorithm of binary content of the message. <code>Message</code> is an atomic unit that is confirmed by network as a whole.</p>
<p><code>Message</code> is broadcasted using a binary format, is arbitrary size (up to 35 kB) and it can hold a variable sets of information so called <code>payloads</code>. Number of payloads a single message can encapsulate is not given (even a message without any <code>payload</code> at all is completely valid).</p>
<p><code>Payload</code> represents a layer of concern. Some payloads may change a state of the ledger (ex. <code>transactions</code>) and some may provide extra features to some specific applications and business use cases (ex. <code>indexed data</code>).</p>
<p>There are already implemented core payloads, such as <code>SignedTransaction</code>, <code>MilestonePayload</code> and <code>IndexationPayload</code> but the message and payload definition is generic enough to incorporate any future payload(s) the community agrees upon.</p>
<p>Needless to say, IOTA network ensures the outer structure of message itself is valid and definitely aligned with a network consensus protocol, however the inner structure is very flexible, future-proof, and offer an unmatched network extensibility.</p>
<p><img src="libraries/python/messages_in_tangle.svg" alt="messages_in_tangle" /></p>
<p>The current IOTA network incorporates the following core payloads:</p>
<ul>
<li><code>SignedTransaction</code>: payload that describes <code>UTXO</code> transactions that are cornerstone of value-based transfers in IOTA network. Via this payload, <code>message</code> can be also cryptographically signed</li>
<li><code>MilestonePayload</code>: payload that is emitted by Coordinator</li>
<li><code>IndexationPayload</code>: payload that enables addition of an index to the encapsulating message, as well as some arbitrary data. The given index can be later used to search the message(s)</li>
</ul>
<h3 id="unspent-transaction-output-utxo-1"><a class="header" href="#unspent-transaction-output-utxo-1">Unspent Transaction Output (UTXO)</a></h3>
<p>IOTA uses <code>unspent transaction output</code> model, so called <code>UTXO</code>. It is based on an idea to track unspent amount of tokens via data structure called <code>output</code>.</p>
<p>Simplified analogy:</p>
<ul>
<li>There is 100 tokens recorded in the ledger as <code>Output A</code> and this output belongs to Alice. So <strong>initial state of ledger</strong>: <code>Output A</code> = 100 tokens</li>
<li>Alice sends 20 tokens to Paul, 30 tokens to Linda and keeps 50 tokens at her disposal</li>
<li>Her 100 tokens are recorded as <code>Output A</code> and so she has to divide (spent) tokens and create three new outputs:<br /><code>Output B</code> with 20 tokens that goes to Paul, <code>Output C</code> with 30 tokens that goes to Linda and finally <code>Output D</code> with the rest 50 tokens that she keep for herself</li>
<li><strong>Original <code>Output A</code></strong> was completely spent and can't be used any more. It has been spent and so <strong>becomes irrelevant</strong> to ledger state</li>
<li><strong>New state of ledger</strong>: <code>Output B</code> = 20 tokens, <code>Output C</code> = 30 tokens and <code>Output D</code> = 50 tokens</li>
<li>Total supply remains the same. Just number of outputs differs and some outputs were replaced by other outputs in the process</li>
</ul>
<p><img src="libraries/python/utxo.svg" alt="utxo" /></p>
<p>The key takeaway of the outlined process is the fact that each unique <code>output</code> can be spent <strong>only once</strong>. Once the given <code>output</code> is spent, can't be used any more and is irrelevant in regards to the ledger state.</p>
<p>So even if Alice still wants to keep remaining tokens at her fingertips, those tokens have to be moved to completely new <code>output</code> that can be for instance still tight to the same Alice's iota address as before.</p>
<p>Every <code>output</code> stores also information about an IOTA address to which it is coupled with. So addresses and tokens are indirectly coupled via <code>outputs</code>.
So basically sum of outputs and their amounts under the given address is a balance of the given address, ie. the number of tokens the given address can spend. And sum of all unspent outputs and theirs amounts is equal to the total supply.</p>
<p>Before the chapter is wrapped up, one thing was left unexplained: <em>&quot;how outputs are being sent and broadcasted to network?&quot;</em> <code>Outputs</code> are being sent encapsulated in a <code>message</code> as a part of <code>SignedTransaction</code> payload.</p>
<h2 id="outputs-1"><a class="header" href="#outputs-1">Outputs</a></h2>
<p>There are three functions to get <code>UTXO</code> outputs (related to the given address):</p>
<ul>
<li><code>Client.get_address_outputs(str)</code>: it expects address in Bech32 format and returns <code>list[dict]</code> of <code>transaction_ids</code> and respective <code>indexes</code></li>
<li><code>Client.get_output(str)</code>: it expects <code>output_id</code> and returns the UTXO output associated with it</li>
<li><code>Client.find_outputs(output_ids (optional), addresses (optional))</code>: it is a bit more general and it searches for <code>UTXO</code> outputs associated with the given <code>output_ids</code> and/or <code>addresses</code></li>
</ul>
<p><code>Client.get_address_outputs(str)</code> returns <code>transaction_ids</code> and <code>indexes</code> in a raw form (in bytes) defined on protocol level and so usually some quick conversion is needed:</p>
<pre><code class="language-python">import iota_client
client = iota_client.Client()

outputs = client.get_address_outputs(&quot;atoi1qp9427varyc05py79ajku89xarfgkj74tpel5egr9y7xu3wpfc4lkpx0l86&quot;)
for output in outputs:
    print(f&quot;Output index: {output['index']}; raw transaction id: {output['transaction_id']}&quot;)
    encoded_hex = &quot;&quot;.join(f&quot;{i:0&gt;2x}&quot; for i in output[&quot;transaction_id&quot;] + list(int(output[&quot;index&quot;]).to_bytes(2, 'little')))
    print(f&quot;`output_id` encoded in hex: {encoded_hex}&quot;)
</code></pre>
<p>Output example:</p>
<pre><code class="language-plaintext">Output index: 0; raw transaction id: [162, 44, 186, 6, 103, 201, 34, 203, 177, 248, 189, 202, 249, 112, 178, 168, 129, 204, 214, 232, 142, 47, 204, 229, 3, 116, 222, 42, 172, 124, 55, 114]
`output_id` encoded in hex: a22cba0667c922cbb1f8bdcaf970b2a881ccd6e88e2fcce50374de2aac7c37720000
</code></pre>
<ul>
<li>as a result, <code>UTXO</code> output is represented by output <code>index</code> and <code>transaction_id</code>. <code>transaction_id</code> is basically a list of 32 <code>bytes</code>. <code>index</code> is 2-bytes (16bits) <code>uint</code></li>
<li><code>index</code> and <code>transaction_id</code> is usually combined into single hex string of 68 characters = 32 * 2 chars (<code>transaction_id</code>; 32 bytes in hex) + 4 chars (<code>index</code>; 2 bytes in hex).<br />
The resulting <code>output_id</code> is the unique id of the given <code>output</code></li>
</ul>
<p>Then the function <code>Client.get_output(str)</code> can be used to get details about the given <code>output_id</code>:</p>
<pre><code class="language-python">import iota_client
client = iota_client.Client()

print(
    client.get_output(&quot;a22cba0667c922cbb1f8bdcaf970b2a881ccd6e88e2fcce50374de2aac7c37720000&quot;)
)
</code></pre>
<p>Output example:</p>
<pre><code class="language-json">{
   &quot;message_id&quot;:&quot;f51fb2839e0a24d5b4a97f1f5721fdac0f1eeafd77645968927f7c2f4b46565b&quot;,
   &quot;transaction_id&quot;:&quot;a22cba0667c922cbb1f8bdcaf970b2a881ccd6e88e2fcce50374de2aac7c3772&quot;,
   &quot;output_index&quot;:0,
   &quot;is_spent&quot;:false,
   &quot;output&quot;:{
      &quot;treasury&quot;:&quot;None&quot;,
      &quot;signature_locked_single&quot;:{
         &quot;kind&quot;:0,
         &quot;address&quot;:{
            &quot;ed25519&quot;:{
               &quot;kind&quot;:0,
               &quot;address&quot;:&quot;atoi1qp9427varyc05py79ajku89xarfgkj74tpel5egr9y7xu3wpfc4lkpx0l86&quot;
            }
         },
         &quot;amount&quot;:10000000
      },
      &quot;signature_locked_dust_allowance&quot;:&quot;None&quot;
   }
}
</code></pre>
<p>A function <code>Client.find_outputs()</code> is a convenient shortcut combining both mentioned methods in a single call:</p>
<pre><code class="language-python">import iota_client
client = iota_client.Client()

client.find_outputs(addresses=[&quot;atoi1qp9427varyc05py79ajku89xarfgkj74tpel5egr9y7xu3wpfc4lkpx0l86&quot;])
</code></pre>
<ul>
<li>it supports two arguments, a list of <code>output_ids</code> or a list of <code>addresses</code></li>
</ul>
<p>Output example:</p>
<pre><code class="language-json">[
   {
      &quot;message_id&quot;:&quot;7c47db1c4555348c260d91e90cc10fd66c2e73a84ec24bf9533e440f6d945d42&quot;,
      &quot;transaction_id&quot;:&quot;c3f416b4394dd6e49354444d53e3c33f1169f25889ad7bc1c2ea83e35e291d5c&quot;,
      &quot;output_index&quot;:1,
      &quot;is_spent&quot;:false,
      &quot;output&quot;:{
         &quot;treasury&quot;:&quot;None&quot;,
         &quot;signature_locked_single&quot;:{
            &quot;kind&quot;:0,
            &quot;address&quot;:{
               &quot;ed25519&quot;:{
                  &quot;kind&quot;:0,
                  &quot;address&quot;:&quot;atoi1qp9427varyc05py79ajku89xarfgkj74tpel5egr9y7xu3wpfc4lkpx0l86&quot;
               }
            },
            &quot;amount&quot;:9000000
         },
         &quot;signature_locked_dust_allowance&quot;:&quot;None&quot;
      }
   }
]
</code></pre>
<ul>
<li><code>message_id</code>: refer to the encapsulating message in which the transaction was sent</li>
<li><code>transaction_id</code>, <code>output_index</code>: refer to the given output within the <code>SignedTransaction</code> payload. There may be several different <code>outputs</code> involved in a single transaction and so just <code>transaction_id</code> is not enough</li>
<li><code>output</code>: this section provides details about the iota address to which the given <code>unspent transaction output</code> is coupled with</li>
<li><code>amount</code>: state an amount of tokens related to the <code>output</code></li>
<li><code>is_spent</code>: of course, very important one indicating whether the given <code>output</code> is a part of the actual ledger state or not. As mentioned above, if an output was already spent, it is not part of ledger state any more and was replaced by some other <code>output(s)</code> in the process</li>
</ul>
<p>So this is quite interesting part, notice the <code>output_id</code> that was used in a function call to get output details is the same as a combination of <code>transaction_id</code> and <code>output index</code>.</p>
<p>This way a transaction is tightly coupled with <code>outputs</code> since <code>SignedTransaction</code> payload is a main vehicle how <code>outputs</code> are being created and spent, and altogether everything is encapsulated in a <code>message</code>.</p>
<h2 id="messages-1"><a class="header" href="#messages-1">Messages</a></h2>
<p>As mentioned above, the <code>message</code> is encapsulating data structure that is being actually broadcasted across network. It is an atomic unit that is accepted/rejected as a whole.</p>
<p>There is a convenient function <code>Client.message()</code> that prepares a message instance and sends it over a network. It accepts wide range of input parameters and can help with any kind of message type to be broadcasted.</p>
<p>The simplest message that can be broadcasted is a message without any particular payload:</p>
<pre><code class="language-python">import iota_client
client = iota_client.Client()

message = client.message()
print(message)
</code></pre>
<p>Output example:</p>
<pre><code class="language-json">{
   &quot;message_id&quot;:&quot;e2daa4c6b012b615becd6c12189b2c9e701ba0d53b31a15425b21af5105fc086&quot;,
   &quot;network_id&quot;:7712883261355838377,
   &quot;parents&quot;:[
      &quot;0e2705ce50fec88f896663d4b7d562e74cbcfdd951ac482b1f03cfa5f27396d7&quot;,
      &quot;0f5a0b2041766127c3f3bff2dd653b450b72e364765fcc805a40423c59ed01f9&quot;,
      &quot;20635b30aee437575d7e6abdf6629eec80543bee30848b0abdda2200fc11a977&quot;,
      &quot;da97cd6cfcbb854b8fd3f064c8459c5c9eae80dbd5ef594a3e1a26dcb8fc078c&quot;
   ],
   &quot;payload&quot;:&quot;None&quot;,
   &quot;nonce&quot;:2305843009213869242
}
</code></pre>
<ul>
<li><code>message_id</code> is an unique id that refers to the given message in network</li>
<li>as mentioned above, every message in the Tangle should refer to up to 8 other messages, those are indicated in the section <code>parents</code></li>
<li>no actual <code>payload</code> was given in this example message (<code>payload=None</code>)</li>
<li><code>nonce</code> refer to a result of proof-of-work</li>
</ul>
<p>Once a message is broadcasted, there are two main functions that can be used to read all information about the given message from the Tangle (<code>Client.get_message_data()</code> and <code>Client.get_message_metadata()</code>):</p>
<pre><code class="language-python">import iota_client
client = iota_client.Client()

message = client.get_message_data(&quot;e2daa4c6b012b615becd6c12189b2c9e701ba0d53b31a15425b21af5105fc086&quot;)
message_meta = client.get_message_metadata(&quot;e2daa4c6b012b615becd6c12189b2c9e701ba0d53b31a15425b21af5105fc086&quot;)

print(&quot;Message meta data:&quot;)
print(message_meta)
print(&quot;Message data:&quot;)
print(message)
</code></pre>
<p>Output example:</p>
<pre><code class="language-json">Message meta data:
{
   &quot;message_id&quot;:&quot;e2daa4c6b012b615becd6c12189b2c9e701ba0d53b31a15425b21af5105fc086&quot;,
   &quot;parent_message_ids&quot;:[
      &quot;0e2705ce50fec88f896663d4b7d562e74cbcfdd951ac482b1f03cfa5f27396d7&quot;,
      &quot;0f5a0b2041766127c3f3bff2dd653b450b72e364765fcc805a40423c59ed01f9&quot;,
      &quot;20635b30aee437575d7e6abdf6629eec80543bee30848b0abdda2200fc11a977&quot;,
      &quot;da97cd6cfcbb854b8fd3f064c8459c5c9eae80dbd5ef594a3e1a26dcb8fc078c&quot;
   ],
   &quot;is_solid&quot;:true,
   &quot;referenced_by_milestone_index&quot;:284866,
   &quot;milestone_index&quot;:&quot;None&quot;,
   &quot;ledger_inclusion_state&quot;:{
      &quot;state&quot;:&quot;NoTransaction&quot;
   },
   &quot;conflict_reason&quot;:&quot;None&quot;,
   &quot;should_promote&quot;:&quot;None&quot;,
   &quot;should_reattach&quot;:&quot;None&quot;
}

Message data:
{
   &quot;message_id&quot;:&quot;e2daa4c6b012b615becd6c12189b2c9e701ba0d53b31a15425b21af5105fc086&quot;,
   &quot;network_id&quot;:7712883261355838377,
   &quot;parents&quot;:[
      &quot;0e2705ce50fec88f896663d4b7d562e74cbcfdd951ac482b1f03cfa5f27396d7&quot;,
      &quot;0f5a0b2041766127c3f3bff2dd653b450b72e364765fcc805a40423c59ed01f9&quot;,
      &quot;20635b30aee437575d7e6abdf6629eec80543bee30848b0abdda2200fc11a977&quot;,
      &quot;da97cd6cfcbb854b8fd3f064c8459c5c9eae80dbd5ef594a3e1a26dcb8fc078c&quot;
   ],
   &quot;payload&quot;:&quot;None&quot;,
   &quot;nonce&quot;:2305843009213869242
}
</code></pre>
<ul>
<li><code>Client.get_message_metadata</code> provides information how the given message fits to network structures such as <code>ledger_inclusion_state</code>, etc.</li>
<li><code>Client.get_message_data</code> provides all data that relates to the given message and its payload(s)</li>
</ul>
<h3 id="indexationpayload-2"><a class="header" href="#indexationpayload-2">IndexationPayload</a></h3>
<p><code>IndexationPayload</code> is a payload type that can be used to attach an arbitrary <code>data</code> and key <code>index</code> to a message. At least <code>index</code> should be provided in order to send the given payload. Data part (as <code>list[bytes]</code>) is optional one:</p>
<pre><code class="language-python">import iota_client
client = iota_client.Client()

# encoding utf string into list of bytes
some_utf_data = &quot;some utf based data&quot;.encode(&quot;utf8&quot;)

message = client.message(
    index=&quot;some_data_index&quot;, data=some_utf_data
)
print(message)
</code></pre>
<p>Output example:</p>
<pre><code class="language-json">{
   &quot;message_id&quot;:&quot;8d4fa37be3c00691131c2c3e03e7b8b956c9118a2ce4be3a8597d51d82ed2de9&quot;,
   &quot;network_id&quot;:7712883261355838377,
   &quot;parents&quot;:[
      &quot;3719d308ae14b7ef1ed5a3a1604228e97587b9da487db10bc6e4a4f800083da0&quot;,
      &quot;4431e2f776db888488728e0aa34c94975e65d6fa74893aa675172af6b9f37257&quot;,
      &quot;8f9fa84954c58bcfc9acc33ca827b4ea35c2caae88db736399a031120e85eebf&quot;,
      &quot;f63d416de97e6a9fd1314fbbbbb263f30dff260f3075f9a65e7dfe1f2cc56ce3&quot;
   ],
   &quot;payload&quot;:{
      &quot;transaction&quot;:&quot;None&quot;,
      &quot;milestone&quot;:&quot;None&quot;,
      &quot;indexation&quot;:[
         {
            &quot;index&quot;:&quot;736f6d655f646174615f696e646578&quot;,
            &quot;data&quot;:[
               115,
               111,
               109,
               101,
               32,
               117,
               116,
               102,
               32,
               98,
               97,
               115,
               101,
               100,
               32,
               100,
               97,
               116,
               97
            ]
         }
      ],
      &quot;receipt&quot;:&quot;None&quot;,
      &quot;treasury_transaction&quot;:&quot;None&quot;
   },
   &quot;nonce&quot;:6917529027641573188
}
</code></pre>
<ul>
<li>Feel free to check the given message using its <code>message_id</code> via <a href="https://explorer.iota.org/testnet/message/8d4fa37be3c00691131c2c3e03e7b8b956c9118a2ce4be3a8597d51d82ed2de9">Tangle explorer</a></li>
<li>In comparison to an empty message sent in the previous chapter, the <code>payload</code> section looks more interesting</li>
<li>There are three payloads prepared (<code>transaction</code>, <code>milestone</code> and <code>indexation</code>) however only <code>indexation</code> payload is leveraged this time</li>
<li><code>index</code> was simply encoded to <code>list[bytes]</code> in hex (no hash algorithm) and the resulting string can be leveraged as an additional way how to search for a set of indexed messages with the same key index via <a href="https://explorer.iota.org/testnet/indexed/736f6d655f646174615f696e646578">Tangle explorer</a> or <code>Client.find_messages()</code> API call</li>
<li><code>data</code> contains an arbitrary data encoded in bytes</li>
<li>Please note there is no IOTA address involved while sending data messages. Such messages are referenced using <code>message_id</code> or key <code>index</code></li>
<li>IOTA addresses are part of <code>UTXO</code> data structure that is sent using <code>SignedTransaction</code> payload explained below</li>
</ul>
<h3 id="signedtransaction-1"><a class="header" href="#signedtransaction-1">SignedTransaction</a></h3>
<p><code>SignedTransaction</code> is a payload type that is used to transfer value-based messages as <code>UTXO</code> (Unspent Transaction Output).</p>
<p>As mentioned above, this core payload changes the ledger state as old <code>outputs</code> are being spent (replaced) and new <code>outputs</code> are being created:</p>
<pre><code class="language-python">import iota_client
client = iota_client.Client()

client.get_message_data(&quot;f51fb2839e0a24d5b4a97f1f5721fdac0f1eeafd77645968927f7c2f4b46565b&quot;)
</code></pre>
<p>Example of a message with <code>SignedTransaction</code> payload:</p>
<pre><code class="language-json">{
   &quot;message_id&quot;:&quot;f51fb2839e0a24d5b4a97f1f5721fdac0f1eeafd77645968927f7c2f4b46565b&quot;,
   &quot;network_id&quot;:7712883261355838377,
   &quot;parents&quot;:[
      &quot;4a84bf1d345a441cfdefd0e71d6efe820c1077e5dda9122a09cbf026132d208c&quot;,
      &quot;6e9153884fd1983be4c27c3ccdc69760b4775484eea498ec0707c2ff8901995e&quot;,
      &quot;7ac1407c88007a54d603400b558d5110f2bbf93a68100fb34f0b40cece9d0868&quot;,
      &quot;9ac0fd457998a1b3ddab9c0014f41344475358ad36c64a4b763de3b51f47c09a&quot;
   ],
   &quot;payload&quot;:{
      &quot;transaction&quot;:[
         {
            &quot;essence&quot;:{
               &quot;inputs&quot;:[
                  {
                     &quot;transaction_id&quot;:&quot;4a34274992474d91cf45366425ad1d4df6042cba64f3b6c07d297a2e6b7154a9&quot;,
                     &quot;index&quot;:0
                  }
               ],
               &quot;outputs&quot;:[
                  {
                     &quot;address&quot;:&quot;atoi1qp9427varyc05py79ajku89xarfgkj74tpel5egr9y7xu3wpfc4lkpx0l86&quot;,
                     &quot;amount&quot;:10000000
                  },
                  {
                     &quot;address&quot;:&quot;atoi1qzdnav0zdgd4grn25cnwcuudtahvlhgh0r349ur749y9l03vadrfurhkxwj&quot;,
                     &quot;amount&quot;:100016136757200
                  }
               ],
               &quot;payload&quot;:{
                  &quot;transaction&quot;:&quot;None&quot;,
                  &quot;milestone&quot;:&quot;None&quot;,
                  &quot;indexation&quot;:[
                     {
                        &quot;index&quot;:&quot;54414e474c454b495420464155434554&quot;,
                        &quot;data&quot;:[
                        ]
                     }
                  ],
                  &quot;receipt&quot;:&quot;None&quot;,
                  &quot;treasury_transaction&quot;:&quot;None&quot;
               }
            },
            &quot;unlock_blocks&quot;:[
               {
                  &quot;signature&quot;:{
                     &quot;public_key&quot;:[
                        ...
                     ],
                     &quot;signature&quot;:[
                        ...
                     ]
                  },
                  &quot;reference&quot;:&quot;None&quot;
               }
            ]
         }
      ],
      &quot;milestone&quot;:&quot;None&quot;,
      &quot;indexation&quot;:&quot;None&quot;,
      &quot;receipt&quot;:&quot;None&quot;,
      &quot;treasury_transaction&quot;:&quot;None&quot;
   },
   &quot;nonce&quot;:1146102
}
</code></pre>
<p>Each <code>transaction</code> includes the following set of information:</p>
<ul>
<li><code>inputs</code>: list of valid <code>outputs</code> that should be used to fund the given message. Those <code>outputs</code> will be spent and once the message is confirmed, those outputs are not valid anymore. Outputs are uniquely referenced via <code>transaction_id</code> and inner <code>index</code>. At least one output has to be given with enough balance to source all <code>outputs</code> of the given message</li>
<li><code>outputs</code>: list of IOTA address(es) and related amount(s) the input <code>outputs</code> should be split among. Based on this information, new <code>UTXO</code> entities (outputs) are being created</li>
<li><code>unlock_blocks</code>: it includes a transaction signature(s) (currently based on <code>Ed25519</code> scheme) that proofs token ownership based on a valid seed. Needless to say, only valid seed owner is able to correctly sign the given transaction and proofs the ownership of tokens under the given output(s). Each input <code>output</code> has to have a corresponding <code>unblock_block</code> entry in case more <code>outputs</code> are used to fund the operation either using the given signature or as a reference to existing signature</li>
<li><code>payload</code>: each <code>SignedTransaction</code> can include additional payload(s) such as <code>IndexationPayload</code>, etc. Meaning, any value-based messages can also contain arbitrary data and its key index. It is also an example how individual payloads can be encapsulated on different levels of concern</li>
</ul>
<p>Sending value-based messages is also very straightforward process.</p>
<p>As a minimum, it needs a valid seed, output addresses and amount. The method finds valid output(s) that can be used to fund the given amount(s) and the unspent amount is sent to the same address:</p>
<pre><code class="language-python">import os
import iota_client

# Get the seed from environment variable
IOTA_SEED_SECRET = os.getenv('IOTA_SEED_SECRET')
if not IOTA_SEED_SECRET:
    raise Exception(&quot;Please define environment variable called `IOTA_SEED_SECRET`&quot;)

client = iota_client.Client()

message = client.message(
    seed=IOTA_SEED_SECRET,
    outputs=[
        {
            'address': 'atoi1qqydc70mpjdvl8l2wyseaseqwzhmedzzxrn4l9g2c8wdcsmhldz0ulwjxpz',
            'amount': 1_000_000
        }
    ]
)
print(message)
</code></pre>
<p>Output example:</p>
<pre><code class="language-json">{
   &quot;message_id&quot;:&quot;7c47db1c4555348c260d91e90cc10fd66c2e73a84ec24bf9533e440f6d945d42&quot;,
   &quot;network_id&quot;:7712883261355838377,
   &quot;parents&quot;:[
      &quot;0ec0cd3c0303845980981bf7cc72371a8cd6e38c15924a2950fb15c5ecf4a53b&quot;,
      &quot;4011f7724f96b6e39cdf9987ee650c0552d4fc63c09dd72b9be30a3cc7b53806&quot;,
      &quot;5730d5bd607c6125130df30204c995db5edcbd16c4ab150946dffac37ace26f9&quot;,
      &quot;8c1982682dbfa0abdd8772e38d044dbfcbea5ebb99bbe7174c07d81adda62419&quot;
   ],
   &quot;payload&quot;:{
      &quot;transaction&quot;:[
         {
            &quot;essence&quot;:{
               &quot;inputs&quot;:[
                  {
                     &quot;transaction_id&quot;:&quot;a22cba0667c922cbb1f8bdcaf970b2a881ccd6e88e2fcce50374de2aac7c3772&quot;,
                     &quot;index&quot;:0
                  }
               ],
               &quot;outputs&quot;:[
                  {
                     &quot;address&quot;:&quot;atoi1qqydc70mpjdvl8l2wyseaseqwzhmedzzxrn4l9g2c8wdcsmhldz0ulwjxpz&quot;,
                     &quot;amount&quot;:1000000
                  },
                  {
                     &quot;address&quot;:&quot;atoi1qp9427varyc05py79ajku89xarfgkj74tpel5egr9y7xu3wpfc4lkpx0l86&quot;,
                     &quot;amount&quot;:9000000
                  }
               ],
               &quot;payload&quot;:&quot;None&quot;
            },
            &quot;unlock_blocks&quot;:[
               {
                  &quot;signature&quot;:{
                     &quot;public_key&quot;:[
                        &quot;...&quot;
                     ],
                     &quot;signature&quot;:[
                        &quot;...&quot;
                     ]
                  },
                  &quot;reference&quot;:&quot;None&quot;
               }
            ]
         }
      ],
      &quot;milestone&quot;:&quot;None&quot;,
      &quot;indexation&quot;:&quot;None&quot;,
      &quot;receipt&quot;:&quot;None&quot;,
      &quot;treasury_transaction&quot;:&quot;None&quot;
   },
   &quot;nonce&quot;:9223372036854802939
}
</code></pre>
<blockquote>
<p>We recommend to use official <code>wallet.rs</code> library together with <code>stronghold.rs</code> enclave for value-based transfers. This combination incorporates the best security practices while dealing with seeds, related addresses and <code>UTXO</code>. See more information on <a href="https://chrysalis.docs.iota.org/libraries/wallet.html">Chrysalis docs</a>.</p>
</blockquote>
<h4 id="dust-protection-1"><a class="header" href="#dust-protection-1">Dust protection</a></h4>
<p>Please note, there is also implemented a <a href="https://chrysalis.docs.iota.org/guides/dev_guide.html#dust-protection">dust protection</a> mechanism in the network protocol to avoid malicious actors to spam network in order to decrease node performance while keeping track of unspent amount (<code>UTXO</code>):</p>
<blockquote>
<p>&quot;... microtransaction below 1Mi of IOTA tokens [can be sent] to another address if there is already at least 1Mi on that address&quot;
That's why we did send 1Mi in the given example to comply with the protection.&quot;</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="api-reference-3"><a class="header" href="#api-reference-3">API Reference</a></h1>
<p>Note that in the following APIs, the corresponding exception will be returned if an error occurs.
Also for all the optional values, the default values are the same as the ones in the Rust version.</p>
<h3 id="client-1"><a class="header" href="#client-1">Client</a></h3>
<h4 id="constructornetwork-optional-storage-optional-password-optional-polling_interval-optional-a-hreflibrariespythonapi_referencehtmlaccountmanageraccountmanagera"><a class="header" href="#constructornetwork-optional-storage-optional-password-optional-polling_interval-optional-a-hreflibrariespythonapi_referencehtmlaccountmanageraccountmanagera">constructor(network (optional), storage (optional), password (optional), polling_interval (optional)): <a href="libraries/python/api_reference.html#accountmanager">AccountManager</a></a></h4>
<p>Creates a new instance of the Client.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody>
<tr><td>[network]</td><td><code>str</code></td><td><code>undefined</code></td><td>The network</td></tr>
<tr><td>[primary_node_jwt_name_password]</td><td><code>list[str]</code></td><td><code>undefined</code></td><td>An array of array with node URLs and optional JWT and basic auth name and password (length 1 is only the url, length 2 is url with JWT, length 3 is url with basic auth name and password and length 4 is url with JWT and basic auth name and password)</td></tr>
<tr><td>[primary_pow_node_jwt_name_password]</td><td><code>list[str]</code></td><td><code>undefined</code></td><td>An array of array with node URLs and optional JWT and basic auth name and password (length 1 is only the url, length 2 is url with JWT, length 3 is url with basic auth name and password and length 4 is url with JWT and basic auth name and password)</td></tr>
<tr><td>[nodes_name_password]</td><td><code>list[]list[str]</code></td><td><code>undefined</code></td><td>An array of array with node URLs and optional JWT and basic auth name and password (length 1 is only the url, length 2 is url with JWT, length 3 is url with basic auth name and password and length 4 is url with JWT and basic auth name and password)</td></tr>
<tr><td>[permanodes_name_password]</td><td><code>list[]list[str]</code></td><td><code>undefined</code></td><td>An array of array with node URLs and optional JWT and basic auth name and password (length 1 is only the url, length 2 is url with JWT, length 3 is url with basic auth name and password and length 4 is url with JWT and basic auth name and password)</td></tr>
<tr><td>[node_sync_interval]</td><td><code>int</code></td><td><code>undefined</code></td><td>The interval for the node syncing process</td></tr>
<tr><td>[node_sync_disabled]</td><td><code>bool</code></td><td><code>undefined</code></td><td>Disables the node syncing process. Every node will be considered healthy and ready to use</td></tr>
<tr><td>[node_pool_urls]</td><td><code>str</code></td><td><code>undefined</code></td><td>An array of node pool URLs</td></tr>
<tr><td>[quorum]</td><td><code>bool</code></td><td><code>false</code></td><td>Bool to define if quorum should be used</td></tr>
<tr><td>[quorum_size]</td><td><code>int</code></td><td><code>3</code></td><td>An int that defines how many nodes should be used for quorum</td></tr>
<tr><td>[quorum_threshold]</td><td><code>int</code></td><td><code>66</code></td><td>Define the % of nodes that need to return the same response to accept it</td></tr>
<tr><td>[request_timeout]</td><td><code>int</code></td><td><code>undefined</code></td><td>Sets the default HTTP request timeout</td></tr>
<tr><td>[api_timeout]</td><td><code>dict</code></td><td><code>undefined</code></td><td>The API to set the request timeout. Key: 'GetHealth', 'GetInfo', 'GetPeers', 'GetTips', 'PostMessage', 'GetOutput', 'GetMilestone' Value: timeout in milliseconds</td></tr>
<tr><td>[local_pow]</td><td><code>bool</code></td><td><code>undefined</code></td><td>Flag determining if PoW should be done locally or remotely</td></tr>
<tr><td>[tips_interval]</td><td><code>int</code></td><td><code>undefined</code></td><td>Time between requests for new tips during PoW</td></tr>
<tr><td>[mqtt_broker_options]</td><td><code><a href="libraries/python/api_reference.html#brokeroptions">BrokerOptions</a></code></td><td><code>undefined</code></td><td>Sets the options for the MQTT connection with the node</td></tr>
</tbody></table>
<p><strong>Returns</strong> The constructed <a href="libraries/python/api_reference.html#client">Client</a>.</p>
<h3 id="full-node-apis"><a class="header" href="#full-node-apis">Full Node APIs</a></h3>
<h4 id="get_health-bool"><a class="header" href="#get_health-bool">get_health(): bool</a></h4>
<p>Gets the node health status.</p>
<p><strong>Returns</strong> whether the node is healthy.</p>
<h4 id="get_info-nodeinfowrapper"><a class="header" href="#get_info-nodeinfowrapper">get_info(): NodeInfoWrapper</a></h4>
<p>Gets information about the node.</p>
<p><strong>Returns</strong> the <a href="libraries/python/api_reference.html#nodeinfowrapper">NodeInfoWrapper</a>.</p>
<h4 id="get_peers-listpeerdto"><a class="header" href="#get_peers-listpeerdto">get_peers(): list[PeerDto]</a></h4>
<p>Gets peers of the node.</p>
<p><strong>Returns</strong> the list of <a href="libraries/python/api_reference.html#peerdto">PeerDto</a>.</p>
<h4 id="get_tips-liststr"><a class="header" href="#get_tips-liststr">get_tips(): list[str]</a></h4>
<p>Gets non-lazy tips.</p>
<p><strong>Returns</strong> two non-lazy tips' message ids in list.</p>
<h4 id="post_messagemsg-str"><a class="header" href="#post_messagemsg-str">post_message(msg): str</a></h4>
<p>Submits a message.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody>
<tr><td>[msg]</td><td><code><a href="libraries/python/api_reference.html#message">Message</a></code></td><td><code>undefined</code></td><td>The message to submit</td></tr>
</tbody></table>
<p><strong>Returns</strong> the message id of the submitted message.</p>
<h4 id="get_outputoutput_id-outputresponse"><a class="header" href="#get_outputoutput_id-outputresponse">get_output(output_id): OutputResponse</a></h4>
<p>Gets the UTXO outputs associated with the given output id.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody>
<tr><td>[output_id]</td><td><code>str</code></td><td><code>undefined</code></td><td>The id of the output to search</td></tr>
</tbody></table>
<p><strong>Returns</strong> the OutputResponse[#outputresponse].</p>
<h4 id="get_address_balanceaddress-balanceaddressresponse"><a class="header" href="#get_address_balanceaddress-balanceaddressresponse">get_address_balance(address): BalanceAddressResponse</a></h4>
<p>Gets the balance in the address.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody>
<tr><td>[address]</td><td><code>list[str]</code></td><td><code>undefined</code></td><td>The address Bech32 string</td></tr>
</tbody></table>
<p><strong>Returns</strong> the <a href="libraries/python/api_reference.html#BalanceAddressResponse">BalanceAddressResponse</a>.</p>
<h4 id="get_address_outputsaddress-options-optional-listutxoinput"><a class="header" href="#get_address_outputsaddress-options-optional-listutxoinput">get_address_outputs(address, options (optional)): list[UtxoInput]</a></h4>
<p>Gets the UTXO outputs associated with the given address.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody>
<tr><td>[address]</td><td><code>str</code></td><td><code>undefined</code></td><td>The address Bech32 string</td></tr>
<tr><td>[options]</td><td><code>[<a href="libraries/python/api_reference.html#addressoutputsoptions">AddressOutputsOptions</a>]</code></td><td><code>undefined</code></td><td>The query filters</td></tr>
</tbody></table>
<p><strong>Returns</strong> the list of <a href="libraries/python/api_reference.html#UtxoInput">UtxoInput</a>.</p>
<h4 id="find_outputsoutput_ids-optional-addresses-optional-listoutputresponse"><a class="header" href="#find_outputsoutput_ids-optional-addresses-optional-listoutputresponse">find_outputs(output_ids (optional), addresses (optional)): list[OutputResponse]</a></h4>
<p>Gets the UTXO outputs associated with the given output ids and addresses.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody>
<tr><td>[output_ids]</td><td><code>list[str]</code></td><td><code>undefined</code></td><td>The list of addresses to search</td></tr>
<tr><td>[addresses]</td><td><code>list[str]</code></td><td><code>undefined</code></td><td>The list of output ids to search</td></tr>
</tbody></table>
<p><strong>Returns</strong> the list of <a href="libraries/python/api_reference.html#outputresponse">OutputResponse</a>.</p>
<h4 id="get_milestoneindex-milestonedto"><a class="header" href="#get_milestoneindex-milestonedto">get_milestone(index): MilestoneDto</a></h4>
<p>Gets the milestone by the given index.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody>
<tr><td>[index]</td><td><code>int</code></td><td><code>undefined</code></td><td>The index of the milestone</td></tr>
</tbody></table>
<p><strong>Returns</strong> the <a href="libraries/python/api_reference.html#milestonedto">MilestoneDto</a>.</p>
<h4 id="get_milestone_utxo_changesindex-milestoneutxochanges"><a class="header" href="#get_milestone_utxo_changesindex-milestoneutxochanges">get_milestone_utxo_changes(index): MilestoneUTXOChanges</a></h4>
<p>Gets the utxo changes by the given milestone index.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody>
<tr><td>[index]</td><td><code>int</code></td><td><code>undefined</code></td><td>The index of the milestone</td></tr>
</tbody></table>
<p><strong>Returns</strong> the <a href="libraries/python/api_reference.html#milestoneutxochanges">MilestoneUTXOChanges</a>.</p>
<h4 id="get_receipts-vecreceiptdto"><a class="header" href="#get_receipts-vecreceiptdto">get_receipts(): Vec<ReceiptDto></a></h4>
<p>Get all receipts.</p>
<p><strong>Returns</strong> the <a href="libraries/python/api_reference.html#ReceiptDto">ReceiptDto</a>.</p>
<h4 id="get_receipts_migrated_atindex-vecreceiptdto"><a class="header" href="#get_receipts_migrated_atindex-vecreceiptdto">get_receipts_migrated_at(index): Vec<ReceiptDto></a></h4>
<p>Get all receipts for a given milestone index.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody>
<tr><td>[index]</td><td><code>int</code></td><td><code>undefined</code></td><td>The index of the milestone</td></tr>
</tbody></table>
<p><strong>Returns</strong> the <a href="libraries/python/api_reference.html#ReceiptDto">ReceiptDto</a>.</p>
<h4 id="get_treasury-treasuryresponse"><a class="header" href="#get_treasury-treasuryresponse">get_treasury(): TreasuryResponse</a></h4>
<p>Get the treasury amount.</p>
<p><strong>Returns</strong> the <a href="libraries/python/api_reference.html#TreasuryResponse">TreasuryResponse</a>.</p>
<h4 id="get_included_message-message"><a class="header" href="#get_included_message-message">get_included_message(): Message</a></h4>
<p>Get the included message of a transaction.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>[index]</td><td><code>string</code></td><td>The id of the transaction</td></tr>
</tbody></table>
<p><strong>Returns</strong> the new <a href="libraries/python/api_reference.html#message">Message</a>.</p>
<h3 id="high-level-apis"><a class="header" href="#high-level-apis">High-Level APIs</a></h3>
<h4 id="messageseed-optional-account_index-optional-initial_address_index-optional-inputs-optional-input_range_begin-optional-input_range_end-optional-outputs-optional-dust_allowance_outputs-optional-index-optional-index_raw-optional-data-optional-data_str-optional-parents-optional-message"><a class="header" href="#messageseed-optional-account_index-optional-initial_address_index-optional-inputs-optional-input_range_begin-optional-input_range_end-optional-outputs-optional-dust_allowance_outputs-optional-index-optional-index_raw-optional-data-optional-data_str-optional-parents-optional-message">message(seed (optional), account_index (optional), initial_address_index (optional), inputs (optional), input_range_begin (optional), input_range_end (optional), outputs (optional), dust_allowance_outputs (optional), index (optional), index_raw (optional), data (optional), data_str (optional), parents (optional)): Message</a></h4>
<p>Build a message.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody>
<tr><td>[seed]</td><td><code>str</code></td><td><code>undefined</code></td><td>The hex-encoded seed of the account to spend</td></tr>
<tr><td>[account_index]</td><td><code>int</code></td><td><code>undefined</code></td><td>The account index</td></tr>
<tr><td>[initial_address_index]</td><td><code>int</code></td><td><code>undefined</code></td><td>The initial address index</td></tr>
<tr><td>[inputs]</td><td><code>list[<a href="libraries/python/api_reference.html#input">Input</a>]</code></td><td><code>undefined</code></td><td>Inputs</td></tr>
<tr><td>[input_range_begin]</td><td><code>int</code></td><td><code>undefined</code></td><td>The begin index of the input</td></tr>
<tr><td>[input_range_end]</td><td><code>int</code></td><td><code>undefined</code></td><td>The end index of the input</td></tr>
<tr><td>[outputs]</td><td><code>list[<a href="libraries/python/api_reference.html#output">Output</a>]</code></td><td><code>undefined</code></td><td>Outputs</td></tr>
<tr><td>[dust_allowance_outputs]</td><td><code>list[<a href="libraries/python/api_reference.html#output">Output</a>]</code></td><td><code>undefined</code></td><td>Dust allowance output to the transaction</td></tr>
<tr><td>[index]</td><td><code>str</code></td><td><code>undefined</code></td><td>The indexation string</td></tr>
<tr><td>[index_raw]</td><td><code>list[int]</code></td><td><code>undefined</code></td><td>The indexation byte array</td></tr>
<tr><td>[data]</td><td><code>list[int]</code></td><td><code>undefined</code></td><td>The data in bytes</td></tr>
<tr><td>[data_str]</td><td><code>str</code></td><td><code>undefined</code></td><td>The data string</td></tr>
<tr><td>[parents]</td><td><code>list[str]</code></td><td><code>undefined</code></td><td>The message ids of the parents</td></tr>
</tbody></table>
<p><strong>Returns</strong> the built <a href="libraries/python/api_reference.html#message">Message</a>.</p>
<h4 id="get_message_metadatamessage_id-messagemetadataresponse"><a class="header" href="#get_message_metadatamessage_id-messagemetadataresponse">get_message_metadata(message_id): MessageMetadataResponse</a></h4>
<table><thead><tr><th>Param</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody>
<tr><td>[message_id]</td><td><code>str</code></td><td><code>undefined</code></td><td>The message id</td></tr>
</tbody></table>
<p><strong>Returns</strong> the <a href="libraries/python/api_reference.html#messagemetadataresponse">MessageMetadataResponse</a>.</p>
<h4 id="get_message_datamessage_id-message"><a class="header" href="#get_message_datamessage_id-message">get_message_data(message_id): Message</a></h4>
<p>Gets the message data from the message id.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody>
<tr><td>[message_id]</td><td><code>str</code></td><td><code>undefined</code></td><td>The message id</td></tr>
</tbody></table>
<p><strong>Returns</strong> the <a href="libraries/python/api_reference.html#message">Message</a>.</p>
<h4 id="get_message_rawmessage_id-str"><a class="header" href="#get_message_rawmessage_id-str">get_message_raw(message_id): str</a></h4>
<p>Gets the raw message string from the message id.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody>
<tr><td>[message_id]</td><td><code>str</code></td><td><code>undefined</code></td><td>The message id</td></tr>
</tbody></table>
<p><strong>Returns</strong> the raw message string.</p>
<h4 id="get_message_childrenmessage_id-liststr"><a class="header" href="#get_message_childrenmessage_id-liststr">get_message_children(message_id): list[str]</a></h4>
<p>Gets the children of the given message.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody>
<tr><td>[message_id]</td><td><code>str</code></td><td><code>undefined</code></td><td>The message id</td></tr>
</tbody></table>
<p><strong>Returns</strong> the list of children strings.</p>
<h4 id="get_message_idpayload_str-str"><a class="header" href="#get_message_idpayload_str-str">get_message_id(payload_str): str</a></h4>
<p>Get the message id from the payload string.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody>
<tr><td>payload_str</td><td><code>str</code></td><td><code>undefined</code></td><td>The payload string from the mqtt message event</td></tr>
</tbody></table>
<p><strong>Returns</strong> The identifier of message.</p>
<h4 id="get_message_indexindex-liststr"><a class="header" href="#get_message_indexindex-liststr">get_message_index(index): list[str]</a></h4>
<p>Gets the list of message indices from the message_id.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody>
<tr><td>[index]</td><td><code>str</code></td><td><code>undefined</code></td><td>The identifier of message</td></tr>
</tbody></table>
<p><strong>Returns</strong> the list of message ids.</p>
<h4 id="find_messagesindexation_keys-optional-message_ids-optional-listmessage"><a class="header" href="#find_messagesindexation_keys-optional-message_ids-optional-listmessage">find_messages(indexation_keys (optional), message_ids (optional)): list[Message]</a></h4>
<p>Finds all messages associated with the given indexation keys and message ids.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody>
<tr><td>[indexation_keys]</td><td><code>list[str]</code></td><td><code>undefined</code></td><td>The list of indexations keys too search</td></tr>
<tr><td>[message_ids]</td><td><code>list[str]</code></td><td><code>undefined</code></td><td>The list of message ids to search</td></tr>
</tbody></table>
<p><strong>Returns</strong> the list of the found messages.</p>
<h4 id="get_unspent_addressseed-account_index-optional-initial_address_indexoptional-str-int"><a class="header" href="#get_unspent_addressseed-account_index-optional-initial_address_indexoptional-str-int">get_unspent_address(seed, account_index (optional), initial_address_index(optional)): (str, int)</a></h4>
<p>Gets a valid unspent address.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody>
<tr><td>[seed]</td><td><code>str</code></td><td><code>undefined</code></td><td>The hex-encoded seed to search</td></tr>
<tr><td>[account_index]</td><td><code>int</code></td><td><code>undefined</code></td><td>The account index</td></tr>
<tr><td>[initial_address_index]</td><td><code>int</code></td><td><code>undefined</code></td><td>The initial address index</td></tr>
</tbody></table>
<p><strong>Returns</strong> a tuple with type of <code>(str, int)</code> as the address and corresponding index in the account.</p>
<h4 id="get_addressesseed-account_index-optional-input_range_begin-optional-input_range_end-optional-get_all-optional-liststr-bool-optional"><a class="header" href="#get_addressesseed-account_index-optional-input_range_begin-optional-input_range_end-optional-get_all-optional-liststr-bool-optional">get_addresses(seed, account_index (optional), input_range_begin (optional), input_range_end (optional) get_all (optional)): list[(str, bool (optional))]</a></h4>
<p>Finds addresses from the seed regardless of their validity.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody>
<tr><td>[seed]</td><td><code>str</code></td><td><code>undefined</code></td><td>The hex-encoded seed to search</td></tr>
<tr><td>[account_index]</td><td><code>int</code></td><td><code>undefined</code></td><td>The account index</td></tr>
<tr><td>[input_range_begin]</td><td><code>int</code></td><td><code>undefined</code></td><td>The begin of the address range</td></tr>
<tr><td>[input_range_end]</td><td><code>int</code></td><td><code>undefined</code></td><td>The end of the address range</td></tr>
<tr><td>[get_all]</td><td><code>bool</code></td><td><code>undefined</code></td><td>Get all addresses</td></tr>
</tbody></table>
<p><strong>Returns</strong> a list of tuples with type of <code>(str, int)</code> as the address and corresponding index in the account.</p>
<h4 id="get_balanceseed-account_index-optional-initial_address_indexoptional-gap_limitoptional-int"><a class="header" href="#get_balanceseed-account_index-optional-initial_address_indexoptional-gap_limitoptional-int">get_balance(seed, account_index (optional), initial_address_index(optional), gap_limit(optional)): int</a></h4>
<p>Get balance on a given seed and its wallet account index.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody>
<tr><td>[seed]</td><td><code>str</code></td><td><code>undefined</code></td><td>The hex-encoded seed to search</td></tr>
<tr><td>[account_index]</td><td><code>int</code></td><td><code>undefined</code></td><td>The account index</td></tr>
<tr><td>[initial_address_index]</td><td><code>int</code></td><td><code>undefined</code></td><td>The initial address index</td></tr>
<tr><td>[gap_limit]</td><td><code>int</code></td><td><code>undefined</code></td><td>The gap limit</td></tr>
</tbody></table>
<p><strong>Returns</strong> the amount of balance.</p>
<h4 id="get_address_balancesaddresses-listaddressbalancepair"><a class="header" href="#get_address_balancesaddresses-listaddressbalancepair">get_address_balances(addresses): list[AddressBalancePair]</a></h4>
<p>Get the balance in iotas for the given addresses.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody>
<tr><td>[addresses]</td><td><code>list[str]</code></td><td><code>undefined</code></td><td>The list of addresses to search</td></tr>
</tbody></table>
<p><strong>Returns</strong> the list of <a href="libraries/python/api_reference.html#addressbalancepair">AddressBalancePair</a>.</p>
<h4 id="generate_mnemonic"><a class="header" href="#generate_mnemonic">generate_mnemonic()</a></h4>
<p>Returns a random generated Bip39 mnemonic with the English word list.</p>
<p><strong>Returns</strong> A String</p>
<h4 id="mnemonic_to_hex_seedmnemonic"><a class="header" href="#mnemonic_to_hex_seedmnemonic">mnemonic_to_hex_seed(mnemonic)</a></h4>
<p>Returns the seed hex encoded.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody>
<tr><td>mnemonic</td><td><code>string</code></td><td><code>undefined</code></td><td>Bip39 mnemonic with words from the English word list.</td></tr>
</tbody></table>
<p><strong>Returns</strong> A String</p>
<h4 id="bech32_to_hexbech32"><a class="header" href="#bech32_to_hexbech32">bech32_to_hex(bech32)</a></h4>
<p>Returns a parsed hex String from bech32.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody>
<tr><td>bech32</td><td><code>string</code></td><td><code>undefined</code></td><td>The address Bech32 string</td></tr>
</tbody></table>
<p><strong>Returns</strong> A String</p>
<h4 id="hex_to_bech32hex-bech32_hrp-optional"><a class="header" href="#hex_to_bech32hex-bech32_hrp-optional">hex_to_bech32(hex, bech32_hrp (optional))</a></h4>
<p>Returns a parsed bech32 String from hex.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody>
<tr><td>bech32</td><td><code>string</code></td><td><code>undefined</code></td><td>The address Bech32 string</td></tr>
<tr><td>bech32_hrp</td><td><code>string</code></td><td><code>undefined</code></td><td>The Bech32 hrp string</td></tr>
</tbody></table>
<p><strong>Returns</strong> A String</p>
<h4 id="is_address_validaddress-bool"><a class="header" href="#is_address_validaddress-bool">is_address_valid(address): bool</a></h4>
<p>Checks if a given address is valid.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody>
<tr><td>address</td><td><code>string</code></td><td><code>undefined</code></td><td>The address Bech32 string</td></tr>
</tbody></table>
<p><strong>Returns</strong> A boolean.</p>
<h4 id="retrymessage_id-str-message"><a class="header" href="#retrymessage_id-str-message">retry(message_id): (str, Message)</a></h4>
<p>Retries (promotes or reattaches) the message associated with the given id.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody>
<tr><td>[message_id]</td><td><code>str</code></td><td><code>undefined</code></td><td>The message id</td></tr>
</tbody></table>
<p><strong>Returns</strong> the message id and the retried <a href="libraries/python/api_reference.html#message">Message</a>.</p>
<h4 id="retry_until_includedmessage_id-interval-optional-max_attempts-optional-liststr-message"><a class="header" href="#retry_until_includedmessage_id-interval-optional-max_attempts-optional-liststr-message">retry_until_included(message_id, interval (optional), max_attempts (optional)): list[(str, Message)]</a></h4>
<p>Retries (promotes or reattaches) the message associated with the given id.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody>
<tr><td>[message_id]</td><td><code>str</code></td><td><code>undefined</code></td><td>The message id</td></tr>
<tr><td>interval</td><td><code>int</code></td><td><code>5</code></td><td>The interval in seconds in which we retry the message.</td></tr>
<tr><td>max_attempts</td><td><code>int</code></td><td><code>10</code></td><td>The maximum of attempts we retry the message.</td></tr>
</tbody></table>
<p><strong>Returns</strong> the message ids and <a href="libraries/python/api_reference.html#message">Message</a> of reattached messages.</p>
<h4 id="consolidate_fundsseed-account_index-start_index-end_index-str"><a class="header" href="#consolidate_fundsseed-account_index-start_index-end_index-str">consolidate_funds(seed, account_index, start_index, end_index): str</a></h4>
<p>Function to consolidate all funds from a range of addresses to the address with the lowest index in that range</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>[seed]</td><td><code>string</code></td><td>The seed</td></tr>
<tr><td>[account_index]</td><td><code>int</code></td><td>The account index.</td></tr>
<tr><td>[start_index]</td><td><code>int</code></td><td>The lowest address index, funds will be consolidated to this address.</td></tr>
<tr><td>[end_index]</td><td><code>int</code></td><td>The address index until which funds will be consolidated</td></tr>
</tbody></table>
<p><strong>Returns</strong> the address to which the funds got consolidated, if any were available.</p>
<h4 id="reattachmessage_id-str-message"><a class="header" href="#reattachmessage_id-str-message">reattach(message_id): (str, Message)</a></h4>
<p>Reattaches the message associated with the given id.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody>
<tr><td>[message_id]</td><td><code>str</code></td><td><code>undefined</code></td><td>The message id</td></tr>
</tbody></table>
<p><strong>Returns</strong> the message id and the reattached <a href="libraries/python/api_reference.html#message">Message</a>.</p>
<h4 id="promotemessage_id-str-message"><a class="header" href="#promotemessage_id-str-message">promote(message_id): (str, Message)</a></h4>
<p>Promotes the message associated with the given id.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody>
<tr><td>[message_id]</td><td><code>str</code></td><td><code>undefined</code></td><td>The message id</td></tr>
</tbody></table>
<p><strong>Returns</strong> the message id and the promoted <a href="libraries/python/api_reference.html#message">Message</a>.</p>
<h3 id="mqtt-apis"><a class="header" href="#mqtt-apis">MQTT APIs</a></h3>
<h4 id="subscribe_topictopic-callback-void"><a class="header" href="#subscribe_topictopic-callback-void">subscribe_topic(topic, callback): void</a></h4>
<p>Subscribe a topic and assign the associated callback.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody>
<tr><td>[topic]</td><td><code>str</code></td><td><code>undefined</code></td><td>The MQTT topic</td></tr>
<tr><td>[callback]</td><td><code>function</code></td><td><code>undefined</code></td><td>The callback function</td></tr>
</tbody></table>
<h4 id="subscribe_topicstopics-callback-void"><a class="header" href="#subscribe_topicstopics-callback-void">subscribe_topics(topics, callback): void</a></h4>
<p>Subscribe topics and assign the associated callbacks, respectively.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody>
<tr><td>[topics]</td><td><code>list[str]</code></td><td><code>undefined</code></td><td>The MQTT topics</td></tr>
<tr><td>[callback]</td><td><code>function</code></td><td><code>undefined</code></td><td>The callback functions</td></tr>
</tbody></table>
<h4 id="unsubscribe-void"><a class="header" href="#unsubscribe-void">unsubscribe(): void</a></h4>
<p>Unsubscribe all topics.</p>
<h4 id="disconnect-void"><a class="header" href="#disconnect-void">disconnect(): void</a></h4>
<p>Disconnect the mqtt broker.</p>
<h4 id="walletaddress"><a class="header" href="#walletaddress">WalletAddress</a></h4>
<p>A dict with the following key/value pairs.</p>
<pre><code class="language-python">message_metadata_response = {
    'message_id': str,
    'parent_message_ids': list[str],
    'is_solid': bool,
    'referenced_by_milestone_index': int, # (optional)
    'milestone_index': int,  # (optional)
    'ledger_inclusion_state': LedgerInclusionStateDto,  # (optional)
    'conflict_reason': int,  # (optional)
    'should_promote:' bool  # (optional)
    'should_reattach': bool  # (optional)
}
</code></pre>
<p>Please refer to <a href="libraries/python/api_reference.html#ledgerinclusionstatedto">LedgerInclusionStateDto</a> for the details of this type.</p>
<h4 id="balanceaddressresponse"><a class="header" href="#balanceaddressresponse">BalanceAddressResponse</a></h4>
<p>A dict with the following key/value pairs.</p>
<pre><code class="language-python">balance_for_address_response = {
    'address_type': int,
    'address': str,
    'balance': int
}
</code></pre>
<h4 id="addressbalancepair"><a class="header" href="#addressbalancepair">AddressBalancePair</a></h4>
<p>A dict with the following key/value pairs.</p>
<pre><code class="language-python">address_balance_pair = {
    'address': str,
    'balance': int
    'dust_allowed': bool
}
</code></pre>
<h4 id="milestonedto"><a class="header" href="#milestonedto">MilestoneDto</a></h4>
<p>A dict with the following key/value pairs.</p>
<pre><code class="language-python">milestoned_to = {
    'index': int,
    'timestamp': int,
    'message_id':  str
}
</code></pre>
<h4 id="milestoneutxochanges-1"><a class="header" href="#milestoneutxochanges-1">MilestoneUTXOChanges</a></h4>
<p>A dict with the following key/value pairs.</p>
<pre><code class="language-python">milestone_utxo_changes = {
    'index': int,
    'created_outputs': list[str],
    'consumed_outputs': list[str]
}
</code></pre>
<h4 id="receiptdto"><a class="header" href="#receiptdto">ReceiptDto</a></h4>
<p>A dict with the following key/value pairs.</p>
<pre><code class="language-python">receiptDto = {
    'receipt': Receipt,
    'milestone_index': int,
}
</code></pre>
<h4 id="treasuryresponse"><a class="header" href="#treasuryresponse">TreasuryResponse</a></h4>
<p>A dict with the following key/value pairs.</p>
<pre><code class="language-python">treasuryResponse = {
    'milestone_id': str,
    'amount': int,
}
</code></pre>
<h4 id="utxoinput"><a class="header" href="#utxoinput">UtxoInput</a></h4>
<p>A dict with the following key/value pairs.</p>
<pre><code class="language-python">utxo_input = {
    'transaction_id': list[int],
    'index': int
}
</code></pre>
<h4 id="outputresponse"><a class="header" href="#outputresponse">OutputResponse</a></h4>
<p>A dict with the following key/value pairs.</p>
<pre><code class="language-python">output_response = {
    'message_id': str,
    'transaction_id': str,
    'output_index': int,
    'is_spent': bool,
    'output': OutputDto
}
</code></pre>
<p>Please refer to <a href="libraries/python/api_reference.html#outputdto">OutputDto</a> for the details of this type.</p>
<h4 id="outputdto"><a class="header" href="#outputdto">OutputDto</a></h4>
<p>A dict with the following key/value pairs.</p>
<pre><code class="language-python">output_dto = {
    'treasury': TreasuryOutputDto, # (opitonal)
    'signature_locked_single': SignatureLockedSingleOutputDto, # (opitonal)
    'signature_locked_dust_allowance': SignatureLockedDustAllowanceOutputDto # (opitonal)
}
</code></pre>
<p>Please refer to <a href="libraries/python/api_reference.html#treasuryoutputdto">TreasuryOutputDto</a>, <a href="libraries/python/api_reference.html#signaturelockedsingleoutputdto">SignatureLockedSingleOutputDto</a>, and <a href="libraries/python/api_reference.html#signaturelockedDustallowanceoutputdto">SignatureLockedDustAllowanceOutputDto</a> for the details of these types.</p>
<h4 id="signaturelockedsingleoutputdto"><a class="header" href="#signaturelockedsingleoutputdto">SignatureLockedSingleOutputDto</a></h4>
<p>A dict with the following key/value pairs.</p>
<pre><code class="language-python">signature_locked_single_output_dto = {
    'kind': int,
    'address': AddressDto,
    'amount': int
}
</code></pre>
<p>Please refer to <a href="libraries/python/api_reference.html#addressdto">AddressDto</a> for the details of this type.</p>
<h4 id="signaturelockeddustallowanceoutputdto"><a class="header" href="#signaturelockeddustallowanceoutputdto">SignatureLockedDustAllowanceOutputDto</a></h4>
<p>A dict with the following key/value pairs.</p>
<pre><code class="language-python">signature_locked_dust_allowance_output_dto = {
    'kind': int,
    'address': AddressDto,
    'amount': int
}
</code></pre>
<p>Please refer to <a href="libraries/python/api_reference.html#addressdto">AddressDto</a> for the details of this type.</p>
<h4 id="pub-struct-treasuryoutputdto-"><a class="header" href="#pub-struct-treasuryoutputdto-">pub struct TreasuryOutputDto {</a></h4>
<p>A dict with the following key/value pairs.</p>
<pre><code class="language-python">treasury_output_dto = {
    'kind': int,
    'amount':int
}
</code></pre>
<h4 id="addressdto"><a class="header" href="#addressdto">AddressDto</a></h4>
<p>A dict with the following key/value pairs.</p>
<pre><code class="language-python">address_dto = {
    'ed25519': Ed25519AddressDto
}
</code></pre>
<p>Please refer to <a href="libraries/python/api_reference.html#ed25519addressdto">Ed25519AddressDto</a> for the details of this type.</p>
<h4 id="ed25519addressdto"><a class="header" href="#ed25519addressdto">Ed25519AddressDto</a></h4>
<p>A dict with the following key/value pairs.</p>
<pre><code class="language-python">ed25519_address_dto = {
    'kind': int,
    'address': str
}
</code></pre>
<h4 id="message-1"><a class="header" href="#message-1">Message</a></h4>
<p>A dict with the following key/value pairs.</p>
<pre><code class="language-python">message = {
    'message_id': str,
    'network_id': int,
    'parents': list[str],
    'payload': Payload, # (optional)
    'nonce': int
}
</code></pre>
<p>Please refer to <a href="libraries/python/api_reference.html#payload">Payload</a> for the details of this type.</p>
<h4 id="payload-1"><a class="header" href="#payload-1">Payload</a></h4>
<p>A dict with the following key/value pairs.</p>
<pre><code class="language-python">payload = {
    'transaction': list[Transaction], # (optional)
    'milestone': list[Milestone], # (optional)
    'indexation': list[Indexation], # (optional)
}
</code></pre>
<p>Please refer to <a href="libraries/python/api_reference.html#transaction">Transaction</a>, <a href="libraries/python/api_reference.html#milestone">Milestone</a>, and <a href="libraries/python/api_reference.html#indexation">Indexation</a> for the details of these types.</p>
<h4 id="transaction"><a class="header" href="#transaction">Transaction</a></h4>
<p>A dict with the following key/value pairs.</p>
<pre><code class="language-python">transaction = {
    'essence': RegularEssence,
    'unlock_blocks': list[UnlockBlock]
}
</code></pre>
<p>Please refer to <a href="libraries/python/api_reference.html#regularessence">RegularEssence</a>, and <a href="libraries/python/api_reference.html#unlockblock">UnlockBlock</a> for the details of these types.</p>
<h4 id="milestone"><a class="header" href="#milestone">Milestone</a></h4>
<p>A dict with the following key/value pairs.</p>
<pre><code class="language-python">milestone = {
    'essence': MilestonePayloadEssence,
    'signatures': list[list[int]]
}
</code></pre>
<p>Please refer to <a href="libraries/python/api_reference.html#milestonepayloadessence">MilestonePayloadEssence</a> for the details of this type.</p>
<h4 id="milestonepayloadessence"><a class="header" href="#milestonepayloadessence">MilestonePayloadEssence</a></h4>
<p>A dict with the following key/value pairs.</p>
<pre><code class="language-python">milestone_payload_essence = {
    'index': int,
    'timestamp': int,
    'parents': list[str],
    'merkle_proof': list[int],
    'next_pow_score': int,
    'next_pow_score_milestone_index': int,
    'public_keys': list[list[int]]
}
</code></pre>
<h4 id="indexation"><a class="header" href="#indexation">Indexation</a></h4>
<p>A dict with the following key/value pairs.</p>
<pre><code class="language-python">indexation = {
    'index': str,
    'data': list[int]
}
</code></pre>
<h4 id="regularessence"><a class="header" href="#regularessence">RegularEssence</a></h4>
<p>A dict with the following key/value pairs.</p>
<pre><code class="language-python">regular_essence = {
    'inputs': list[Input],
    'outputs': list[Output],
    'payload': list[Payload]
}
</code></pre>
<p>Please refer to <a href="libraries/python/api_reference.html#input">Input</a>, <a href="libraries/python/api_reference.html#output">Output</a>, and <a href="libraries/python/api_reference.html#payload">Payload</a> for the details of these types.</p>
<h4 id="output"><a class="header" href="#output">Output</a></h4>
<p>A dict with the following key/value pairs.</p>
<pre><code class="language-python">output = {
    'address': str,
    'amount': int
}
</code></pre>
<h4 id="input"><a class="header" href="#input">Input</a></h4>
<p>A dict with the following key/value pairs.</p>
<pre><code class="language-python">input = {
    'transaction_id': str,
    'index': int
}
</code></pre>
<h4 id="unlockblock"><a class="header" href="#unlockblock">UnlockBlock</a></h4>
<p>A dict with the following key/value pairs.</p>
<pre><code class="language-python">unlock_block = {
    'signature': Ed25519Signature, # (optional)
    'reference': int # (optional)
}
</code></pre>
<p>Please refer to <a href="libraries/python/api_reference.html#ed25519Signature">Ed25519Signature</a> for the details of this type.</p>
<h4 id="ed25519signature"><a class="header" href="#ed25519signature">Ed25519Signature</a></h4>
<p>A dict with the following key/value pairs.</p>
<pre><code class="language-python">ed25519_signature = {
    'public_key': list[int],
    'signature': list[int]
}
</code></pre>
<h4 id="brokeroptions-1"><a class="header" href="#brokeroptions-1">BrokerOptions</a></h4>
<p>A dict with the following key/value pairs.</p>
<pre><code class="language-python">broker_options = {
    'automatic_disconnect': bool,
    'timeout': int,
    'max_reconnection_attempts': int,
}
</code></pre>
<h4 id="ledgerinclusionstatedto"><a class="header" href="#ledgerinclusionstatedto">LedgerInclusionStateDto</a></h4>
<p>A dict with the following key/value pairs.</p>
<pre><code class="language-python">ledger_inclusion_state_dto = {
    'state': str
}
</code></pre>
<h4 id="nodeinfowrapper-1"><a class="header" href="#nodeinfowrapper-1">NodeInfoWrapper</a></h4>
<p>A dict with the following key/value pairs.</p>
<pre><code class="language-python">nodeinfo_wrapper{
    url: str,
    nodeinfo: info_response,
}
info_response = {
    'name': str,
    'version': str,
    'is_healthy': bool,
    'network_id': str,
    'bech32_hrp': str,
    'min_pow_score': float,
    'messages_per_second': float,
    'referenced_messages_per_second': float,
    'referenced_rate': float,
    'latest_milestone_timestamp': u64,
    'latest_milestone_index': int,
    'confirmed_milestone_index': int,
    'pruning_index': int,
    'features': list[str],
    'min_pow_score': float,
}
</code></pre>
<h4 id="networkinfo-1"><a class="header" href="#networkinfo-1">NetworkInfo</a></h4>
<p>A dict with the following key/value pairs.</p>
<pre><code class="language-python">network_info = {
    'network': str,
    'network_id': int,
    'bech32_hrp': str,
    'min_pow_score': float,
    'local_pow': bool,
    'tips_interval': int,
}
</code></pre>
<h4 id="peerdto"><a class="header" href="#peerdto">PeerDto</a></h4>
<p>A dict with the following key/value pairs.</p>
<pre><code class="language-python">peer_dto = {
    'id': str,
    'multi_addresses': list[str],
    'alias': str, # (optional)
    'relation': RelationDto,
    'connected': bool,
    'gossip': GossipDto, # (optional)
}
</code></pre>
<p>Please refer to <a href="libraries/python/api_reference.html#relationdto">RelationDto</a> and <a href="libraries/python/api_reference.html#gossipdto">GossipDto</a> for the details of these types.</p>
<h4 id="relationdto"><a class="header" href="#relationdto">RelationDto</a></h4>
<p>A dict with the following key/value pairs.</p>
<pre><code class="language-python">relation_dto = {
    'relation': str
}
</code></pre>
<h4 id="gossipdto"><a class="header" href="#gossipdto">GossipDto</a></h4>
<p>A dict with the following key/value pairs.</p>
<pre><code class="language-python">gossip_dto = {
    'heartbeat': HeartbeatDto,
    'metrics': MetricsDto
}
</code></pre>
<p>Please refer to <a href="libraries/python/api_reference.html#heartbeatdto">HeartbeatDto</a> and <a href="libraries/python/api_reference.html#metricsdto">MetricsDto</a> for the details of these types.</p>
<h4 id="heartbeatdto"><a class="header" href="#heartbeatdto">HeartbeatDto</a></h4>
<p>A dict with the following key/value pairs.</p>
<pre><code class="language-python">heart_beat_dto = {
    'solid_milestone_index': int,
    'pruned_milestone_index': int,
    'latest_milestone_index': int,
    'connected_neighbors': int,
    'synced_neighbors': int
}
</code></pre>
<h4 id="metricsdto"><a class="header" href="#metricsdto">MetricsDto</a></h4>
<p>A dict with the following key/value pairs.</p>
<pre><code class="language-python">metrics_dto = {
    'received_messages': int,
    'known_messages': int,
    'received_message_requests': int,
    'received_milestone_requests': int,
    'received_heartbeats': int,
    'sent_messages': int,
    'sent_message_requests': int,
    'sent_milestone_requests': int,
    'sent_heartbeats': int,
    'dropped_packets': int,
}
</code></pre>
<h4 id="addressoutputsoptions"><a class="header" href="#addressoutputsoptions">AddressOutputsOptions</a></h4>
<p>A dict with the following key/value pairs.</p>
<pre><code class="language-python">options = {
    'include_spent': bool,
    'output_type': string
}</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="troubleshooting-2"><a class="header" href="#troubleshooting-2">Troubleshooting</a></h1>
<h2 id="stackexchange-2"><a class="header" href="#stackexchange-2">StackExchange</a></h2>
<blockquote>
<p><a href="https://iota.stackexchange.com/">https://iota.stackexchange.com</a></p>
</blockquote>
<p>The IOTA StackExchange a a nice tool for developers to find answers for a problem. Just search your problem and find your answer! If there is no one, submit your question and share it in the discussion channel below.</p>
<h2 id="joining-the-discussion-6"><a class="header" href="#joining-the-discussion-6">Joining the discussion</a></h2>
<p>If you want to get involved in discussions about this library, or you're looking for support, go to the #clients-discussion channel on <a href="https://discord.iota.org">Discord</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="high-level-api-specification"><a class="header" href="#high-level-api-specification">High Level API Specification</a></h1>
<h2 id="table-of-contents"><a class="header" href="#table-of-contents">Table of Contents</a></h2>
<ul>
<li><a href="specs/index.html#Introduction">Introduction</a></li>
<li><a href="specs/index.html#Builder">Builder</a></li>
<li><a href="specs/index.html#General-high-level-API">General high level API</a>
<ul>
<li><a href="specs/index.html#message"><code>message</code></a></li>
<li><a href="specs/index.html#get_message"><code>get_message</code></a></li>
<li><a href="specs/index.html#find_messages"><code>find_messages</code></a></li>
<li><a href="specs/index.html#get_unspent_address"><code>get_unspent_address</code></a></li>
<li><a href="specs/index.html#get_addresses"><code>get_addresses</code></a></li>
<li><a href="specs/index.html#get_balance"><code>get_balance</code></a></li>
<li><a href="specs/index.html#get_address_balances"><code>get_address_balances</code></a></li>
<li><a href="specs/index.html#bech32_to_hex"><code>bech32_to_hex</code></a></li>
<li><a href="specs/index.html#hex_to_bech32"><code>hex_to_bech32</code></a></li>
<li><a href="specs/index.html#parse_bech32_address"><code>parse_bech32_address</code></a></li>
<li><a href="specs/index.html#is_address_valid"><code>is_address_valid</code></a></li>
<li><a href="specs/index.html#subscriber"><code>subscriber</code></a></li>
<li><a href="specs/index.html#retry"><code>retry</code></a></li>
<li><a href="specs/index.html#retry_until_included"><code>retry_until_included</code></a></li>
<li><a href="specs/index.html#consolidate_funds"><code>consolidate_funds</code></a></li>
<li><a href="specs/index.html#reattach"><code>reattach</code></a></li>
<li><a href="specs/index.html#promote"><code>promote</code></a></li>
</ul>
</li>
<li><a href="specs/index.html#Full-node-API">Full node API</a>
<ul>
<li><a href="specs/index.html#get_health"><code>get_health</code></a></li>
<li><a href="specs/index.html#get_peers"><code>get_health</code></a></li>
<li><a href="specs/index.html#get_info"><code>get_info</code></a></li>
<li><a href="specs/index.html#get_tips"><code>get_tips</code></a></li>
<li><a href="specs/index.html#post_message"><code>post_message</code></a></li>
<li><a href="specs/index.html#get_output"><code>get_output</code></a></li>
<li><a href="specs/index.html#get_address"><code>get_address</code></a></li>
<li><a href="specs/index.html#find_outputs"><code>find_outputs</code></a></li>
<li><a href="specs/index.html#get_milestone"><code>get_milestone</code></a></li>
<li><a href="specs/index.html#get_milestone_utxo_changes"><code>get_milestone_utxo_changes</code></a></li>
<li><a href="specs/index.html#get_receipts"><code>get_receipts</code></a></li>
<li><a href="specs/index.html#get_receipts_migrated_at"><code>get_receipts_migrated_at</code></a></li>
<li><a href="specs/index.html#get_treasury"><code>get_treasury</code></a></li>
<li><a href="specs/index.html#get_included_message"><code>get_included_message</code></a></li>
</ul>
</li>
<li><a href="specs/index.html#Objects">Objects</a>
<ul>
<li>[Network]</li>
<li><a href="specs/index.html#Seed">Seed</a></li>
<li><a href="specs/index.html#Message">Message</a></li>
<li>[Payload]</li>
<li>[Output]</li>
<li><a href="specs/index.html#Address">Address</a></li>
<li><a href="specs/index.html#AddressBalancePair">AddressBalancePair</a></li>
<li><a href="specs/index.html#Milestone">Milestone</a></li>
<li><a href="specs/index.html#Api">API</a></li>
<li><a href="specs/index.html#BrokerOptions">BrokerOptions</a></li>
<li><a href="specs/index.html#Topic">Topic</a></li>
</ul>
</li>
</ul>
<h1 id="introduction"><a class="header" href="#introduction">Introduction</a></h1>
<p>This document specifies a user friendly API to be used in the client libraries. The main implementation will be in Rust which will receive automatically compiled client libraries in other languages via C or Webassembly bindings. There are also many crates to support developers creating foreign function interfaces with native bindings.</p>
<h1 id="builder"><a class="header" href="#builder">Builder</a></h1>
<p>The data structure to initialize the instance of the Higher level client library. This is always called first when starting a new interaction with the library. Note: This is the common approach to do initialization in Rust. Different languages might use different methods such as just calling an initialization function directly.</p>
<h3 id="parameters"><a class="header" href="#parameters">Parameters</a></h3>
<table><thead><tr><th>Parameter</th><th>Required</th><th>Default Value</th><th>Type</th><th>Definition</th></tr></thead><tbody>
<tr><td><strong>network</strong></td><td>✘</td><td>Testnet</td><td>&amp;str</td><td>Optional, the network type can be &quot;testnet&quot; or &quot;mainnet&quot;. If no node url is provided, some default nodes are used for the specified network. Nodes that aren't in this network will be ignored.</td></tr>
<tr><td><strong>node</strong></td><td>✘</td><td>None</td><td>&amp;str</td><td>The URL of a node to connect to; format: <code>https://node:port</code></td></tr>
<tr><td><strong>primary_node</strong></td><td>✘</td><td>None</td><td>&amp;str, auth_name_pwd: Option&lt;(&amp;str, &amp;str)&gt;</td><td>The URL of a node to always connect first to, if multiple nodes are available. Optional JWT and or name and password for basic authentication; format: <code>https://node:port</code>, Some(&quot;JWT&quot;), Some(&quot;name&quot;, &quot;password&quot;)</td></tr>
<tr><td><strong>primary_pow_node</strong></td><td>✘</td><td>None</td><td>&amp;str, auth_name_pwd: Option&lt;(&amp;str, &amp;str)&gt;</td><td>The URL of a node to always connect first to when submitting a message with remote PoW, if multiple nodes are available. Will override primary_node in that case. With optional JWT or name and password for basic authentication; format: <code>https://node:port</code>, Some(&quot;JWT&quot;), Some(&quot;name&quot;, &quot;password&quot;)</td></tr>
<tr><td><strong>permanode</strong></td><td>✘</td><td>None</td><td>&amp;str, auth_name_pwd: Option&lt;(&amp;str, &amp;str)&gt;</td><td>The URL of a permanode. With optional JWT or name and password for basic authentication; format: <code>https://node:port</code>, Some(&quot;JWT&quot;), Some(&quot;name&quot;, &quot;password&quot;)</td></tr>
<tr><td><strong>node_auth</strong></td><td>✘</td><td>None</td><td>&amp;str, Option<String>, Option&lt;(&amp;str, &amp;str)&gt;</td><td>The URL of a node to connect to with optional JWT and or name and password for basic authentication; format: <code>https://node:port</code>, Some(&quot;JWT&quot;), Some(&quot;name&quot;, &quot;password&quot;)</td></tr>
<tr><td><strong>nodes</strong></td><td>✘</td><td>None</td><td>&amp;[&amp;str]</td><td>A list of nodes to connect to; nodes are added with the <code>https://node:port</code> format. The amount of nodes specified in quorum_size are randomly selected from this node list to check for quorum based on the quorum threshold. If quorum_size is not given the full list of nodes is checked.</td></tr>
<tr><td><strong>node_sync_interval</strong></td><td>✘</td><td>Duration::from_secs(60)</td><td>std::time::Duration</td><td>The interval in milliseconds to check for node health and sync</td></tr>
<tr><td><strong>node_sync_disabled</strong></td><td>✘</td><td>false</td><td>bool</td><td>If disabled also unhealty nodes will be used</td></tr>
<tr><td><strong>node_pool_urls</strong></td><td>None</td><td>✘</td><td>&amp;[String]</td><td>A list of node_pool_urls from which nodes are added. The amount of nodes specified in quorum_size are randomly selected from this node list to check for quorum based on the quorum threshold. If quorum_size is not given the full list of nodes is checked.</td></tr>
<tr><td><strong>quorum</strong></td><td>✘</td><td>false</td><td>bool</td><td>Define if quorum should be used for the requests</td></tr>
<tr><td><strong>quorum_size</strong></td><td>✘</td><td>3</td><td>usize</td><td>Define how many nodes should be used for quorum</td></tr>
<tr><td><strong>quorum_threshold</strong></td><td>✘</td><td>66</td><td>usize</td><td>Define the % of nodes that need to return the same response to accept it</td></tr>
<tr><td><strong>request_timeout</strong></td><td>✘</td><td>Duration::from_secs(30)</td><td>std::time::Duration</td><td>The amount of seconds a request can be outstanding to a node before it's considered timed out</td></tr>
<tr><td><strong>api_timeout</strong></td><td>✘</td><td>Api::GetInfo: Duration::from_secs(2)),<br /> Api::GetHealth: Duration::from_secs(2),<br />Api::GetPeers: Duration::from_secs(2),<br />Api::GetMilestone: Duration::from_secs(2),<br />Api::GetTips: Duration::from_secs(2),<br />Api::PostMessage: Duration::from_secs(2),<br />Api::PostMessageWithRemotePow: Duration::from_secs(30),<br />Api::GetOutput: Duration::from_secs(2)</td><td>HashMap&lt;<a href="specs/index.html#Api">Api</a>,<br /> std::time::Duration&gt;</td><td>The amount of milliseconds a request to a specific Api endpoint can be outstanding to a node before it's considered timed out.</td></tr>
<tr><td><strong>local_pow</strong></td><td>✘</td><td>True</td><td>bool</td><td>If not defined it defaults to local PoW to offload node load times</td></tr>
<tr><td><strong>tips_interval</strong></td><td>✘</td><td>15</td><td>u64</td><td>Time interval during PoW when new tips get requested.</td></tr>
<tr><td><strong>mqtt_broker_options</strong></td><td>✘</td><td>True,<br />Duration::from_secs(30),<br />True</td><td><a href="specs/index.html#BrokerOptions">BrokerOptions</a></td><td>If not defined the default values will be used</td></tr>
</tbody></table>
<ul>
<li>Note that there must be at least one node to build the instance successfully.</li>
</ul>
<h3 id="return"><a class="header" href="#return">Return</a></h3>
<p>Finalize the builder with <code>finish()</code> will run the instance in the background. Users don’t need to worry about the return object handling.</p>
<h2 id="on-initialization"><a class="header" href="#on-initialization">On initialization</a></h2>
<p>On initialisation, call getNodeInfo API. Check the health of each node in the node list, and put healty nodes, matching the PoW settings and network in a synced nodelist.</p>
<table><thead><tr><th>Node metadata</th><th>Description</th></tr></thead><tbody>
<tr><td>network</td><td>If this parameter does not match the global builder parameter, don't add it to the synced nodelist.</td></tr>
<tr><td>pow</td><td>If the global local_pow parameter is set to false, then put only nodes with the PoW feature in the synced nodelist.</td></tr>
</tbody></table>
<h2 id="sync-process"><a class="header" href="#sync-process">Sync Process</a></h2>
<p>When a <code>Client</code> instance (The instance which is used for calling the client APIs) is built, the status of each node listed is checked. If the returned status of the node information is healthy, which means the node is synced, then this node will be pushed into a <code>synced_nodes</code> list. The rust-like pseudo code of <code>synced_nodes</code> construction process follows. The process of syncing a node is repeated every 60 seconds or at the interval specified in the <code>node_sync_interval</code> argument of the initializer if set.</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>synced_nodes = Vec::new()
for node in node_pool_urls{
   status = Client.get_info(node).await?;
   if status == healthy{
      synced_nodes.push(node)
   }
}
<span class="boring">}
</span></code></pre></pre>
<h1 id="general-high-level-api"><a class="header" href="#general-high-level-api"><code>General high level API</code></a></h1>
<p>Here is the high level abstraction API collection with sensible default values for users easy to use.</p>
<h2 id="message-2"><a class="header" href="#message-2"><code>message()</code></a></h2>
<p>A generic send function for easily sending a message.</p>
<h3 id="parameters-1"><a class="header" href="#parameters-1">Parameters</a></h3>
<table><thead><tr><th>Parameter</th><th>Required</th><th>Default</th><th>Type</th><th>Definition</th></tr></thead><tbody>
<tr><td><strong>seed</strong></td><td>✘</td><td>None</td><td><a href="specs/index.html#Seed">Seed</a></td><td>The seed of the account we are going to spend, only needed for transactions</td></tr>
<tr><td><strong>account_index</strong></td><td>✘</td><td>0</td><td>usize</td><td>The account index, responsible for the value <code>✘</code> in the Bip32Path <code>m/44'/4218'/✘'/0'/0'</code>.</td></tr>
<tr><td><strong>initial_address_index</strong></td><td>✘</td><td>0</td><td>usize</td><td>The index from where to start looking for balance. Responsible for the value <code>✘</code> in the Bip32Path <code>m/44'/4218'/0'/0'/✘'</code>.</td></tr>
<tr><td><strong>input</strong></td><td>✘</td><td>None</td><td>UtxoInput</td><td>Users can manually select their UtxoInputs instead of having automatically selected inputs.</td></tr>
<tr><td><strong>input_range</strong></td><td>✘</td><td>0..100</td><td>Range</td><td>Custom range to search for the input addresses if custom inputs are provided.</td></tr>
<tr><td><strong>output</strong></td><td>✘</td><td>None</td><td>address: &amp;[String],<br />amount: u64</td><td>Address to send to and amount to send. Address needs to be Bech32 encoded.</td></tr>
<tr><td><strong>output_hex</strong></td><td>✘</td><td>None</td><td>address: &amp;str,<br />amount: u64</td><td>Address to send to and amount to send. Address needs to be hex encoded.</td></tr>
<tr><td><strong>index</strong></td><td>✘</td><td>None</td><td>&amp;[u8] / &amp;str</td><td>An optional indexation key for an indexation payload. 1-64 bytes long.</td></tr>
<tr><td><strong>data</strong></td><td>✘</td><td>None</td><td>Vec<u8></td><td>Optional data for the indexation payload.</td></tr>
<tr><td><strong>parents</strong></td><td>✘</td><td>None</td><td><a href="specs/index.html#MessageId">MessageId</a></td><td>1-8 optional parents <a href="specs/index.html#MessageId">MessageId</a> to be used.</td></tr>
</tbody></table>
<p>Depending on the provided values this function will create a message with:</p>
<ul>
<li>no payload</li>
<li>an indexation payload</li>
<li>a transaction payload</li>
<li>a transaction payload containing an indexation payload</li>
</ul>
<h3 id="return-1"><a class="header" href="#return-1">Return</a></h3>
<p>The <a href="specs/index.html#Message">Message</a> object we build.</p>
<h3 id="implementation-details"><a class="header" href="#implementation-details">Implementation Details</a></h3>
<ul>
<li>Validate inputs, such as address and seed to check if they are correct.</li>
<li>Check if account balance is bigger or equal to the value using method similar to <a href="specs/index.html#get_balance"><code>get_balance()</code></a>;</li>
<li>Build and validate the message with signed transaction payload accordingly;</li>
<li>Get tips using <a href="specs/index.html#get_tips"><code>get_tips()</code></a>;</li>
<li>Perform proof-of-work locally (if not set to remote);</li>
<li>Send the message using <a href="specs/index.html#post_messages"><code>post_messages()</code></a>;</li>
</ul>
<h2 id="get_message"><a class="header" href="#get_message"><code>get_message()</code></a></h2>
<p>(<code>GET /api/v1/messages</code>)</p>
<p>Endpoint collection all about GET messages.</p>
<h3 id="parameters-2"><a class="header" href="#parameters-2">Parameters</a></h3>
<table><thead><tr><th>Parameter</th><th>Required</th><th>Type</th><th>Definition</th></tr></thead><tbody>
<tr><td><strong>message_id</strong></td><td>✔</td><td><a href="specs/index.html#MessageId">MessageId</a></td><td>The identifier of message.</td></tr>
<tr><td><strong>index</strong></td><td>✔</td><td>&amp;[u8] / &amp;str</td><td>An indexation key.</td></tr>
</tbody></table>
<h3 id="returns"><a class="header" href="#returns">Returns</a></h3>
<p>Depend on the final calling method, users could get different results they need:</p>
<ul>
<li><code>metadata(&amp;MessageId)</code>: Return <a href="specs/index.html#MessageMetadata">MessageMetadata</a> of the message.</li>
<li><code>data(&amp;MessageId)</code>: Return a <a href="specs/index.html#Message">Message</a> object.</li>
<li><code>raw(&amp;MessageId)</code>: Return the raw data of given message.</li>
<li><code>children(&amp;MessageId)</code>: Return the list of <a href="specs/index.html#MessageId">MessageId</a>s that reference a message by its identifier.</li>
<li><code>index(&amp;[u8] | &amp;str)</code> : Return the list of <a href="specs/index.html#MessageId">MessageId</a>s that have this str as indexation key</li>
</ul>
<h2 id="find_messages"><a class="header" href="#find_messages"><code>find_messages()</code></a></h2>
<p>Find all messages by provided message IDs.</p>
<h3 id="parameters-3"><a class="header" href="#parameters-3">Parameters</a></h3>
<table><thead><tr><th>Parameter</th><th>Required</th><th>Type</th><th>Definition</th></tr></thead><tbody>
<tr><td><strong>indexation_keys</strong></td><td>✘</td><td>[&amp;[u8] / &amp;str]</td><td>The index key of the indexation payload.</td></tr>
<tr><td><strong>message_ids</strong></td><td>✘</td><td>[<a href="specs/index.html#MessageId">MessageId</a>]</td><td>The identifier of message.</td></tr>
</tbody></table>
<h3 id="returns-1"><a class="header" href="#returns-1">Returns</a></h3>
<p>A vector of <a href="specs/index.html#Message">Message</a> Object.</p>
<h2 id="get_unspent_address"><a class="header" href="#get_unspent_address"><code>get_unspent_address()</code></a></h2>
<p>Return a valid unspent public Bech32 encoded address.</p>
<h3 id="parameters-4"><a class="header" href="#parameters-4">Parameters</a></h3>
<table><thead><tr><th>Parameter</th><th>Required</th><th>Default</th><th>Type</th><th>Definition</th></tr></thead><tbody>
<tr><td><strong>seed</strong></td><td>✔</td><td>-</td><td><a href="specs/index.html#Seed">Seed</a></td><td>The seed we want to use.</td></tr>
<tr><td><strong>account_index</strong></td><td>✘</td><td>0</td><td>usize</td><td>The account index, responsible for the value <code>✘</code> in the Bip32Path <code>m/44'/4218'/✘'/0'/0'</code>.</td></tr>
<tr><td><strong>initial_address_index</strong></td><td>✘</td><td>0</td><td>usize</td><td>Start index of the addresses to search. Responsible for the value <code>✘</code> in the Bip32Path <code>m/44'/4218'/0'/0'/✘'</code>.</td></tr>
</tbody></table>
<h3 id="return-2"><a class="header" href="#return-2">Return</a></h3>
<p>Return a tuple with type of <code>(String, usize)</code> as the address and corresponding index in the account.</p>
<h3 id="implementation-details-1"><a class="header" href="#implementation-details-1">Implementation Details</a></h3>
<p>Following are the steps for implementing this method:</p>
<ul>
<li>Start generating addresses with given account index and starting index. We will have a default <a href="https://blog.blockonomics.co/bitcoin-what-is-this-gap-limit-4f098e52d7e1">gap limit</a> of 20 at a time;</li>
<li>Check for balances on the generated addresses using <a href="specs/index.html#find_outputs"><code>find_outputs()</code></a> and keep track of the positive balances;</li>
<li>Repeat the above step till there's an unspent address found;</li>
<li>Return the address with corresponding index on the wallet chain;</li>
</ul>
<h2 id="get_addresses"><a class="header" href="#get_addresses"><code>get_addresses()</code></a></h2>
<p>Return a list of addresses from the seed regardless of their validity.</p>
<h3 id="parameters-5"><a class="header" href="#parameters-5">Parameters</a></h3>
<table><thead><tr><th>Parameter</th><th>Required</th><th>Default</th><th>Type</th><th>Definition</th></tr></thead><tbody>
<tr><td><strong>seed</strong></td><td>✔</td><td>None</td><td><a href="specs/index.html#Seed">Seed</a></td><td>The seed we want to search for.</td></tr>
<tr><td><strong>account_index</strong></td><td>✘</td><td>0</td><td>usize</td><td>The account index, responsible for the value <code>✘</code> in the Bip32Path <code>m/44'/4218'/✘'/0'/0'</code>.</td></tr>
<tr><td><strong>range</strong></td><td>✘</td><td>None</td><td>std::ops::Range</td><td>Range indices of the addresses we want to search for. Default is (0..20)</td></tr>
<tr><td><strong>get_all</strong></td><td>✘</td><td>✘</td><td>✘</td><td>Get public and <a href="https://bitcoin.stackexchange.com/questions/75033/bip44-and-change-addresses">change addresses</a>. Will return Vec&lt;([String], bool)&gt;, where the bool is indicating whether it's a change address</td></tr>
</tbody></table>
<h3 id="return-3"><a class="header" href="#return-3">Return</a></h3>
<p>Vec&lt;[String]&gt;, with the public addresses</p>
<h2 id="get_balance"><a class="header" href="#get_balance"><code>get_balance()</code></a></h2>
<p>Return the balance for a provided seed and its wallet account index.</p>
<h3 id="parameters-6"><a class="header" href="#parameters-6">Parameters</a></h3>
<table><thead><tr><th>Parameter</th><th>Required</th><th>Default</th><th>Type</th><th>Definition</th></tr></thead><tbody>
<tr><td><strong>seed</strong></td><td>✔</td><td>-</td><td><a href="specs/index.html#Seed">Seed</a></td><td>The seed we want to search for.</td></tr>
<tr><td><strong>account_index</strong></td><td>✘</td><td>0</td><td>usize</td><td>The account index, responsible for the value <code>✘</code> in the Bip32Path <code>m/44'/4218'/✘'/0'/0'</code>.</td></tr>
<tr><td><strong>initial_address_index</strong></td><td>✘</td><td>0</td><td>usize</td><td>Start index from which to generate addresses. Default is 0. Responsible for the value <code>✘</code> in the Bip32Path <code>m/44'/4218'/0'/0'/✘'</code>.</td></tr>
<tr><td><strong>gap_limit</strong></td><td>✘</td><td>20</td><td>usize</td><td>The gap limit specifies how many addresses will be checked each round. If gap_limit amount of addresses in a row have no balance the function will return.</td></tr>
</tbody></table>
<h3 id="return-4"><a class="header" href="#return-4">Return</a></h3>
<p>Total account balance.</p>
<h3 id="implementation-details-2"><a class="header" href="#implementation-details-2">Implementation Details</a></h3>
<p>Following are the steps for implementing this method:</p>
<ul>
<li>Start generating addresses with given wallet account index and starting index. We will have a default <a href="https://blog.blockonomics.co/bitcoin-what-is-this-gap-limit-4f098e52d7e1">gap limit</a> of 20 at a time;</li>
<li>Check for balances on the generated addresses using <a href="specs/index.html#find_outputs"><code>find_outputs()</code></a> and keep track of the positive balances;</li>
<li>Repeat the above step till an address of zero balance is found;</li>
<li>Accumulate the positive balances and return the result.</li>
</ul>
<h2 id="get_address_balances"><a class="header" href="#get_address_balances"><code>get_address_balances()</code></a></h2>
<p>Return the balance in iota for the given addresses; No seed or security level needed to do this since we are only checking and already know the addresses.</p>
<h3 id="parameters-7"><a class="header" href="#parameters-7">Parameters</a></h3>
<table><thead><tr><th>Parameter</th><th>Required</th><th>Type</th><th>Definition</th></tr></thead><tbody>
<tr><td><strong>addresses</strong></td><td>✔</td><td>[[String]]</td><td>List of Bech32 encoded addresses.</td></tr>
</tbody></table>
<h3 id="return-5"><a class="header" href="#return-5">Return</a></h3>
<p>A list of tuples with value of <a href="specs/index.html#AddressBalancePair">AddressBalancePair</a>. The usize is the balance of the address accordingly.</p>
<h3 id="implementation-details-3"><a class="header" href="#implementation-details-3">Implementation details:</a></h3>
<p>Following are the steps for implementing this method:</p>
<ul>
<li>Validate <em>address</em> semantics;</li>
<li>Get latest balance for the provided address using <a href="specs/index.html#find_outputs"><code>find_outputs()</code></a> with addresses as parameter;</li>
<li>Return the list of Output which contains corresponding pairs of address and balance.</li>
</ul>
<h2 id="generate_mnemonic-1"><a class="header" href="#generate_mnemonic-1"><code>generate_mnemonic()</code></a></h2>
<p>Returns a random generated Bip39 mnemonic with the English word list.</p>
<h3 id="return-6"><a class="header" href="#return-6">Return</a></h3>
<p>Parsed [String].</p>
<h2 id="mnemonic_to_hex_seedmnemonic-1"><a class="header" href="#mnemonic_to_hex_seedmnemonic-1"><code>mnemonic_to_hex_seed(mnemonic)</code></a></h2>
<p>Returns the seed hex encoded.</p>
<h3 id="parameters-8"><a class="header" href="#parameters-8">Parameters</a></h3>
<table><thead><tr><th>Parameter</th><th>Required</th><th>Type</th><th>Definition</th></tr></thead><tbody>
<tr><td><strong>mnemonic</strong></td><td>✔</td><td>[String]</td><td>Bip39 mnemonic with words from the English word list.</td></tr>
</tbody></table>
<h3 id="return-7"><a class="header" href="#return-7">Return</a></h3>
<p>Parsed [String].</p>
<h2 id="bech32_to_hex"><a class="header" href="#bech32_to_hex"><code>bech32_to_hex()</code></a></h2>
<p>Returns a parsed hex String from bech32.</p>
<h3 id="parameters-9"><a class="header" href="#parameters-9">Parameters</a></h3>
<table><thead><tr><th>Parameter</th><th>Required</th><th>Type</th><th>Definition</th></tr></thead><tbody>
<tr><td><strong>bech32</strong></td><td>✔</td><td>[String]</td><td>Bech32 encoded address.</td></tr>
</tbody></table>
<h3 id="return-8"><a class="header" href="#return-8">Return</a></h3>
<p>Parsed [String].</p>
<h2 id="hex_to_bech32"><a class="header" href="#hex_to_bech32"><code>hex_to_bech32()</code></a></h2>
<p>Returns a parsed bech32 String from hex.</p>
<h3 id="parameters-10"><a class="header" href="#parameters-10">Parameters</a></h3>
<table><thead><tr><th>Parameter</th><th>Required</th><th>Type</th><th>Definition</th></tr></thead><tbody>
<tr><td><strong>hex</strong></td><td>✔</td><td>[String]</td><td>Hex encoded address.</td></tr>
<tr><td><strong>bech32_hrp</strong></td><td>✔</td><td>[Option<String>]</td><td>Optional bech32 hrp.</td></tr>
</tbody></table>
<h3 id="return-9"><a class="header" href="#return-9">Return</a></h3>
<p>Parsed [String].</p>
<h2 id="parse_bech32_address"><a class="header" href="#parse_bech32_address"><code>parse_bech32_address()</code></a></h2>
<p>Returns a valid Address parsed from a String.</p>
<h3 id="parameters-11"><a class="header" href="#parameters-11">Parameters</a></h3>
<table><thead><tr><th>Parameter</th><th>Required</th><th>Type</th><th>Definition</th></tr></thead><tbody>
<tr><td><strong>address</strong></td><td>✔</td><td>[String]</td><td>Bech32 encoded address.</td></tr>
</tbody></table>
<h3 id="return-10"><a class="header" href="#return-10">Return</a></h3>
<p>Parsed <a href="specs/index.html#Address">Address</a>.</p>
<h2 id="is_address_valid"><a class="header" href="#is_address_valid"><code>is_address_valid()</code></a></h2>
<h3 id="parameters-12"><a class="header" href="#parameters-12">Parameters</a></h3>
<table><thead><tr><th>Parameter</th><th>Required</th><th>Type</th><th>Definition</th></tr></thead><tbody>
<tr><td><strong>address</strong></td><td>✔</td><td>[String]</td><td>Bech32 encoded address.</td></tr>
</tbody></table>
<h3 id="return-11"><a class="header" href="#return-11">Return</a></h3>
<p>A boolean showing if the address is valid.</p>
<h2 id="subscriber"><a class="header" href="#subscriber"><code>subscriber()</code></a></h2>
<p>Subscribe to a node event <a href="specs/index.html#Topic">Topic</a> (MQTT)</p>
<p>Required: one of</p>
<ul>
<li>
<p><code>topic()</code>: Add a new <a href="specs/index.html#Topic">Topic</a> to the list.</p>
</li>
<li>
<p><code>topics()</code>: Add a vector of <a href="specs/index.html#Topic">Topic</a> to the list.</p>
</li>
<li>
<p><code>subscribe()</code>: Subscribe to the given topics with the callback, which will be called every time when the topic is detected.</p>
</li>
<li>
<p><code>unsubscribe()</code>: Unsubscribes from all subscriptions.</p>
</li>
<li>
<p><code>disconnect()</code>: Disconnects the broker. This will clear the stored topic handlers and close the MQTT connection.</p>
</li>
</ul>
<h3 id="returns-2"><a class="header" href="#returns-2">Returns</a></h3>
<p>Nothing apart from a Ok(()) result if successful</p>
<h2 id="retry"><a class="header" href="#retry"><code>retry()</code></a></h2>
<p>Retries (promotes or reattaches) a message for provided <a href="specs/index.html#MessageId">MessageId</a> if the node suggests it. The need to use this function should be low, because the confirmation throughput of the node is expected to be quite high.</p>
<h3 id="parameters-13"><a class="header" href="#parameters-13">Parameters</a></h3>
<table><thead><tr><th>Parameter</th><th>Required</th><th>Type</th><th>Definition</th></tr></thead><tbody>
<tr><td><strong>message_id</strong></td><td>✔</td><td><a href="specs/index.html#MessageId">MessageId</a></td><td>The identifier of message.</td></tr>
</tbody></table>
<h3 id="returns-3"><a class="header" href="#returns-3">Returns:</a></h3>
<p>A tuple with the newly promoted or reattached <code>(MessageId,  Message)</code>.</p>
<h3 id="implementation-details-4"><a class="header" href="#implementation-details-4">Implementation Details</a></h3>
<p>Following are the steps for implementing this method:</p>
<ul>
<li>Only unconfirmed messages should be allowed to retry. The method should validate the confirmation state of the provided messages. If a message id of a confirmed message is provided, the method should error out;</li>
<li>The method should also validate if a retry is necessary. This can be done by leveraging the <code>/messages/{messageId}/metadata</code> endpoint (already available through <a href="specs/index.html#get_message">get_message</a>). See <a href="https://github.com/iotaledger/trinity-wallet/blob/develop/src/shared/libs/iota/transfers.js#L105-L131">this</a> implementation for reference;</li>
<li>Use <a href="specs/index.html#reattach">reattach</a> or <a href="specs/index.html#promote">promote</a> accordingly.</li>
</ul>
<h2 id="retry_until_included"><a class="header" href="#retry_until_included"><code>retry_until_included()</code></a></h2>
<p>Retries (promotes or reattaches) a message for provided <a href="specs/index.html#MessageId">MessageId</a> until it's included (referenced by a milestone). Default interval is 5 seconds and max attempts is 10. The need to use this function should be low, because the confirmation throughput of the node is expected to be quite high.</p>
<h3 id="parameters-14"><a class="header" href="#parameters-14">Parameters</a></h3>
<table><thead><tr><th>Parameter</th><th>Required</th><th>Type</th><th>Definition</th></tr></thead><tbody>
<tr><td><strong>message_id</strong></td><td>✔</td><td>[&amp;MessageId]</td><td>The identifier of message.</td></tr>
<tr><td><strong>interval</strong></td><td>✘</td><td>Option<u64></td><td>The interval in which we retry the message.</td></tr>
<tr><td><strong>max_attempts</strong></td><td>✘</td><td>Option<u64></td><td>The maximum of attempts we retry the message.</td></tr>
</tbody></table>
<h3 id="returns-4"><a class="header" href="#returns-4">Returns:</a></h3>
<p>An array of tuples with the newly reattached <code>(MessageId,  Message)</code>.</p>
<h2 id="consolidate_funds"><a class="header" href="#consolidate_funds"><code>consolidate_funds()</code></a></h2>
<p>Function to consolidate all funds from a range of addresses to the address with the lowest index in that range</p>
<h3 id="parameters-15"><a class="header" href="#parameters-15">Parameters</a></h3>
<p>| Parameter | Type | Definition |
| - | - | - | - |
| <strong>seed</strong> | <a href="specs/index.html#Seed">Seed</a> | The seed we want to search for. |
| <strong>account_index</strong> | usize | The account index, responsible for the value <code>✘</code> in the Bip32Path <code>m/44'/4218'/✘'/0'/0'</code>. |
| <strong>address_range</strong> | Range<usize> | Range from which to generate public and internal addresses from which to consolidate the funds. Responsible for the value <code>✘</code> in the Bip32Path <code>m/44'/4218'/0'/0'/✘'</code>. |</p>
<h3 id="returns-5"><a class="header" href="#returns-5">Returns:</a></h3>
<p>The address to which the funds got consolidated.</p>
<h2 id="reattach"><a class="header" href="#reattach"><code>reattach()</code></a></h2>
<p>Depends on <a href="specs/index.html#find_messages">find_messages</a>, <a href="specs/index.html#get_message">get_message</a> and <a href="specs/index.html#post_message">post_message</a>.</p>
<p>Reattaches a message. The method should validate if a reattachment is necessary through <a href="specs/index.html#get_message">get_message</a>. If not, the method should error out and should not allow unnecessary reattachments.</p>
<h3 id="parameters-16"><a class="header" href="#parameters-16">Parameters</a></h3>
<table><thead><tr><th>Parameter</th><th>Required</th><th>Type</th><th>Definition</th></tr></thead><tbody>
<tr><td><strong>message_id</strong></td><td>✔</td><td><a href="specs/index.html#MessageId">MessageId</a></td><td>The identifier of message.</td></tr>
</tbody></table>
<h3 id="returns-6"><a class="header" href="#returns-6">Returns</a></h3>
<p>A tuple with the newly reattached <code>(MessageId,  Message)</code>.</p>
<h2 id="promote"><a class="header" href="#promote"><code>promote()</code></a></h2>
<p>Depends on <a href="specs/index.html#find_messages">find_messages</a>, <a href="specs/index.html#get_message">get_message</a> and <a href="specs/index.html#post_message">post_message</a>.</p>
<p>Promotes a message. The method should validate if a promotion is necessary through <a href="specs/index.html#get_message">get_message</a>. If not, the method should error out and should not allow unnecessary promotions.</p>
<h3 id="parameters-17"><a class="header" href="#parameters-17">Parameters</a></h3>
<table><thead><tr><th>Parameter</th><th>Required</th><th>Type</th><th>Definition</th></tr></thead><tbody>
<tr><td><strong>message_id</strong></td><td>✔</td><td><a href="specs/index.html#MessageId">MessageId</a></td><td>The identifier of message.</td></tr>
</tbody></table>
<h3 id="returns-7"><a class="header" href="#returns-7">Returns</a></h3>
<p>A tuple with the newly promoted <code>(MessageId,  Message)</code>.</p>
<h1 id="full-node-api"><a class="header" href="#full-node-api">Full node API</a></h1>
<p>Full node API of Bee and HORNET will still be public. Users who know these relative low level Restful API can still call them directly if they are confident and think it’s good for them. Note that both Bee and HORNET haven't finalized their APIs either. Following items and signatures might change later.</p>
<h2 id="get_health"><a class="header" href="#get_health"><code>get_health()</code></a></h2>
<p>(<code>GET /health</code>)</p>
<p>Returns the health of the node, which can be used for load-balancing or uptime monitoring.</p>
<h3 id="parameters-18"><a class="header" href="#parameters-18">Parameters</a></h3>
<p>None</p>
<h3 id="returns-8"><a class="header" href="#returns-8">Returns</a></h3>
<p>Boolean to indicate if node is healthy.</p>
<h2 id="get_peers"><a class="header" href="#get_peers"><code>get_peers()</code></a></h2>
<p>(<code>GET /peers</code>)</p>
<p>Get information about the peers of the node.</p>
<h3 id="parameters-19"><a class="header" href="#parameters-19">Parameters</a></h3>
<p>None</p>
<h3 id="returns-9"><a class="header" href="#returns-9">Returns</a></h3>
<pre><code class="language-Rust">pub struct PeerDto {
    pub id: String,
    #[serde(rename = &quot;multiAddresses&quot;)]
    pub multi_addresses: Vec&lt;String&gt;,
    pub alias: Option&lt;String&gt;,
    pub relation: RelationDto,
    pub connected: bool,
    pub gossip: Option&lt;GossipDto&gt;,
}
</code></pre>
<h2 id="get_info"><a class="header" href="#get_info"><code>get_info()</code></a></h2>
<p>(<code>GET /api/v1/info</code>)</p>
<p>Returns information about the node.</p>
<h3 id="parameters-20"><a class="header" href="#parameters-20">Parameters</a></h3>
<p>None</p>
<h3 id="returns-10"><a class="header" href="#returns-10">Returns</a></h3>
<p>A Response Object similar to this:</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>pub struct NodeInfoWrapper {
    pub nodeinfo: NodeInfo,
    pub url: String,
}
pub struct NodeInfo {
    pub name: String,
    pub version: String,
    pub is_healthy: bool,
    pub network_id: String,
    pub latest_milestone_index: usize,
    pub min_pow_score: f64,
    pub messages_per_second: f64,
    pub referenced_messages_per_second: f64,
    pub referenced_rate: f64,
    pub latest_milestone_timestamp: u64,
    pub confirmed_milestone_index: usize,
    pub pruning_index: usize,
    pub features: Vec&lt;String&gt;,
}
<span class="boring">}
</span></code></pre></pre>
<h2 id="get_tips"><a class="header" href="#get_tips"><code>get_tips()</code></a></h2>
<p>(<code>GET /tips</code>)</p>
<p>Returns two non-lazy tips. In case the node can only provide one tip, tip1 and tip2 are identical.</p>
<h3 id="parameters-21"><a class="header" href="#parameters-21">Parameters</a></h3>
<p>None</p>
<h3 id="returns-11"><a class="header" href="#returns-11">Returns</a></h3>
<p>A tuple with two <a href="specs/index.html#MessageId">MessageId</a>:</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>(MessageId, MessageId)
<span class="boring">}
</span></code></pre></pre>
<h2 id="post_message"><a class="header" href="#post_message"><code>post_message()</code></a></h2>
<p>(<code>POST /message</code>)</p>
<p>Submit a message. The node takes care of missing fields and tries to build the message. On success, the message will be stored in the Tangle. This endpoint will return the identifier of the message.</p>
<h3 id="parameters-22"><a class="header" href="#parameters-22">Parameters</a></h3>
<table><thead><tr><th>Parameter</th><th>Required</th><th>Type</th><th>Definition</th></tr></thead><tbody>
<tr><td><strong>message</strong></td><td>✔</td><td><a href="specs/index.html#Message">Message</a></td><td>The message object.</td></tr>
</tbody></table>
<h3 id="returns-12"><a class="header" href="#returns-12">Returns</a></h3>
<p>The <a href="specs/index.html#MessageId">MessageId</a> of the message object.</p>
<h2 id="get_output"><a class="header" href="#get_output"><code>get_output()</code></a></h2>
<p>(<code>GET /outputs</code>)</p>
<p>Get the producer of the output, the corresponding address, amount and spend status of an output. This information can only be retrieved for outputs which are part of a confirmed transaction.</p>
<h3 id="parameters-23"><a class="header" href="#parameters-23">Parameters</a></h3>
<table><thead><tr><th>Parameter</th><th>Required</th><th>Type</th><th>Definition</th></tr></thead><tbody>
<tr><td><strong>output_id</strong></td><td>✔</td><td>UtxoInput</td><td>Identifier of the output.</td></tr>
</tbody></table>
<h3 id="returns-13"><a class="header" href="#returns-13">Returns</a></h3>
<p>An <a href="specs/index.html#OutputMetadata">OutputMetadata</a> that contains various information about the output.</p>
<h2 id="get_address"><a class="header" href="#get_address"><code>get_address()</code></a></h2>
<p>(<code>GET /addresses</code>)</p>
<h3 id="parameters-24"><a class="header" href="#parameters-24">Parameters</a></h3>
<table><thead><tr><th>Parameter</th><th>Required</th><th>Type</th><th>Definition</th></tr></thead><tbody>
<tr><td><strong>address</strong></td><td>✔</td><td>[String]</td><td>The address to search for.</td></tr>
</tbody></table>
<h3 id="returns-14"><a class="header" href="#returns-14">Returns</a></h3>
<p>Depend on the final calling method, users could get different outputs they need:</p>
<ul>
<li><code>balance()</code>: Return confirmed balance of the address.</li>
<li><code>outputs([options])</code>: Return UtxoInput array (transaction IDs with corresponding output index).</li>
</ul>
<h2 id="find_outputs"><a class="header" href="#find_outputs"><code>find_outputs()</code></a></h2>
<p>Find all outputs based on the requests criteria.</p>
<h3 id="parameters-25"><a class="header" href="#parameters-25">Parameters</a></h3>
<table><thead><tr><th>Parameter</th><th>Required</th><th>Type</th><th>Definition</th></tr></thead><tbody>
<tr><td><strong>output_id</strong></td><td>✘</td><td>[UtxoInput]</td><td>The identifier of output.</td></tr>
<tr><td><strong>addresses</strong></td><td>✘</td><td>[[String]]</td><td>The Bech32 encoded address.</td></tr>
</tbody></table>
<h3 id="returns-15"><a class="header" href="#returns-15">Returns</a></h3>
<p>A vector of <a href="specs/index.html#OutputMetadata">OutputMetadata</a>.</p>
<h2 id="get_milestone"><a class="header" href="#get_milestone"><code>get_milestone()</code></a></h2>
<p>(<code>GET /milestones</code>)</p>
<p>Get the milestone by the given index.</p>
<h3 id="parameters-26"><a class="header" href="#parameters-26">Parameters</a></h3>
<table><thead><tr><th>Parameter</th><th>Required</th><th>Type</th><th>Definition</th></tr></thead><tbody>
<tr><td><strong>index</strong></td><td>✔</td><td>u32</td><td>Index of the milestone.</td></tr>
</tbody></table>
<h3 id="returns-16"><a class="header" href="#returns-16">Returns</a></h3>
<p>An <a href="specs/index.html#Milestone">Milestone</a> object.</p>
<h2 id="get_milestone_utxo_changes"><a class="header" href="#get_milestone_utxo_changes"><code>get_milestone_utxo_changes()</code></a></h2>
<p>(<code>GET /milestones/{}/utxo-changes</code>)</p>
<p>Get all UTXO changes of a given milestone.</p>
<h3 id="parameters-27"><a class="header" href="#parameters-27">Parameters</a></h3>
<table><thead><tr><th>Parameter</th><th>Required</th><th>Type</th><th>Definition</th></tr></thead><tbody>
<tr><td><strong>index</strong></td><td>✔</td><td>u32</td><td>Index of the milestone.</td></tr>
</tbody></table>
<h3 id="returns-17"><a class="header" href="#returns-17">Returns</a></h3>
<pre><code class="language-Rust">MilestoneUTXOChanges {
    index: 1,
    created_outputs: [],
    consumed_outputs: [],
}
</code></pre>
<h2 id="get_receipts"><a class="header" href="#get_receipts"><code>get_receipts()</code></a></h2>
<p>(<code>GET /receipts</code>)</p>
<p>Get all receipts.</p>
<h3 id="returns-18"><a class="header" href="#returns-18">Returns</a></h3>
<pre><code class="language-Rust">Vec&lt;ReceiptDto&gt;
</code></pre>
<h2 id="get_receipts_migrated_at"><a class="header" href="#get_receipts_migrated_at"><code>get_receipts_migrated_at()</code></a></h2>
<p>(<code>GET /receipts/{migratedAt}</code>)</p>
<p>Get all receipts for a given milestone index.</p>
<h3 id="returns-19"><a class="header" href="#returns-19">Returns</a></h3>
<pre><code class="language-Rust">Vec&lt;ReceiptDto&gt;
</code></pre>
<h2 id="get_treasury"><a class="header" href="#get_treasury"><code>get_treasury()</code></a></h2>
<p>(<code>GET /treasury</code>)</p>
<p>Get the treasury amount.</p>
<h3 id="returns-20"><a class="header" href="#returns-20">Returns</a></h3>
<pre><code class="language-Rust">pub struct TreasuryResponse {
    #[serde(rename = &quot;milestoneId&quot;)]
    milestone_id: String,
    amount: u64,
}
</code></pre>
<h2 id="get_included_message"><a class="header" href="#get_included_message"><code>get_included_message()</code></a></h2>
<p>(<code>GET /transactions/{transactionId}/included-message</code>)</p>
<p>Get the included message of the transaction.</p>
<h3 id="parameters-28"><a class="header" href="#parameters-28">Parameters</a></h3>
<table><thead><tr><th>Parameter</th><th>Required</th><th>Type</th><th>Definition</th></tr></thead><tbody>
<tr><td><strong>transaction_id</strong></td><td>✔</td><td>[TransactionId]</td><td>The id of the transaction.</td></tr>
</tbody></table>
<h3 id="returns-21"><a class="header" href="#returns-21">Returns</a></h3>
<pre><code class="language-Rust">struct Message {
    parents: Vec&lt;MessageId&gt;,
    payload: Option&lt;Payload&gt;,
    nonce: u64,
}
</code></pre>
<h1 id="objects"><a class="header" href="#objects">Objects</a></h1>
<p>Here are the objects used in the API above. They aim to provide a secure way to handle certain data structures specified in the Iota stack.</p>
<h2 id="messageid"><a class="header" href="#messageid"><code>MessageId</code></a></h2>
<p>MessageId is a 32 bytes array which can represent as hex string.</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>struct MessageId([u8; MESSAGE_ID_LENGTH]);
<span class="boring">}
</span></code></pre></pre>
<h2 id="seed"><a class="header" href="#seed"><code>Seed</code></a></h2>
<pre><code class="language-Rust">pub enum Seed {
    /// Ed25519 variant
    Ed25519(Ed25519Seed)
}
</code></pre>
<p>An IOTA seed that inner structure is omitted. Users can create this type by passing a String. It will verify and return an error if it’s not valid. |</p>
<h2 id="message-3"><a class="header" href="#message-3"><code>Message</code></a></h2>
<p>The message object returned by various functions; based on the <a href="https://github.com/GalRogozinski/protocol-rfcs/blob/message/text/0017-message/0017-message.md">RFC</a> for the Message object. Here's the brief overview of each components in Message type would look like:</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>struct Message {
    parents: Vec&lt;MessageId&gt;,
    payload: Option&lt;Payload&gt;,
    nonce: u64,
}

enum Payload {
    Transaction(Box&lt;Transaction&gt;),
    Milestone(Box&lt;Milestone&gt;),
    Indexation(Box&lt;Indexation&gt;),
}

struct Transaction {
    pub essence: TransactionPayloadEssence,
    pub unlock_blocks: Vec&lt;UnlockBlock&gt;,
}

struct Milestone {
    essence: MilestoneEssence,
    signatures: Vec&lt;Box&lt;[u8]&gt;&gt;,
}

struct Indexation {
    index: String,
    data: Box&lt;[u8]&gt;,
}

struct TransactionPayloadEssence {
    pub(crate) inputs: Box&lt;[Input]&gt;,
    pub(crate) outputs: Box&lt;[Output]&gt;,
    pub(crate) payload: Option&lt;Payload&gt;,
}

enum Input {
    UTXO(UtxoInput(OutputId)),
}

struct OutputId {
    transaction_id: TransactionId,
    index: u16,
}

enum Output {
    SignatureLockedSingle(SignatureLockedSingleOutput),
}

struct SignatureLockedSingleOutput {
    address: Address,
    amount: u64,
}

enum UnlockBlock {
    Signature(SignatureUnlock),
    Reference(ReferenceUnlock),
}

enum SignatureUnlock {
    Ed25519(Ed25519Signature),
}

struct Ed25519Signature {
    public_key: [u8; 32],
    signature: Box&lt;[u8]&gt;,
}

struct ReferenceUnlock(u16);
<span class="boring">}
</span></code></pre></pre>
<h2 id="messagemetadata-1"><a class="header" href="#messagemetadata-1"><code>MessageMetadata</code></a></h2>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>pub struct MessageMetadata {
    /// Message ID
    pub message_id: String,
    /// Message IDs of parents
    pub parents: Vec&lt;String&gt;,
    /// Solid status
    pub is_solid: bool,
    /// Should promote
    pub should_promote: Option&lt;bool&gt;,
    /// Should reattach
    pub should_reattach: Option&lt;bool&gt;,
    /// Referenced by milestone index
    pub referenced_by_milestone_index: Option&lt;u32&gt;,
    /// Ledger inclusion state
    pub ledger_inclusion_state: Option&lt;String&gt;,
}
<span class="boring">}
</span></code></pre></pre>
<h2 id="outputmetadata-1"><a class="header" href="#outputmetadata-1"><code>OutputMetadata</code></a></h2>
<p>The metadata of an output:</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>pub struct OutputMetadata {
    /// Message ID of the output
    pub message_id: Vec&lt;u8&gt;,
    /// Transaction ID of the output
    pub transaction_id: Vec&lt;u8&gt;,
    /// Output index.
    pub output_index: u16,
    /// Spend status of the output
    pub is_spent: bool,
    /// Corresponding address
    pub address: Address,
    /// Balance amount
    pub amount: u64,
}
<span class="boring">}
</span></code></pre></pre>
<h2 id="address-1"><a class="header" href="#address-1"><code>Address</code></a></h2>
<p>An Ed25519 address can be encoded in Bech32 or Hex, with Bech32 being preferred and also used in most functions.</p>
<pre><code class="language-Rust">pub enum Address {
    Ed25519(Ed25519Address),
}
</code></pre>
<h2 id="addressbalancepair-1"><a class="header" href="#addressbalancepair-1"><code>AddressBalancePair</code></a></h2>
<pre><code class="language-Rust">pub struct AddressBalancePair {
    /// Address, bech32 encoded
    pub address: String,
    /// Balance in the address
    pub balance: u64,
    /// If dust is allowed on the address
    pub dust_allowed: bool,
}
</code></pre>
<h2 id="milestone-1"><a class="header" href="#milestone-1"><code>Milestone</code></a></h2>
<p>A milestone metadata.</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>pub struct MilestoneMetadata {
    /// Milestone index
    pub milestone_index: u32,
    /// Milestone ID
    pub message_id: String,
    /// Timestamp
    pub timestamp: u64,
}
<span class="boring">}
</span></code></pre></pre>
<h2 id="api"><a class="header" href="#api"><code>Api</code></a></h2>
<pre><code class="language-Rust">pub enum Api {
    /// `get_health` API
    GetHealth,
    /// `get_info`API
    GetInfo,
    /// `get_tips` API
    GetTips,
    /// `post_message` API
    PostMessage,
    /// `post_message` API with remote pow
    PostMessageWithRemotePow,
    /// `get_output` API
    GetOutput,
    /// `get_milestone` API
    GetMilestone,
}
</code></pre>
<h2 id="brokeroptions-2"><a class="header" href="#brokeroptions-2"><code>BrokerOptions</code></a></h2>
<pre><code class="language-Rust">pub struct BrokerOptions {
    #[serde(default = &quot;default_broker_automatic_disconnect&quot;, rename = &quot;automaticDisconnect&quot;)]
    pub(crate) automatic_disconnect: bool,
    #[serde(default = &quot;default_broker_timeout&quot;)]
    pub(crate) timeout: std::time::Duration,
    #[serde(rename = &quot;maxReconnectionAttempts&quot;, default)]
    pub(crate) max_reconnection_attempts: usize,
}
</code></pre>
<h2 id="topic"><a class="header" href="#topic"><code>Topic</code></a></h2>
<p>A string with the exact MQTT topic to monitor, can have one of the following variations:</p>
<pre><code>milestones/latest
milestones/confirmed

messages
messages/referenced
messages/indexation/{index}
messages/{messageId}/metadata
transactions/{transactionId}/included-message

outputs/{outputId}

addresses/{address}/outputs
addresses/ed25519/{address}/outputs
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contribute-to-the-project"><a class="header" href="#contribute-to-the-project">Contribute to the project</a></h1>
<p><strong>Thanks for thinking about contributing to the project! We have the following ways that you can contribute.</strong></p>
<h2 id="join-the-iota-libraries-initiative"><a class="header" href="#join-the-iota-libraries-initiative">Join the IOTA Libraries Initiative</a></h2>
<p>The <a href="https://github.com/iota-community/X-Team_IOTA_Libraries">IOTA Libraries Initiative</a> is a collaborative effort to help improve the developer experience.</p>
<ul>
<li>Quality assurance and review</li>
<li>Documentation</li>
<li>Code samples</li>
</ul>
<p>If you'd like to get involved, join the #experience channel on <a href="https://discord.iota.org">Discord</a>.</p>
<h2 id="contribute-to-the-projects-github-repository"><a class="header" href="#contribute-to-the-projects-github-repository">Contribute to the project's GitHub repository</a></h2>
<p>All the code is open source and hosted on <a href="https://github.com/iotaledger/iota.rs">GitHub</a> where you can do the following:</p>
<ul>
<li>Report a bug</li>
<li>Suggest a new feature</li>
<li>Contribute to the documentation</li>
</ul>
<h2 id="contribute-to-the-documentation"><a class="header" href="#contribute-to-the-documentation">Contribute to the documentation</a></h2>
<p>This documentation is also open source and hosted on GitHub.</p>
<p>If you want to contribute new documentation or fix an error, see the <a href="https://github.com/iotaledger/documentation/blob/develop/.github/CONTRIBUTING.md">contribution guidelines</a>.</p>
<h2 id="share-your-knowledge"><a class="header" href="#share-your-knowledge">Share your knowledge</a></h2>
<p>Helping others is an important part of any open source ecosystem.</p>
<p>By sharing your knowledge with others, you can provide a lot of value to the community and maybe inspire someone else to learn and contribute.</p>
<p>Take a look at what discussions are going on in the #clients-discussion channel on <a href="https://discord.iota.org">Discord</a>.</p>
<p>Thanks :heart:</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                        
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                            </nav>

        </div>

        
        
                
        
        
                <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        
                        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
                
    </body>
</html>
